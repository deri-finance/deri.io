(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[23],{112:function(e,t,r){"use strict";r.r(t);var n=r(1501);r.d(t,"formatBytes32String",(function(){return n.a})),r.d(t,"parseBytes32String",(function(){return n.b}));var a=r(1503);r.d(t,"nameprep",(function(){return a.a}));var c=r(84);r.d(t,"_toEscapedUtf8String",(function(){return c.d})),r.d(t,"toUtf8Bytes",(function(){return c.f})),r.d(t,"toUtf8CodePoints",(function(){return c.g})),r.d(t,"toUtf8String",(function(){return c.h})),r.d(t,"Utf8ErrorFuncs",(function(){return c.b})),r.d(t,"Utf8ErrorReason",(function(){return c.c})),r.d(t,"UnicodeNormalizationForm",(function(){return c.a}))},1810:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=r(583);Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var o=r(52);Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var s=c(r(231));t.base64=s;var u=r(163);Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return u.Base58}});var d=r(9);Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return d.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return d.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return d.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return d.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return d.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return d.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return d.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return d.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return d.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return d.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return d.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return d.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return d.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return d.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return d.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return d.stripZeros}});var l=r(230);Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var b=r(82);Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return b.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return b.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return b.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return b.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return b.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return b.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return b.mnemonicToSeed}});var f=r(284);Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var j=r(55);Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return j.keccak256}});var m=r(15);Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return m.Logger}});var p=r(227);Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return p.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return p.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return p.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return p.sha512}});var x=r(262);Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return x.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return x.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return x.sha256}});var O=r(307);Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return O.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return O.shuffled}});var g=r(14);Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return g.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return g.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return g.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return g.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return g.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return g.shallowCopy}});var h=c(r(117));t.RLP=h;var y=r(105);Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return y.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return y.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return y.SigningKey}});var v=r(112);Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return v.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return v.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return v.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return v._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return v.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return v.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return v.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return v.Utf8ErrorFuncs}});var P=r(73);Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return P.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return P.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return P.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return P.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return P.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return P.TransactionTypes}});var k=r(198);Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return k.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return k.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return k.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return k.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return k.parseUnits}});var N=r(233);Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return N.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return N.verifyTypedData}});var S=r(85);Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return S._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return S.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return S.poll}});var C=r(227);Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return C.SupportedAlgorithm}});var E=r(112);Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return E.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return E.Utf8ErrorReason}})},227:function(e,t,r){"use strict";r.r(t);var n=r(254);r.d(t,"computeHmac",(function(){return n.a})),r.d(t,"ripemd160",(function(){return n.b})),r.d(t,"sha256",(function(){return n.c})),r.d(t,"sha512",(function(){return n.d}));var a=r(393);r.d(t,"SupportedAlgorithm",(function(){return a.a}))},230:function(e,t,r){"use strict";r.r(t);var n=r(194);r.d(t,"id",(function(){return n.a}));var a=r(225);r.d(t,"dnsEncode",(function(){return a.a})),r.d(t,"namehash",(function(){return a.d})),r.d(t,"isValidName",(function(){return a.c}));var c=r(1500);r.d(t,"messagePrefix",(function(){return c.b})),r.d(t,"hashMessage",(function(){return c.a})),r.d(t,"ensNormalize",(function(){return a.b}));var i=r(395);r.d(t,"_TypedDataEncoder",(function(){return i.a}))},2447:function(e,t,r){},2448:function(e,t,r){},2659:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(10),c=r(0),i=r.n(c),o=r(8),s=r(62),u=r(33),d=(r(2447),r(16)),l=r(22),b=r(244),f=r(32),j=r(97),m=r.n(j),p=r(574),x=r(91),O=r.n(x),g=r(143),h=r(1810),y=(r(2448),r(177)),v=r(68),P=r(3);function k(e){e.account;var t=e.contract,r=e.registerAfter,c=Object(o.useState)("DERI"),s=Object(a.a)(c,2),l=s[0],b=s[1],f=Object(o.useState)(""),j=Object(a.a)(f,2),m=j[0],p=j[1],x=Object(o.useState)(""),O=Object(a.a)(x,2),k=O[0],N=O[1],S=Object(o.useState)(""),C=Object(a.a)(S,2),E=C[0],R=C[1],T=Object(o.useState)(!1),F=Object(a.a)(T,2),U=F[0],w=F[1],A=Object(o.useState)(!0),D=Object(a.a)(A,2),B=D[0],_=D[1],I=Object(o.useState)(!0),M=Object(a.a)(I,2),L=M[0],z=M[1],H=Object(o.useState)(!0),K=Object(a.a)(H,2),Z=K[0],V=K[1],J=Object(o.useState)(""),W=Object(a.a)(J,2),G=W[0],Y=W[1],q={text:"Generate Code",icon:""},$={success:"Generate Code",error:"Transaction Failed"},Q=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=6;break}return e.next=3,t.recruiterAddresses(k);case 3:"0x0000000000000000000000000000000000000000"!==e.sent?z(!0):(z(!1),Y("Invalid recruiter code")),w(!1);case 6:case"end":return e.stop()}}),e)}))),[k,t]),X=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=6;break}return e.next=3,t.brokerAddresses(E);case 3:"0x0000000000000000000000000000000000000000"===e.sent?_(!0):(_(!1),Y("Invalid broker code")),w(!1);case 6:case"end":return e.stop()}}),e)}))),[E,t]),ee=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l&&m&&B)){e.next=20;break}return e.prev=1,e.next=4,t.registerBroker(m,l);case 4:n=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",!1);case 10:if(!n||!n.hash){e.next=14;break}v.a.emit(d.q,{title:q,content:$,hash:n.hash}),e.next=15;break;case 14:return e.abrupt("return",!1);case 15:return e.next=17,n.wait();case 17:a=e.sent,console.log("receipt",a),a&&(console.log("receipt",a),a&&a.transactionHash&&(c=a.transactionHash,a.status?(r(),Object(g.a)("register"),v.a.emit(d.r,{title:q,content:$,context:{success:!0,hash:c,error:"error"}})):v.a.emit(d.r,{title:q,content:$,context:{success:(!1).success,hash:c,error:"error"}})));case 20:case"end":return e.stop()}}),e,null,[[1,7]])}))),[l,m,t]);return Object(o.useEffect)((function(){E&&(w(!0),X())}),[E]),Object(o.useEffect)((function(){k&&(w(!0),Q())}),[k]),Object(o.useEffect)((function(){V(!(B&&!U&&m&&l&&L))}),[B,U,m,l]),Object(P.jsxs)("div",{className:"register-modal-box",children:[Object(P.jsxs)("div",{className:"register-modal-header",children:["Generate Code",Object(P.jsx)(u.a,{token:"close-modal-icon",onClick:function(){return Object(g.a)("register")}})]}),Object(P.jsxs)("div",{className:"register-modal-info",children:[Object(P.jsx)("div",{children:Object(P.jsx)("input",{placeholder:"ENTER YOUR CODE",value:m,onChange:function(e){var t=e.target.value;if(t){var r=/^[a-zA-Z]+$/.test(t);if(console.log(r),!r)return!1;var n=Object(h.toUtf8Bytes)(t),a=Object(h.keccak256)(n);R(a)}console.log(t),p(t)}})}),Object(P.jsx)("div",{className:"register-title",children:"Broker Recruiter Code (Required)"}),Object(P.jsx)("div",{children:Object(P.jsx)("input",{placeholder:"ENTER YOUR CODE",value:l,onChange:function(e){var t=e.target.value;if(console.log(t),t){t=t.replace("/^[A-Za-z]+$/g","");var r=Object(h.toUtf8Bytes)(t),n=Object(h.keccak256)(r);N(n)}b(t)}})}),Object(P.jsxs)("div",{className:"confirm-btn",children:[Object(P.jsx)("div",{className:"noLegitimateText",children:G}),Object(P.jsx)(y.a,{width:"100%",disabled:Z,label:U?"Checking...":"CONFIRM",onClick:ee})]})]})]})}var N=r(197),S=r(407);t.default=Object(s.b)("wallet","intl")(Object(s.c)((function(e){var t=e.wallet,r=e.intl,c=Object(o.useState)("USDC"),s=Object(a.a)(c,2),d=s[0],j=(s[1],Object(N.a)(r.dict,"header")),x=Object(o.useState)("broker"),h=Object(a.a)(x,2),y=h[0],v=h[1],C=Object(o.useState)({}),E=Object(a.a)(C,2),R=E[0],T=E[1],F=Object(o.useState)(""),U=Object(a.a)(F,2),w=U[0],A=U[1],D=Object(o.useState)({}),B=Object(a.a)(D,2),_=B[0],I=B[1],M=Object(o.useState)(0),L=Object(a.a)(M,2),z=L[0],H=L[1],K=Object(o.useState)(0),Z=Object(a.a)(K,2),V=Z[0],J=Z[1],W=Object(o.useState)(!1),G=Object(a.a)(W,2),Y=G[0],q=G[1],$=Object(o.useState)(""),Q=Object(a.a)($,2),X=Q[0],ee=Q[1],te=Object(o.useState)(""),re=Object(a.a)(te,2),ne=re[0],ae=re[1],ce=Object(o.useState)(""),ie=Object(a.a)(ce,2),oe=ie[0],se=ie[1],ue={56:"0x9A4f119904C6926EFE76F64BB70E35198a4dFF5f",42161:"0x772Fc767b6ff9841175922dE11DCaF9365091d2C"},de={56:56,42161:42161},le=de[t.detail.chainId]?de[t.detail.chainId]:56,be=ue[t.detail.chainId]?ue[t.detail.chainId]:ue[56],fe=Object(b.a)("RebateImplementation",le,be),je=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe||!t.detail.account){e.next=12;break}if("broker"!==y){e.next=8;break}return e.next=4,fe.brokerClaimed(t.detail.account);case 4:(r=e.sent)&&(r=f.a.from(r._hex).toString()/Math.pow(10,18),H(r)),e.next=12;break;case 8:return e.next=10,fe.recruiterClaimed(t.detail.account);case 10:(r=e.sent)&&(r=f.a.from(r._hex).toString()/Math.pow(10,18),H(r));case 12:case"end":return e.stop()}}),e)}))),[fe,t.detail.account,y]),me=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe||!t.detail.account){e.next=11;break}if("broker"!==y){e.next=7;break}return e.next=4,fe.brokerInfos(t.detail.account);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,fe.recruiterInfos(t.detail.account);case 9:r=e.sent;case 10:r&&(n={code:r.code,id:r.id},T(n));case 11:case"end":return e.stop()}}),e)}))),[fe,t.detail.account,y]),pe=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe||!t.detail.account){e.next=11;break}if("broker"!==y){e.next=7;break}return e.next=4,fe.brokerFees(t.detail.account);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,fe.recruiterFees(t.detail.account);case 9:r=e.sent;case 10:r&&(r=f.a.from(r._hex).toString()/Math.pow(10,18),se(r));case 11:case"end":return e.stop()}}),e)}))),[fe,t.detail.account,y]),xe=function(){me(),he(),pe(),je()},Oe=Object(o.useCallback)((function(){t.detail.account&&fe&&Object(g.b)(Object(P.jsx)(k,{account:t.detail.account,registerAfter:xe,contract:fe,accountType:y}),{key:"register",fading:!0,style:{background:"rgba(0, 0, 0, 0.4)",zIndex:2}})}),[t.detail.account,fe,y]),ge=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail.account){e.next=6;break}return e.next=3,m.a.get("https://referral.deri.io/referral_count",{params:{chainId:t.detail.chainId,account:t.detail.account,role:y}});case 3:r=e.sent,console.log("getTotalUsers",r),r.data&&ee(r.data.count);case 6:case"end":return e.stop()}}),e)}))),[y,t.detail.account,t.detail.chainId]),he=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe||!t.detail.account){e.next=11;break}if("broker"!==y){e.next=7;break}return e.next=4,fe.getBrokerRebate(t.detail.account);case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,fe.getRecruiterRebate(t.detail.account);case 9:r=e.sent;case 10:r&&(console.log("getBrokerReabate",r),n={currentRate:f.a.from("broker"===y?r.currentBrokerRate._hex:r.currentRecruiterRate._hex).toNumber()/Math.pow(10,18),totalRebate:f.a.from("broker"===y?r.totalBrokerRebate._hex:r.totalRecruiterRebate._hex).toString()/Math.pow(10,18)},a="",.2===n.currentRate?a="one":n.currentRate>.2&&n.currentRate<.24?a="two":n.currentRate>=.24&&n.currentRate<.28?a="three":n.currentRate>=.28&&n.currentRate<.32?a="four":n.currentRate>=.32&&n.currentRate<.4?a="five":n.currentRate>=.4&&(a="six"),ae(a),I(n));case 11:case"end":return e.stop()}}),e)}))),[fe,t.detail.account,y]),ye=Object(o.useCallback)(Object(n.a)(i.a.mark((function e(){var t,r,n,a,c,o,s,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe){e.next=5;break}return e.next=3,fe.updatedTimestamp();case 3:(t=e.sent)&&(t=f.a.from(t._hex).toString()/Math.pow(10,6),t*=1e3,r=new Date(t),n=r.getUTCFullYear(),a=r.getUTCMonth()+1,c=r.getUTCDate(),o=r.getUTCHours(),s=r.getUTCMinutes(),u=r.getUTCSeconds(),d=" ".concat(a,".").concat(c,".").concat(n," ").concat(o,":").concat(s,":").concat(u),A(d));case 5:case"end":return e.stop()}}),e)}))),[fe]);return Object(o.useEffect)((function(){fe&&t.detail.account&&(me(),he(),pe(),je())}),[fe,t.detail.account,y]),Object(o.useEffect)((function(){if(_.totalBrokerRebate&&z){var e=Object(l.a)(_.totalBrokerRebate).miuns(z).toNumber();J(e)}}),[z,_.totalBrokerRebate]),Object(o.useEffect)((function(){fe&&ye()}),[fe]),Object(o.useEffect)((function(){t.detail.account&&ge()}),[t.detail.account,t.detail.chainId,y]),Object(P.jsx)("div",{className:"rebate-box",children:Object(P.jsxs)("div",{className:"rebate-box-info",children:[Object(P.jsxs)("div",{className:"rebate-box-info-titile",children:[Object(P.jsx)("span",{children:"Referrals"}),Object(P.jsx)("span",{className:"rebate-des",children:"Earn rebates through the DERI referral program. For more information, please read the referral program details."})]}),Object(P.jsxs)("div",{className:"rebate-box-header",children:[Object(P.jsxs)("div",{className:"rebate-avatar",children:[Object(P.jsx)(u.a,{token:"rebate"}),ne?Object(P.jsx)(u.a,{token:"explained-".concat(ne),className:"explained-logo"}):null]}),Object(P.jsxs)("div",{className:"rebate-account-reward-info",children:[Object(P.jsxs)("div",{className:"rebate-reward",children:["You have ",Object(P.jsxs)("span",{className:O()("reward-btn",{"no-reward":0===V}),children:[V.toFixed(2)," ",Object(P.jsx)(u.a,{token:"deri-white"})]})," unclaimed ",d," reward"]}),Object(P.jsxs)("div",{className:"rebate-code",children:["Referral Code:",R.code?Object(P.jsxs)("div",{className:"code-hash-copy",children:[Object(P.jsxs)("div",{className:"code-hash",children:[R.code,Object(P.jsx)(u.a,{token:"copy-code",onClick:function(){return function(e){var t="https://deri.io/#/trade/futures?ref=".concat(e);navigator.clipboard.writeText(t),q(!0),setTimeout((function(){return q(!1)}),5e3)}(R.code)}})]}),Y?Object(P.jsxs)("div",{className:"copied-box",children:[Object(P.jsx)(u.a,{token:"copied-logo"}),"Copied"]}):null]}):"broker"===y?t.isConnected()?Object(P.jsx)("div",{className:"no-code-hash",onClick:Oe,children:"Generate  Code"}):Object(P.jsx)(S.a,{lang:j,isShowWalletModal:!1}):Object(P.jsxs)("a",{className:"no-recruiter-code-hash",target:"_blank",href:"https://forms.gle/BRWmZbzbexG9L1LJ6",rel:"noreferrer",children:["APPLY ",Object(P.jsx)(u.a,{token:"go-recruiter"})]})]})]}),Object(P.jsx)("div",{className:"broker-recruiter",children:"broker"===y?Object(P.jsx)("div",{className:"broker-type",onClick:function(){return v("broker_recruiter")},children:"BROKER"}):Object(P.jsxs)("div",{className:"recruiter-type",onClick:function(){return v("broker")},children:["BROKER",Object(P.jsx)("br",{}),"RECRUITER"]})})]}),Object(P.jsxs)("div",{className:"rebate-box-use-info",children:[Object(P.jsxs)("div",{className:"rebate-box-user-info-header",children:[Object(P.jsxs)("div",{className:"rebate-box-user-info-title",children:["My Referral Stats ",Object(P.jsxs)("span",{children:["\uff08last updated: ",w," UTC\uff09"]})]}),Object(P.jsx)(S.a,{lang:j,isShowWalletModal:!1})]}),Object(P.jsxs)("div",{className:"rebate-box-use-info-box",children:[Object(P.jsx)("div",{className:"total-users-bg",children:Object(P.jsxs)("div",{className:"total-users-box",children:[Object(P.jsx)(u.a,{token:"rebate-total-users"}),Object(P.jsxs)("div",{className:"total-users-box-info",children:[Object(P.jsx)("div",{className:"total-users-box-info-num",children:Object(P.jsx)(p.a,{value:X})}),Object(P.jsx)("div",{className:"total-users-box-info-title",children:"Total Users"})]})]})}),Object(P.jsx)("div",{className:"total-fee-bg",children:Object(P.jsxs)("div",{className:"total-fee-box",children:[Object(P.jsx)(u.a,{token:"rebate-total-fee"}),Object(P.jsxs)("div",{className:"total-fee-box-info",children:[Object(P.jsx)("div",{className:"total-fee-box-info-num",children:Object(P.jsx)(p.a,{value:oe,decimalScale:0===+oe?0:2})}),Object(P.jsx)("div",{className:"total-fee-box-info-title",children:"Total Transaction Fee"})]})]})}),Object(P.jsx)("div",{className:"total-rewards-bg",children:Object(P.jsxs)("div",{className:"total-rewards-box",children:[Object(P.jsx)(u.a,{token:"rebate-total-rewards"}),Object(P.jsxs)("div",{className:"total-rewards-box-info",children:[Object(P.jsx)("div",{className:"total-rewards-box-info-num",children:Object(P.jsx)(p.a,{value:_.totalRebate,decimalScale:0===+_.totalRebate?0:2})}),Object(P.jsx)("div",{className:"total-rewards-box-info-title",children:"Total Rewards"})]})]})})]})]}),Object(P.jsxs)("div",{className:"rebate-box-explained",children:[Object(P.jsx)("div",{className:"rebate-box-explained-title",children:"Tiers Explained"}),Object(P.jsxs)("div",{className:"rebate-box-explained-list",children:[Object(P.jsxs)("div",{className:"rebate-box-explained-list-box rebate-explained-margin-box",children:[Object(P.jsx)("div",{className:"explained-box",children:Object(P.jsxs)("div",{className:"explained-box-info explained-one",children:[Object(P.jsx)("div",{className:"explained-logo",children:Object(P.jsx)(u.a,{token:"explained-one"})}),Object(P.jsxs)("div",{className:"explained-text",children:[Object(P.jsx)("div",{className:"explained-rate",children:"20% commission rate"}),Object(P.jsx)("div",{className:"explained-range-usd",children:"For transaction fee range of 10-1000 USD"})]})]})}),Object(P.jsx)("div",{className:"explained-box",children:Object(P.jsxs)("div",{className:"explained-box-info explained-two",children:[Object(P.jsx)("div",{className:"explained-logo",children:Object(P.jsx)(u.a,{token:"explained-two"})}),Object(P.jsxs)("div",{className:"explained-text",children:[Object(P.jsx)("div",{className:"explained-rate",children:"20% - 24% commission rate"}),Object(P.jsx)("div",{className:"explained-range-usd",children:"For transaction fee range of 1000-2000 USD"})]})]})})]}),Object(P.jsxs)("div",{className:"rebate-box-explained-list-box",children:[Object(P.jsx)("div",{className:"explained-box",children:Object(P.jsxs)("div",{className:"explained-box-info explained-three",children:[Object(P.jsx)("div",{className:"explained-logo",children:Object(P.jsx)(u.a,{token:"explained-three"})}),Object(P.jsxs)("div",{className:"explained-text",children:[Object(P.jsx)("div",{className:"explained-rate",children:"24% - 28% commission rate"}),Object(P.jsx)("div",{className:"explained-range-usd",children:"For transaction fee range of 2000-4000 USD"})]})]})}),Object(P.jsx)("div",{className:"explained-box",children:Object(P.jsxs)("div",{className:"explained-box-info explained-four",children:[Object(P.jsx)("div",{className:"explained-logo",children:Object(P.jsx)(u.a,{token:"explained-four"})}),Object(P.jsxs)("div",{className:"explained-text",children:[Object(P.jsx)("div",{className:"explained-rate",children:"28% - 32% commission rate"}),Object(P.jsx)("div",{className:"explained-range-usd",children:"For transaction fee range of 4000-6000 USD"})]})]})})]}),Object(P.jsxs)("div",{className:"rebate-box-explained-list-box",children:[Object(P.jsx)("div",{className:"explained-box",children:Object(P.jsxs)("div",{className:"explained-box-info explained-five",children:[Object(P.jsx)("div",{className:"explained-logo",children:Object(P.jsx)(u.a,{token:"explained-five"})}),Object(P.jsxs)("div",{className:"explained-text",children:[Object(P.jsx)("div",{className:"explained-rate",children:"32%-40% commission rate"}),Object(P.jsx)("div",{className:"explained-range-usd",children:"For transaction fee range of 6000-10000 USD"})]})]})}),Object(P.jsx)("div",{className:"explained-box",children:Object(P.jsxs)("div",{className:"explained-box-info explained-six",children:[Object(P.jsx)("div",{className:"explained-logo",children:Object(P.jsx)(u.a,{token:"explained-six"})}),Object(P.jsxs)("div",{className:"explained-text",children:[Object(P.jsx)("div",{className:"explained-rate",children:"40% commission rate"}),Object(P.jsx)("div",{className:"explained-range-usd",children:"For transaction fee range of 10000 and above USD"})]})]})})]})]})]})]})})})))},307:function(e,t,r){"use strict";r.r(t);var n=r(282);r.d(t,"randomBytes",(function(){return n.a}));var a=r(1502);r.d(t,"shuffled",(function(){return a.a}))},583:function(e,t,r){"use strict";r.r(t);var n=r(103);r.d(t,"ConstructorFragment",(function(){return n.a})),r.d(t,"ErrorFragment",(function(){return n.b})),r.d(t,"EventFragment",(function(){return n.c})),r.d(t,"Fragment",(function(){return n.e})),r.d(t,"FunctionFragment",(function(){return n.f})),r.d(t,"ParamType",(function(){return n.g})),r.d(t,"FormatTypes",(function(){return n.d}));var a=r(390);r.d(t,"AbiCoder",(function(){return a.a})),r.d(t,"defaultAbiCoder",(function(){return a.b}));var c=r(1499);r.d(t,"Interface",(function(){return c.b})),r.d(t,"Indexed",(function(){return c.a}));var i=r(75);r.d(t,"checkResultErrors",(function(){return i.d})),r.d(t,"LogDescription",(function(){return c.c})),r.d(t,"TransactionDescription",(function(){return c.d}))}}]);
//# sourceMappingURL=23.4449b8af.chunk.js.map