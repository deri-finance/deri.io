{"version":3,"sources":["pages/Governance/img/down.svg","pages/Governance/img/go.svg","pages/Governance/img/check.svg","pages/Governance/img/governance-discussion.svg","pages/Governance/img/pool-votes.svg","pages/Governance/img/executive-votes.svg","pages/Governance/Governance.js"],"names":["Governance","lang","getLang","useState","inProgress","setInProgress","executed","setExecuted","setSumPower","winner","setWinner","winnerOption","setWinnerOption","activePollVotes","setActivePollVotes","getProposals","a","apiProxy","request","res","count","getVotingResult","ApiProxy","sum","option_1","option_2","console","log","winnerPower","winnerOp","useEffect","className","rel","target","href","src","down","alt","go","discussion","pollVotes","onClick","anchorName","anchorElement","document","getElementById","scrollIntoView","scrollToAnchor","executive","id","check","to","value","toFixed"],"mappings":"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","file":"static/js/31.89f3d22b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/down.3d69afba.svg\";","export default __webpack_public_path__ + \"static/media/go.1e56dece.svg\";","export default __webpack_public_path__ + \"static/media/check.142188b4.svg\";","export default __webpack_public_path__ + \"static/media/governance-discussion.7afb067b.svg\";","export default __webpack_public_path__ + \"static/media/pool-votes.d93e23cf.svg\";","export default __webpack_public_path__ + \"static/media/executive-votes.794e6e67.svg\";","\nimport React, { useState, useEffect } from 'react'\nimport down from './img/down.svg'\nimport go from './img/go.svg'\nimport check from './img/check.svg'\nimport discussion from './img/governance-discussion.svg'\nimport ApiProxy from '../../model/ApiProxy'\nimport pollVotes from './img/pool-votes.svg'\nimport executive from './img/executive-votes.svg'\nimport apiProxy from '../../model/ApiProxy'\nimport './governance.less'\nimport { Link } from 'react-router-dom'\nexport default function Governance({ lang, getLang }) {\n  const [inProgress, setInProgress] = useState(true)\n  const [executed, setExecuted] = useState(true)\n  const [sumPower, setSumPower] = useState(0)\n  const [winner, setWinner] = useState(0)\n  const [winnerOption, setWinnerOption] = useState()\n  const [activePollVotes, setActivePollVotes] = useState('')\n  const scrollToAnchor = (anchorName) => {\n    if (anchorName) {\n      let anchorElement = document.getElementById(anchorName);\n      if (anchorElement) {\n        anchorElement.scrollIntoView()\n      }\n    }\n  }\n  const getProposals = async () => {\n    let res = await apiProxy.request('getProposals', [])\n    if (res) {\n      setActivePollVotes(res.count)\n    }\n  }\n  const getVotingResult = async () => {\n    let res = await ApiProxy.request(\"getVotingResult\")\n    let sum = (+res.option_1) + (+res.option_2)\n    console.log(\"getVotingResult\", res)\n    let winnerPower = (+res.option_1) > (+res.option_2) ? res.option_1 : res.option_2\n    let winnerOp = (+res.option_1) > (+res.option_2) ? \"1\" : \"2\"\n    setSumPower(sum)\n    setWinnerOption(winnerOp)\n    setWinner(winnerPower)\n  }\n\n  useEffect(() => {\n    getProposals()\n    getVotingResult()\n  }, [])\n  return (\n    <div className='governance-box'>\n      <div className='governance-box-info'>\n        <div className='governance-title'>\n          {lang['title']}\n        </div>\n        <div className='governance-des'>\n          {lang['governance-des']}\n        </div>\n        <a rel='noreferrer' target=\"_blank\" href='https://discord.gg/kb8ZbYgp8M'>\n          <div className='active-pool-votes-num'>\n            <div className={activePollVotes ? 'active-num' : 'no-active-num'}>{activePollVotes}</div> {lang['active-pool-votes']}\n          </div>\n        </a>\n        <div className='active-esectutive-votes-num'>\n          <div className='active-num'>1</div>\n          {lang['active-esectutive-votes']}\n        </div>\n        <div className='down'>\n          <img src={down} alt='down' />\n        </div>\n        <div className='how-to-participate'>\n          {lang['how-to-participate']}\n        </div>\n        <div className='participate-step'>\n          <a rel='noreferrer' target=\"_blank\" href='https://discord.gg/kb8ZbYgp8M'>\n            <div className='step'>\n              <div className='step-one-info'>\n                <div className='hover-go'>\n                  <img src={go} alt='go' />\n                </div>\n                <div className='step-logo'>\n                  <img src={discussion} alt='discussion' />\n                </div>\n                <div className='step-text'>\n                  {lang['governance-discussion']}\n                </div>\n              </div>\n              <div className='hover'>\n                <div className='san'></div>\n                {lang['governance-discussion-hover']}\n              </div>\n            </div>\n          </a>\n          <a rel='noreferrer' target=\"_blank\" href='https://snapshot.org/#/deri.eth'>\n            <div className='step'>\n              <div className='step-one-info'>\n                <div className='hover-go'>\n                  <img src={go} alt='go' />\n                </div>\n                <div className='step-logo'>\n                  <img src={pollVotes} alt='discussion' />\n                </div>\n                <div className='step-text'>\n                  {lang['poll-votes']}\n                </div>\n              </div>\n              <div className='hover'>\n                <div className='san'></div>\n                {lang['poll-votes-hover']}\n              </div>\n            </div>\n          </a>\n\n          <div className='step' onClick={() => { scrollToAnchor(\"EXECUTIVEVOTES\") }}>\n            <div className='step-one-info'>\n              <div className='hover-go'>\n              </div>\n              <div className='step-logo'>\n                <img src={executive} alt='discussion' />\n              </div>\n              <div className='step-text'>\n                {lang['executive-votes']}\n              </div>\n            </div>\n            <div className='hover'>\n              <div className='san'></div>\n              {lang['executive-votes-hover']}\n            </div>\n          </div>\n        </div>\n        <div id='EXECUTIVEVOTES' className='executive-votes'>\n          {lang['executive-votes-l']}\n        </div>\n        <div className='dip-list'>\n          <div className='in-progress-executed'>\n            <div className={inProgress ? 'in-progress check' : 'in-progress'} onClick={() => setInProgress(!inProgress)}>\n              {lang['in-progress']}\n              {inProgress ? <img src={check} alt='' /> : ''}\n            </div>\n            <div className={executed ? 'executed check' : 'executed'} onClick={() => setExecuted(!executed)}>\n              {lang['executed']}\n              {executed ? <img src={check} alt='' /> : ''}\n            </div>\n          </div>\n          <div className='dip-list-box'>\n            {inProgress && <Link to='/dipthree'>\n              <div className='dip-list-box-info'>\n                <div className='dip-list-title'>\n                  <div className='title-text'>\n                    {lang['dip']}-003\n                  </div>\n                  <div className='dip-progress'>\n                    <div className='progress-bg'></div>  {lang['in-progress']}\n                  </div>\n                </div>\n                <div className='dip-list-des'>\n                  Vote for changing the DERI burning mechanism\n                </div>\n                <div className='leading-option'>\n                  <span>\n                    {lang['leading-option']}\n                    <span className='winner-option'>\n                      {winnerOption ? winnerOption === \"2\" ? \"Burn to mining vault (the status quo)\" : \"Remove from circulation Forever\" : \"\"}\n                    </span>\n                    {getLang('dip-leading-option', { value: (+winner).toFixed(0) })}\n                  </span>\n                </div>\n                <div className='dip-time'>\n                  2022 Sat. 28th May 4:00 AM UTC\n                </div>\n              </div>\n            </Link>}\n            {executed && <><Link to='/diptwo'>\n              <div className='dip-list-box-info'>\n                <div className='dip-list-title'>\n                  <div className='title-text'>\n                    {lang['dip']}-002\n                  </div>\n                  <div className='dip-executed'>\n                    <div className='executed-bg'></div>  {lang['executed']}\n                  </div>\n                </div>\n                <div className='dip-list-des'>\n                  {lang['dip-two-des']}\n                </div>\n                <div className='leading-option'>\n                  <span>\n                    {lang['leading-option']}\n                    <span className='winner-option'>\n                      {lang['dip-two-winner']}\n                    </span>\n                    {getLang('dip-leading-option', { value: \"1,440,582 \" })}\n                  </span>\n                </div>\n                <div className='dip-time'>\n                  {lang['dip-two-time']}\n                </div>\n              </div>\n            </Link>\n              <Link to='/dipone'>\n                <div className='dip-list-box-info'>\n                  <div className='dip-list-title'>\n                    <div className='title-text'>\n                      {lang['dip']}-001\n                    </div>\n                    <div className='dip-executed'>\n                      <div className='executed-bg'></div>  {lang['executed']}\n                    </div>\n                  </div>\n                  <div className='dip-list-des'>\n                    {lang['dip-one-des']}\n                  </div>\n                  <div className='leading-option'>\n                    <span>\n                      {lang['leading-option']}\n                      <span className='winner-option'>\n                        {lang['dip-one-winner']}\n                      </span>\n                      {getLang('dip-leading-option', { value: \"334,253\" })}\n                    </span>\n                  </div>\n                  <div className='dip-time'>\n                    {lang['dip-one-time']}\n                  </div>\n                </div>\n              </Link></>}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"sourceRoot":""}