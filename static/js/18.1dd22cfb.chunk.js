(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1468:function(e,t,a){"use strict";var n,i,c=a(26),s=a(371),r=a(70),o=a(12),l=a(76),d=a(9),b=(a(93),a(1508)),u=a(65),j=a(23),p=a(20),x=a(6),h=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],f=Object(u.a)(b.a)(n||(n=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),m=u.a.span(i||(i=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(x.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),n=a[0],i=a[1],l=Object(d.useState)(!0),b=Object(o.a)(l,2),u=b[0],O=b[1],v=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,r=void 0===n?"--":n,o=Object(s.a)(e,h);if(v())o.decimalScale>0&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&!t&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.g)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=/e(\+|=)?/.test(o.value)?Object(j.P)(o.value):""+o.value,o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),i(Object(x.jsx)(f,Object(c.a)(Object(c.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var l=e.width,d=e.height;i(Object(x.jsx)(m,{className:"loading-line",width:l,height:d})),a&&O(!1)}var b=window.setTimeout((function(){v()||i(r)}),r===o.value?0:6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1503:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(12),c=a(76),s=a(9),r=a(218),o=a(65),l=a(6),d=o.a.div(n||(n=Object(c.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function b(e){var t=e.groups,a=void 0===t?["25%","50%","75%","100%"]:t,n=e.selectedBorderColor,c=e.defaultBorderColor,o=e.onChange,b=e.defaultValue,u=e.outline,j=e.outlineColor,p=e.width,x=e.height,h=e.bgColor,f=e.className,m=e.disabled,O=e.canUnselected,v=void 0===O||O,g=Object(s.useState)(b),y=Object(i.a)(g,2),k=y[0],w=y[1];return Object(s.useEffect)((function(){w(b)}),[b]),Object(l.jsx)(d,{className:f,children:a.map((function(e,t){return Object(l.jsx)(r.a,{label:e,selectedBorderColor:n,isSelected:e===k,disabled:m,outline:u,bgColor:h,className:"g-button",defaultBorderColor:c,outlineColor:j,width:p,height:x,onClick:function(){var t;(t=e)!==k?(w(t),o&&o(t)):v&&t===k?(w(""),o&&o("")):w(t)}},t)}))})}},1520:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,i=a(26),c=a(76),s=a(9),r=a(65),o=a(20),l=a(289),d=a(6),b=r.a.div(n||(n=Object(c.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function u(e){var t=e.value,a=e.unit,n=e.unitTip,c=e.max,r=e.step,u=e.onChange,j=e.styles,p=void 0===j?{}:j,x=e.disableNegtive,h=void 0===x||x,f=e.focus,m=e.placeholder,O=void 0===m?"":m,v=e.unitPadding,g=void 0===v?"24px":v,y=e.minTradeVolume,k=e.decimal,w=void 0===k?2:k,N=e.readOnly,S=e.inputWidth,T=void 0===S?"50%":S,C=e.inputHeight,I=void 0===C?"56px":C,A=e.className,B=e.disabled,F=void 0!==B&&B,D=e.onBlur,E=e.onFocus,q=Object(s.useRef)(null);return Object(s.useEffect)((function(){q.current.setCustomValidity(""),q.current&&f&&q.current.focus()}),[f]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:I,className:A,style:Object(i.a)({},p),children:[Object(d.jsx)("input",{placeholder:O,type:"number",title:"",onKeyPress:function(e){46!==e.which&&8!==e.which&&0!==e.which&&(e.which<48||e.which>57)&&e.preventDefault()},onBlur:D,onFocus:E,disabled:F,value:t,step:isNaN(r)?0:r,ref:q,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),n=e.target.value;if(c&&Object(o.bg)(n).gt(c))u&&u(c);else if(h&&(n<0||isNaN(n)))u&&u("");else if(n){if(y>=1)if(n/y>=1)u&&u(Object(o.bg)(n).div(y).integerValue()*y);else u&&u(n*y);else if(/\d+\./.test(n)&&!a.test(n)){var i=n.substring(0,n.indexOf(".")+1+w);u&&u(i)}else u&&u(n)}else u&&u(n)},readOnly:N}),Object(d.jsx)("div",{className:"unit",children:n?Object(d.jsx)(l.a,{tip:n,text:a}):a})]})}},1528:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(12),c=a(76),s=a(65),r=a(9),o=a(33),l=a(6),d=s.a.div(n||(n=Object(c.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-title{\n      position: relative;\n    }\n    .bet-new{\n      width:30px;\n      height:14px;\n      border-radius:20px;\n      font-size:10px;\n      display: flex;\n      background-color: #CD7A37;\n      color:#E0ECFF;\n      position: relative;\n      top: -6px;\n      align-items: center;\n      text-transform: capitalize;\n      justify-content: center;\n    }\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      img{\n        margin-right:","px\n      }\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.iconMarginRight}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function b(e){var t=e.tabSet,a=e.inactiveBgColor,n=e.iconMarginRight,c=e.activeBgColor,s=(e.icon,e.className),b=e.width,u=void 0===b?238:b,j=e.height,p=void 0===j?47:j,x=e.size,h=void 0===x?16:x,f=e.borderTop,m=void 0!==f&&f,O=e.borderBottom,v=void 0!==O&&O,g=e.divider,y=void 0!==g&&g,k=e.activeIndex,w=void 0===k?0:k,N=Object.keys(t),S=Object(r.useState)(N[w]),T=Object(i.a)(S,2),C=T[0],I=T[1],A=Object(r.useState)(),B=Object(i.a)(A,2),F=B[0],D=B[1],E=Object(r.useState)(),q=Object(i.a)(E,2),L=q[0],R=q[1],_=Object(r.useState)(),U=Object(i.a)(_,2),P=U[0],H=U[1],M=Object(r.useState)(),V=Object(i.a)(M,2),$=V[0],z=V[1],Z=Object(r.useState)(),W=Object(i.a)(Z,2),K=W[0],X=W[1],G=Object(r.useState)(),Y=Object(i.a)(G,2),Q=Y[0],J=Y[1];return Object(r.useEffect)((function(){var e=Object.keys(t);I(e[w])}),[t,w]),Object(r.useEffect)((function(){var e=Object.keys(t),a=C||e[w];if(t[a]){D(t[a].style);var n=m?"border-top:1px solid ".concat(t[a].borderColor):"border-top:0",i=v?"border-bottom:1px solid ".concat(t[a].borderColor):"border-bottom:0",c=y?"border-left:1px solid ".concat(t[a].borderColor):"border-left:0",s=y?"border-right:1px solid ".concat(t[a].borderColor):"border-right:0",r=t[a].fontColor?t[a].fontColor:"#FFFFFF";R(n),H(c),z(i),X(s),J(r)}}),[t,C]),Object(l.jsxs)("div",{style:F,className:s,children:[Object(l.jsx)(d,{className:"tab-header",iconMarginRight:n,width:u,height:p,activeFontColor:Q,activeBgColor:c,inactiveBgColor:a,size:h,borderT:L,borderB:$,borderL:P,borderR:K,children:N.map((function(e,a){return Object(l.jsxs)("div",{className:"tab-title ".concat(t[e].direction||t[e].className,e===C?" active":" inactive"),onClick:function(t){return function(e,t){I(e)}(e)},children:[t[e].icon?Object(l.jsx)(o.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===C?t[e].icon:t[e].inicon}):"","  ",e,t[e].isBet?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("span",{className:"bet-new",children:"Beta"})}):null]},a)}))}),t[C]?t[C].content:""]})}},1551:function(e,t,a){"use strict";var n=a(23),i=a(1509),c=a(65),s=(a(289),a(163)),r=a(6);const o=c.a.div`
&.custom-tooltip {
  padding: 0 0 0 10px;
  color: #E0ECFF;
  z-index: 2;
  .tip-title {
    font-size: 16px;
    color: #E0ECFF;
  }
  .value {
    font-size: 32px;
    font-weight : 700;
    font-family : Barlow;
  }
  .date {
    margin-top: 4px;
    margin-left: 4px;
    font-size: 14px;
    height: 14px;
  }
  .text{
    border-bottom : 1px dashed #93A1B8;
    width : max-content;
    cursor : pointer;
    display:block
  }
}
`;t.a=e=>{let{title:t,active:a,payload:c,label:l,lastItem:d,decimalScale:b=2,tip:u,id:j=String((new Date).getTime())+Math.random(),isTime:p=!1}=e;return a&&c&&c.length?Object(r.jsxs)(o,{className:"custom-tooltip",children:[Object(r.jsx)("div",{className:"tip-title",children:t}),Object(r.jsxs)("div",{className:"value",children:[c[0].payload.name&&c[0].payload.name,u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{"data-for":j,"data-tip":u,className:"text",children:Object(n.f)(c[0].payload.value,b)}),Object(r.jsxs)(s.a,{id:j,width:400,padding:"12",place:"bottom",children:[" ",u," "]})]}):Object(n.f)(c[0].payload.value,b)]}),Object(r.jsx)("div",{className:"date",children:c[0].payload.time&&`${Object(i.a)(new Date(1e3*c[0].payload.time),"UTC:yyyy-mm-dd")}(UTC)`})]}):t&&d.value?Object(r.jsxs)(o,{className:"custom-tooltip",children:[Object(r.jsx)("div",{className:"tip-title",children:t}),Object(r.jsxs)("div",{className:"value",children:[" ",d.name&&d.name," ",u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{"data-for":j,"data-tip":u,className:"text",children:Object(n.f)(d.value,b)}),Object(r.jsxs)(s.a,{width:400,id:j,padding:"12",place:"bottom",children:[" ",u," "]})]}):Object(n.f)(d.value,b)]}),Object(r.jsx)("div",{className:"date",children:p?d.timestamp&&`${Object(i.a)(new Date(1e3*d.timestamp),"UTC:yyyy-mm-dd hh:MM:ss")}(UTC)`:d.timestamp&&`${Object(i.a)(new Date(1e3*d.timestamp),"UTC:yyyy-mm-dd")}(UTC)`})]}):null}},1570:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,i=a(12),c=a(76),s=a(9),r=a(65),o=a(570),l=a(6),d=r.a.div(n||(n=Object(c.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function b(e){var t=e.list,a=e.onChange,n=e.width,c=void 0===n?"320":n,r=e.height,b=void 0===r?"48":r,u=e.bgColor,j=void 0===u?"rgba(85, 119, 253, 0.1)":u,p=e.searchName,x=void 0===p?"bTokenSymbol":p,h=e.className,f=e.placeholder,m=void 0===f?"Search":f,O=(e.onFocus,e.onBlur,Object(s.useState)("")),v=Object(i.a)(O,2),g=v[0],y=v[1],k=Object(s.useState)(0),w=Object(i.a)(k,2),N=(w[0],w[1]),S=Object(s.useRef)([]);return Object(s.useEffect)((function(){if(g){var e=g.toLocaleUpperCase();0===S.current.length&&(S.current=t,N(t.length));var n=S.current.filter((function(t){return t[x]&&t[x].toUpperCase().indexOf(e)>=0}));a(n,e)}else a(S.current)}),[g]),Object(s.useEffect)((function(){0===S.current.length&&N(t.length)}),[t]),Object(l.jsx)(d,{width:c,height:b,bgColor:j,className:h,children:Object(l.jsxs)("div",{className:"search-token",children:[Object(l.jsx)("input",{type:"text",className:"search-input",placeholder:m,value:g,onChange:function(e){!function(e){var t=e.target.value;y(t)}(e)}}),Object(l.jsx)("img",{src:o.default,alt:""})]})})}},1600:function(e,t,a){},1602:function(e,t,a){"use strict";var n,i=a(76),c=a(1503),s=a(65),r=a(23),o=a(6),l=s.a.div(n||(n=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 70px;\n  margin-right: 32px;\n  .filter{\n    justify-content: flex-end;\n    .g-button {\n      margin-left: 8px ;\n    }\n  }\n"])));t.a=function(e){var t=e.url,a=e.onChange,n=e.cycleArr,i=void 0===n?["7D","30D"]:n,s=e.className,d=void 0===s?"":s,b=i,u=Object(r.E)()?64:96;return Object(o.jsx)(l,{className:d,children:Object(o.jsx)(c.a,{groups:b,selectedBorderColor:"rgba(205, 122, 55)",defaultValue:b[b.length-1],defaultBorderColor:"rgba(85, 119, 253, 0.1)",bgColor:"rgba(85, 119, 253, 0.1)",className:"filter",width:u,height:"32",onChange:function(e){var n=new URL(t),i=n.searchParams;i.has("cycle")&&i.delete("cycle"),i.append("cycle",e),a(n.toString())},outline:!0,outlineColor:"rgba(205, 122, 55, 0.5)"})})}},1603:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(9),i=a(99),c=a.n(i),s=a(2573),r=a(2574),o=a(2579),l=a(1761),d=a(1762),b=a(2562),u=a(2351),j=a(1509),p=a(1551),x=a(23),h=a(6);function f(e){let{url:t,title:a,domain:i=!1,yMin:f=0,yMax:m=0,decimalScale:O=2,tip:v,height:g=300,isTime:y=!1}=e;const[k,w]=Object(n.useState)(null),[N,S]=Object(n.useState)({}),[T,C]=Object(n.useState)({}),[I,A]=Object(n.useState)([0,"auto"]);return Object(n.useEffect)((()=>{const e=document.querySelector(".graph").getBoundingClientRect();C(e),(async e=>{const t=await c.a.get(e);let a=[];if(200===t.status&&Array.isArray(t.data.data)&&(a=t.data.data.sort(((e,t)=>e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0)),t.data.current?S(t.data.current):a.length>0&&S(a[a.length-1]),i)){let e=Math.min.apply(Math,a.map((function(e){return e.value.toFixed(O)}))),t=Math.max.apply(Math,a.map((function(e){return e.value.toFixed(O)})));A([+(e-f).toFixed(O),+(t+m).toFixed(O)])}w(a.map((e=>({time:e.timestamp,value:Number(e.value)}))))})(t)}),[t]),k?Object(h.jsx)(s.a,{height:g,children:Object(h.jsxs)(r.a,{width:T.width,data:k,children:[Object(h.jsx)("defs",{children:Object(h.jsxs)("linearGradient",{id:"colorArea",x1:"0",y1:"1",x2:"0",y2:"0",children:[Object(h.jsx)("stop",{offset:"10%",stopColor:"#2772F0",stopOpacity:.1}),Object(h.jsx)("stop",{offset:"90%",stopColor:"#2772f0",stopOpacity:.3})]})}),Object(h.jsx)(o.a,{vertical:!1,strokeDasharray:"9",stroke:"#203B60"}),Object(h.jsx)(l.a,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fill:"#fff",fontSize:"14"},padding:{left:12,right:14},allowDataOverflow:!1,tickFormatter:e=>e&&"auto"!==e?Object(j.a)(new Date(1e3*e),"mm-dd"):""}),Object(h.jsx)(d.a,{dataKey:"value",minTickGap:10,domain:I,tickLine:!1,axisLine:!1,tickFormatter:x.h,tick:{fill:"#fff",fontSize:"14"},padding:{top:65}}),Object(h.jsx)(b.a,{position:{x:16,y:-106},cursor:!1,content:Object(h.jsx)(p.a,{isTime:y,title:a,lastItem:N,decimalScale:O,tip:v})}),Object(h.jsx)(u.a,{type:"monotone",dataKey:"value",stroke:"#3756CD",fillOpacity:.5,strokeWidth:3,fill:"url(#colorArea)"})]})}):null}},1645:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.45c27f0b.svg"},1683:function(e,t,a){"use strict";var n=a(26),i=a(0),c=a(2),s=a(12),r=a(371),o=a(9),l=a(218),d=a(66),b=a(167),u=a(57),j=a(20),p=a(23),x=(a(1736),a(6));function h(){return Object(x.jsx)("div",{class:"sleepContentView",children:Object(x.jsx)("div",{class:"circle"})})}var f=a(33),m=(a(1737),["isBuried","lang","subject","wallet","pool","ignoreApprove","bTokenId","bToken","icon","label","onClick","isReady","disabled","statusCallback","alert"]);t.a=Object(d.b)("wallet")(Object(d.c)((function(e){var t=e.isBuried,a=void 0!==t&&t,d=e.lang,O=(e.subject,e.wallet),v=e.pool,g=void 0===v?{}:v,y=e.ignoreApprove,k=e.bTokenId,w=e.bToken,N=e.icon,S=e.label,T=e.onClick,C=(e.isReady,e.disabled),I=void 0!==C&&C,A=e.statusCallback,B=(e.alert,Object(r.a)(e,m)),F=Object(o.useState)(!1),D=Object(s.a)(F,2),E=D[0],q=D[1],L=Object(o.useState)(S),R=Object(s.a)(L,2),_=R[0],U=R[1],P=Object(o.useState)(!1),H=Object(s.a)(P,2),M=H[0],V=H[1],$=Object(o.useState)(!1),z=Object(s.a)($,2),Z=z[0],W=z[1],K=Object(o.useState)(!0),X=Object(s.a)(K,2),G=X[0],Y=X[1],Q=Object(o.useState)(!1),J=Object(s.a)(Q,2),ee=J[0],te=J[1],ae=Object(o.useState)(!1),ne=Object(s.a)(ae,2),ie=ne[0],ce=ne[1],se=Object(o.useState)(N),re=Object(s.a)(se,2),oe=re[0],le=re[1],de=Object(o.useCallback)(function(){var e=Object(c.a)(Object(i.a)().mark((function e(t,a){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!t.detail||!a.address){e.next=18;break}if(!b.a.isOpen){e.next=5;break}return e.next=5,j.openConfigListCache.update();case 5:if(!Object(p.D)(a.address)){e.next=11;break}return e.next=8,u.a.request("isLpUnlocked",[t.detail.chainId,a.address,t.detail.account]);case 8:n=e.sent,e.next=17;break;case 11:if(!k&&!w){e.next=17;break}return c=[t.detail.chainId,a.address,t.detail.account,k||w],e.next=15,u.a.request("isUnlocked",c);case 15:n=e.sent,Y(n.isZero);case 17:return e.abrupt("return",n.isUnlocked);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[w,k]),be=Object(o.useCallback)(Object(c.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O||!g){e.next=17;break}if(!b.a.isOpen){e.next=4;break}return e.next=4,j.openConfigListCache.update();case 4:if(!Object(p.D)(g.address)){e.next=10;break}return e.next=7,u.a.request("unlockLp",[O.detail.chainId,g.address,O.detail.account],{includeResponse:!0,write:!0,subject:d.approve,approveTip:G?"":"Changing approved amount may result tx failure",title:{text:"Approve",icon:w},content:{success:"Approve ".concat(w),error:"Transaction failed"}});case 7:t=e.sent,e.next=14;break;case 10:return n=[O.detail.chainId,g.address,O.detail.account,k||w],e.next=13,u.a.request("unlock",n,{write:!0,includeResponse:!0,subject:Object(p.k)(d.approve.toLowerCase()),approveTip:G?"":"Changing approved amount may result tx failure",title:{text:"Approve",icon:w},content:{success:"Approve ".concat(w),error:"Transaction Failed"}});case 13:t=e.sent;case 14:if(!t){e.next=17;break}return a&&Object(p.b)("account_deposit","deposit","wallet_comfirm__deposit_approval"),e.abrupt("return",t.success);case 17:case"end":return e.stop()}}),e)}))),[g,O,k,w]),ue=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g&&O&&O.detail)){e.next=35;break}if(ce(!0),O.isConnected()){e.next=7;break}return le(null),e.abrupt("return",O.connect());case 7:if(e.t0=y,e.t0){e.next=12;break}return e.next=11,de(O,g);case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=17;break}return le(N),e.abrupt("return",T(t));case 17:return le(N),a&&Object(p.b)("account_deposit","deposit","deposit_approve"),e.next=21,be();case 21:if(!(n=e.sent)){e.next=32;break}return W(!0),e.next=26,T();case 26:e.sent&&te(!0),de(),A&&A(!1),e.next=34;break;case 32:ce(!1),A&&A(!0);case 34:return e.abrupt("return",n);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(c.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(g&&O.detail&&O.detail.account&&d&&E)){e.next=18;break}if(O.isConnected()){e.next=6;break}U(d["connect-wallet"]),le(null),e.next=18;break;case 6:return e.next=8,de(O,g);case 8:if(!e.sent){e.next=15;break}V(!1),U(S),le(N),A&&A(!1),e.next=18;break;case 15:V(!0),le(N),A&&A(!0);case 18:case"end":return e.stop()}}),e)}))),[g,O,d,w,k,O.detail,O.detail.account,E]),Object(o.useEffect)((function(){q(!I)}),[I]),Object(o.useEffect)((function(){O&&g&&g.address&&(O.setAddress(g.address),g.isV3||g.isV3Lite?O.setBToken(w):O.setBTokenId(k))}),[O,g,k,w]),Object(x.jsxs)("div",{children:[Object(x.jsx)(l.a,Object(n.a)(Object(n.a)({},B),{},{disabled:!E,label:_,onClick:ue,icon:oe})),!y&&M&&E&&Object(x.jsxs)("div",{className:"init-approve",children:[Object(x.jsxs)("div",{className:"step-approve",children:[!ie&&Object(x.jsx)("div",{className:"step-one",children:"1"}),ie&&Object(x.jsx)("div",{className:"pending",children:Z?Object(x.jsx)(f.a,{token:"finish"}):Object(x.jsx)(h,{})}),Object(x.jsx)("div",{className:Z?"approve-text finish-text":"approve-text",children:d.approve})]}),Object(x.jsx)("div",{className:Z?"step-hr finish":"step-hr"}),Object(x.jsxs)("div",{className:"step-transaction",children:[!Z&&Object(x.jsx)("div",{className:"step-two",children:"2"}),ie&&Z&&Object(x.jsx)("div",{className:"pending",children:ee?Object(x.jsx)(f.a,{token:"finish"}):Object(x.jsx)(h,{})}),Object(x.jsx)("div",{className:ee?"transaction-text finish-text":"transaction-text",children:_})]})]})]})})))},1734:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(9),i=a(141),c=a(220),s=a(88),r=a.n(s),o=a(218),l=a(1520),d=a(33),b=a(1468),u=a(20),j=a(57),p=(a(1735),a(392)),x=a(6);function h(e){let{wallet:t,alert:a}=e;const[s,h]=Object(n.useState)(0),[f,m]=Object(n.useState)(!1),[O,v]=Object(n.useState)(!1),[g,y]=Object(n.useState)(!1),[k,w]=Object(n.useState)(!1),[N,S]=Object(n.useState)(),[T,C]=Object(n.useState)(),[I,A]=Object(n.useState)(),[B,F]=Object(n.useState)(),[D,E]=Object(n.useState)("REMOVE LIQUIDITY"),q=async()=>{let e=await j.a.request("getBTokenBalance",[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,0]);console.log("getBTokenBalance",e),A(e)};return Object(n.useEffect)((()=>{t.isConnected()&&((async()=>{let e=await j.a.request("getLiquidityInfo",[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,0]);const a=e.shares?Object(u.bg)(e.shares):Object(u.bg)(0),n=a.isNaN()?Object(u.bg)(0):a.multipliedBy(e.shareValue);S(a.toString()),C(n.toFixed(4))})(),q())}),[t]),Object(n.useEffect)((()=>{1===s?E("APPROVE"):2===s&&E("ADD LIQUIDITY")}),[s]),Object(x.jsxs)("div",{className:"guidance-modal",children:[Object(x.jsxs)("div",{className:"title-close",children:[Object(x.jsx)("div",{className:"title-text",children:"Migrate Liquidity"}),Object(x.jsx)("div",{className:"close",children:Object(x.jsx)("img",{src:c.default,alt:"",onClick:()=>Object(i.a)("LiquidityGuidance")})})]}),Object(x.jsxs)("div",{className:"step-box",children:[Object(x.jsxs)("div",{className:r()("remove",{pending:0===s&&f,success:0!==s&&O}),children:[0===s&&f&&Object(x.jsx)(p.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),0!==s&&O&&Object(x.jsx)(d.a,{token:"Guidance-success"}),"REMOVE"]}),Object(x.jsx)("div",{className:r()("hr",{"hr-success":0!==s&&O})}),Object(x.jsxs)("div",{className:r()("approve",{pending:1===s&&f,success:2===s&&g}),children:[1===s&&f&&Object(x.jsx)(p.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),2===s&&g&&Object(x.jsx)(d.a,{token:"Guidance-success"}),"APPROVE"]}),Object(x.jsx)("div",{className:r()("hr",{"hr-success":2===s&&g})}),Object(x.jsxs)("div",{className:r()("add",{pending:2===s&&f,success:k}),children:[2===s&&f&&Object(x.jsx)(p.a,{borderColor:"rgba(89, 174, 153, 0.5)",bgColor:"rgba(89, 174, 153, 0.3)"}),k&&Object(x.jsx)(d.a,{token:"Guidance-success"}),"ADD"]})]}),Object(x.jsxs)("div",{className:"guidance-info",children:[Object(x.jsxs)("div",{className:"now-step",children:[0===s&&" Step 1: remove liquidity from the retired Future Inno Pool",1===s&&" Step 2: approve DERI to the new Inno Pool",2===s&&" Step 3: add DERI to the new Inno Pool"]}),0===s&&Object(x.jsxs)("div",{className:"pool-type",children:[Object(x.jsx)("div",{className:"pool-title",children:"Pool"}),Object(x.jsx)("div",{className:"pool-type-text",children:" Future Inno"})]}),Object(x.jsxs)("div",{className:"balance-box",children:[Object(x.jsx)("div",{className:"balance-title",children:"Your Staked Balance"}),Object(x.jsxs)("div",{className:"balance-num",children:[0===s&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.a,{value:N,decimalScale:2})," shares (",Object(x.jsx)(b.a,{value:T})," DERI)"]}),0!==s&&Object(x.jsx)(b.a,{value:k?B:I,suffix:" DERI"})]})]}),Object(x.jsxs)("div",{className:"operate-box",children:[Object(x.jsx)("div",{className:"input-box",children:Object(x.jsx)(l.a,{inputWidth:"332px",disabled:0===s,decimal:18,unit:0===s?"SHARES":"DERI",value:0===s?N:I,onChange:e=>A(e)})}),Object(x.jsx)(o.a,{width:"332",disabled:2===s&&!(+I>0),label:D,onClick:async()=>{let e;if(m(!0),0===s){let n=[t.detail.chainId,"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF",t.detail.account,N,void 0,!0];return e=await j.a.request("removeLiquidity",n,{includeResponse:!0,write:!0,subject:"REMOVE LIQUIDITY"}),q(),m(!1),e&&e.success?(h(s+1),v(!0),a.success("Remove DERI Liquidity",{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:"Remove Liquidity Executed"}),!0):(""===e.response.transactionHash||a.error(`Transaction Failed  : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:"Remove Liquidity Failed"}),!1)}if(1===s){let n=[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,"DERI"];if(e=await j.a.request("unlock",n,{write:!0,subject:"APPROVE"}),m(!1),e)if(e.status)h(s+1),y(!0),a.success("Approve DERI",{timeout:8e3,isTransaction:!0,transactionHash:e.transactionHash,link:`${t.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Executed"});else{if(""===e.transactionHash)return!1;a.error(`Transaction Failed ${e.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.transactionHash,link:`${t.blockExploreUrl}/tx/${e.transactionHash}`,title:"Approve Failed"})}}else if(2===s){let n=[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,I,"DERI"];return e=await j.a.request("addLiquidity",n,{includeResponse:!0,write:!0,subject:"ADD LIQUIDITY"}),m(!1),q(),(async()=>{let e=await j.a.request("getLiquidityInfo",[t.detail.chainId,"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA",t.detail.account,"DERI"]);console.log("getLiquidityInfo",e);const a=e.shares?Object(u.bg)(e.shares):Object(u.bg)(0);F(a.toString())})(),e&&e.success?(w(!0),Object(i.a)("LiquidityGuidance"),a.success("Add DERI Liquidity",{timeout:8e3,isTransaction:!0,transactionHash:e.response.data.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.data.transactionHash}`,title:"Add Liquidity Executed"}),!0):(""===e.response.transactionHash||a.error(`Transaction Failed  : ${e.response.error}`,{timeout:3e5,isTransaction:!0,transactionHash:e.response.transactionHash,link:`${t.blockExploreUrl}/tx/${e.response.transactionHash}`,title:"Add Liquidity Failed"}),!1)}},fontSize:"18"})]})]})]})}},1735:function(e,t,a){},1736:function(e,t,a){},1737:function(e,t,a){},1738:function(e,t,a){},1739:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,i=a(12),c=a(76),s=a(9),r=(a(57),a(65)),o=a(33),l=a(289),d=a(1468),b=a(6),u=r.a.div(n||(n=Object(c.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function j(e){var t=e.lang,a=e.wallet,n=e.baseToken,c=e.penalty,r=e.isB0Staked,j=e.availableBalance,p=e.getLang,x=Object(s.useState)(""),h=Object(i.a)(x,2),f=h[0],m=h[1],O=Object(s.useState)("BUSD"),v=Object(i.a)(O,2),g=v[0],y=v[1];return Object(s.useEffect)((function(){var e,i=56===+a.detail.chainId||97===+a.detail.chainId?"BUSD":"USDC";y(i);var s={num:n,name:i},o={name:i};e=r?"BUSD"===n||"USDC"===n?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(c," ").concat(i," ").concat(p("this-action-will-update-your",o)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(c," ").concat(i," ").concat(p("this-action-will-trigger-swapping-to-update-your",s)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(c," ").concat(i," ").concat(p("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",s)),m(e)}),[r,c,n]),Object(b.jsx)(u,{children:+c<0&&+j>0&&Object(b.jsx)("div",{className:"remove-hint",children:Object(b.jsxs)(l.a,{tip:f,width:"332",children:[Object(b.jsx)(o.a,{token:"warn"})," ",Object(b.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(b.jsx)(d.a,{value:c,decimalScale:2})," ",g]})]})})})}},1740:function(e,t,a){},1741:function(e,t,a){"use strict";t.a=a.p+"static/media/deri.520d2449.svg"},1742:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,i=a(76),c=a(65),s=(a(9),a(6)),r=c.a.div(n||(n=Object(i.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,a=e.nowTimestamp,n=e.endTimestamp,i=parseInt((a-t)/(n-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(r,{width:i})})}},1819:function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n,i=a(0),c=a(2),s=a(12),r=a(9),o=a(99),l=a.n(o),d=a(33),b=a(76),u=a(23),j=a(1509),p=a(65),x=a(163),h=a(6),f=p.a.div(n||(n=Object(b.a)(["\n&.custom-tooltip {\n  padding: 0 0 0 10px;\n  color: #E0ECFF;\n  z-index: 2;\n  .tip-title {\n    font-size: 16px;\n    color: #E0ECFF;\n  }\n  .value {\n    font-size: 32px;\n    font-weight : 700;\n    font-family : Barlow;\n  }\n  .date {\n    margin-top: 4px;\n    margin-left: 4px;\n    font-size: 14px;\n    height: 14px;\n  }\n  .text{\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:block\n  }\n  .icon{\n    width:80px;\n    height:80px;\n    background: rgba(85, 119, 253, 0.1);\n    border: 2px solid #263457;\n    border-radius:50%;\n    display:flex;\n    justify-content: center;\n    position: absolute;\n    left:134px;\n    top: 172px;\n  }\n  @media only screen and (min-width : 383px) and (max-width:759px) {\n    .icon{\n      left:calc(50vw - 59px) ;\n    }\n  }\n\n}\n"]))),m=function(e){var t=e.title,a=e.active,n=e.payload,i=(e.label,e.lastItem),c=e.decimalScale,s=void 0===c?2:c,o=e.tip,l=e.id,b=void 0===l?String((new Date).getTime())+Math.random():l,p=e.coordinate,m=e.isInfo;return Object(r.useEffect)((function(){if(m){window.onresize=function(){var e=document.querySelector(".graph").getBoundingClientRect(),t=document.getElementsByClassName("icon")[0];t&&(t.style.left=e.width/2-58+"px")};var e=document.querySelector(".graph").getBoundingClientRect(),t=document.getElementsByClassName("icon")[0];t&&(t.style.left=e.width/2-58+"px")}}),[e]),a&&n&&n.length?Object(h.jsxs)(f,{className:"custom-tooltip",coordinate:a?p:"",children:[Object(h.jsx)("div",{className:"tip-title",children:t}),Object(h.jsxs)("div",{className:"value",children:[n[0].payload.name&&n[0].payload.name,o?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{"data-for":b,"data-tip":o,className:"text",children:"NaN"===n[0].payload.value?0:Object(u.f)(n[0].payload.value,s)}),Object(h.jsxs)(x.a,{id:b,padding:"12",place:"bottom",children:[" ",o," "]})]}):isNaN(n[0].payload.value)?0:Object(u.f)(n[0].payload.value,s)]}),Object(h.jsx)("div",{className:"date",children:n[0].payload.time&&"".concat(Object(j.a)(new Date(1e3*n[0].payload.time),"yyyy-mm-dd")," (UTC)")}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.a,{token:n[0].payload.name,width:40})})]}):t&&i.value?Object(h.jsxs)(f,{className:"custom-tooltip",coordinate:"",children:[Object(h.jsx)("div",{className:"tip-title",children:t}),Object(h.jsxs)("div",{className:"value",children:[" ",i.name&&i.name," ",o?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{"data-for":b,"data-tip":o,className:"text",children:isNaN(i.value)?0:Object(u.f)(i.value,s)}),Object(h.jsxs)(x.a,{id:b,padding:"12",place:"bottom",children:[" ",o," "]})]}):isNaN(i.value)?0:Object(u.f)(i.value,s)]}),Object(h.jsx)("div",{className:"date",children:i.timestamp&&"".concat(Object(j.a)(new Date(1e3*i.timestamp),"yyyy-mm-dd")," (UTC)")}),Object(h.jsx)("div",{className:"icon",children:Object(h.jsx)(d.a,{token:i.name,width:40})})]}):null},O=a(1660),v=a(2573),g=a(1978),y=a(1604),k=a(1607),w=a(1977),N=a(2562);function S(e){var t=e.url,a=e.title,n=e.isInfo,o=void 0!==n&&n,d=["#3756CD","#3756cde6","#3756cdbf","#3756cd99","#3756cd73","#3756cd66","#3756cd4d","#3756cd26","#3755cd1a"],b={WBNB:"#F3BA2F",BNB:"#F0B90B",WBTC:"#F7931A",WMATIC:"#2BBDF7",amUSDC:"#2775CA",BUSD:"#F0B90B",USDT:"#26A17B",CAKE:"#24C7D6",DERI:"#3756CD",TBUSD:"#F0B90B",SXP:"#FF6E26",ETH:"#444444",LTC:"#345D9D",XRP:"#11AAE2",BTCB:"#F7931A",ADA:"#3468D1",MATIC:"#2BBDF7",AAVE:"#B5519E",TUSD:"#1B5AFF",DAI:"#F5AC37",DOT:"#E6007A",LINK:"#2A5ADA",XVS:"#F2BC55",USDC:"#2775CA",TRX:"#FF060A",TDERI:"#3756CD",UST:"#5493F7",DOGE:"#C3A634",LUNA:"#FFD83D"},j=Object(r.useState)([]),p=Object(s.a)(j,2),x=p[0],f=p[1],S=Object(r.useState)({}),T=Object(s.a)(S,2),C=T[0],I=T[1],A=Object(r.useState)({}),B=Object(s.a)(A,2),F=B[0],D=B[1],E=Object(r.useState)(!1),q=Object(s.a)(E,2),L=(q[0],q[1]),R=Object(r.useState)({activeIndex:0}),_=Object(s.a)(R,2),U=_[0],P=_[1],H=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var a,n,c,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get(t);case 2:a=e.sent,n=[],200===a.status&&Array.isArray(a.data.data.btokens)&&(n=a.data.data.btokens.sort((function(e,t){return t.value-e.value}))).length>0&&I(n[0]),n=n.map((function(e){return{name:e.name,value:Number(e.value)}})),c=n.slice(8,n.length),s={name:"OTHER",value:0},c=c.map((function(e,t){return s.value+=e.value,s})),8===(n=n.slice(0,8)).length&&n.push(s),f(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=document.querySelector(".graph").getBoundingClientRect();D(e),H(t)}),[t]),Object(h.jsx)(v.a,{height:230,children:Object(h.jsxs)(g.a,{width:F.width,children:[Object(h.jsx)(y.a,{dataKey:"value",data:x,activeShape:function(e){var t=Math.PI/180,a=e.cx,n=e.cy,i=e.midAngle,c=e.innerRadius,s=e.outerRadius,r=e.startAngle,o=e.endAngle,l=(e.fill,e.payload),d=e.percent,u=(e.value,Math.sin(-t*i)),j=Math.cos(-t*i),p=a+(s+30)*j+22*(j>=0?1:-1),x=n+(s-8)*u,f=j>=0?"start":"end";return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O.a,{cx:a,cy:n,innerRadius:c-5,outerRadius:s+5,startAngle:r,endAngle:o,fill:b[l.name]}),Object(h.jsx)("text",{x:p+-40*(j>=0?1:-1),y:x,dy:18,textAnchor:f,fill:"#FFFFFF",className:"percent",children:"".concat((100*d).toFixed(2),"%")})]})},activeIndex:U.activeIndex,cx:"50%",cy:"50%",outerRadius:100,innerRadius:75,fill:"#8884d8",onMouseEnter:function(e,t){P({activeIndex:t}),L(!0)},onMouseLeave:function(){L(!1),P({activeIndex:0})},children:x.map((function(e,t){return Object(h.jsx)(k.a,{stroke:0,fill:d[t]},"cell-".concat(t))}))}),Object(h.jsx)(w.a,{content:function(e){var t=e.payload;return Object(h.jsx)("ul",{className:"token-list",children:t.map((function(e,t){return 8!==t&&Object(h.jsxs)("li",{children:[Object(h.jsxs)("span",{className:"token-name",children:[t+1,". ",Object(h.jsx)("div",{className:e.value})," ",Object(h.jsx)("span",{className:"token-name-text",children:e.value})]})," ",Object(u.f)(e.payload.value)]},"item-".concat(t))}))})}}),Object(h.jsx)(N.a,{position:{x:16,y:-92},cursor:!0,content:Object(h.jsx)(m,{title:a,lastItem:C,isInfo:o})})]})})}},2353:function(e,t,a){},2597:function(e,t,a){"use strict";a.r(t);var n=a(372),i=a(0),c=a(2),s=a(12),r=a(9),o=a(75),l=a(66),d=a(219),b=a(1520),u=a(1683),j=a(1503),p=a(23),x=a(1468),h=a(16),f=a(57),m=(a(1738),a(20)),O=(a(141),a(583)),v=(a(1734),a(1739)),g=a(6);function y(e){let{getLang:t,wallet:a,lang:n,type:i,isLp:c,chainId:s,bTokenId:o,poolConfig:l,version:y,baseToken:k,address:w,walletBalance:N,poolInfo:S,afterTransaction:T}=e;const[C,I]=Object(r.useState)(""),[A,B]=Object(r.useState)(!1),[F,D]=Object(r.useState)(""),[E,q]=Object(r.useState)(!1),[L,R]=Object(r.useState)(""),[_,U]=Object(r.useState)(""),[P,H]=Object(r.useState)(!1),[M,V]=Object(r.useState)(!1),$=Object(d.c)(),[z,Z]=Object(r.useState)({}),W="add"===i||"v2"===y||"v3"===y||"v3_lite"===y?k:n.shares;return Object(r.useEffect)((()=>{let e="add"===i?Object(m.bg)(N):Object(m.bg)(S.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(e)&&(e=Object(m.bg)((+N).toFixed(5)));const t=Object(m.bg)(C);C&&0!==+C&&!t.gt(e)?((async()=>{let e,t="add"===i?C:Object(m.bg)(C).times(Object(m.bg)(-1)).toString();e="v3"===y||"v3_lite"===y?[a.detail.chainId,w,a.detail.account,t,k]:[a.detail.chainId,w,a.detail.account,t,o];let n=await f.a.request("getEstimatedLiquidityInfo",e);+n.percentage1<0&&(n.percentage1=0,n.shares1=0),Z(n)})(),q(!1)):q(!0),M&&q(!0)}),[C,i,S,N]),Object(r.useEffect)((()=>{I(""),D(""),R((new Date).getTime())}),[i,o,k]),Object(r.useEffect)((()=>{a.isConnected()&&(async()=>{if(k){let e=await f.a.request("getEstimatedLpInfo",[a.detail.chainId,w,a.detail.account,k]);U(e.b0Penalty),H(e.isB0Staked)}})()}),[a.detail,k,w]),Object(r.useEffect)((()=>{(async()=>{if(k!==(56===+s||97===+s?"BUSD":"USDC")&&k){let e=await f.a.request("getPoolB0Info",[s,w]);V(e.insufficientB0)}else V(!1)})()}),[s,w,k]),Object(g.jsxs)("div",{className:"operate-liquidity",children:[Object(g.jsx)("div",{className:"add-input",children:Object(g.jsx)(b.a,{value:C,unit:W,onChange:e=>{I(e),D(e)},inputWidth:"237px",decimal:18,styles:{"min-width":"332px"}})}),"add"===i&&Object(g.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"],": ",Object(g.jsx)(x.a,{value:N,displayType:"text",decimalScale:2})," ",k]}),"remove"===i&&Object(g.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"],": ",Object(g.jsx)(x.a,{value:S.totalShares,displayType:"text",decimalScale:2})," ",W]}),"remove"===i&&Object(g.jsx)("div",{children:Object(g.jsx)(v.a,{getLang:t,lang:n,baseToken:k,wallet:a,penalty:_,isB0Staked:P})}),Object(g.jsx)("div",{className:"check-proportion",children:Object(g.jsx)(j.a,{outline:!0,defaultValue:F,onChange:e=>{let t="add"===i?N:S.totalShares,a=Object(p.K)(e,t);D(e),I(a),D(e),B("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(g.jsxs)("div",{className:"information",children:[0!==+C&&("add"!==i||!M)&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"percentage",children:[Object(g.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,width:"80px",value:S.percent,decimalScale:2,suffix:"%"})," ","->","  ",Object(g.jsx)(x.a,{width:"80px",allowZero:!0,value:100*z.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(g.jsxs)("div",{className:"staked-balance",children:[Object(g.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{width:"80px",allowZero:!0,value:S.formatShares,decimalScale:2})," ","->"," ",Object(g.jsx)(x.a,{width:"80px",allowZero:!0,value:z.shares1,decimalScale:2}),"v2"===y||"v3"===y||"v3_lite"===y?" "+k:" "+n.shares]})]})]}),M&&"add"===i&&Object(g.jsxs)("div",{className:"isBTokenAdequate",children:[Object(g.jsx)("div",{className:"warning-logo",children:Object(g.jsx)("img",{src:O.default,alt:"warning"})}),Object(g.jsx)("div",{className:"warning-text",children:t("insufficient-B0",{bToken:k,b0Token:56===+s||97===+s?"BUSD":"USDC"})})]})]}),Object(g.jsx)("div",{className:"add-remove-btn",children:Object(g.jsx)(u.a,{alert:$,disabled:E,fontWeight:"bold",onClick:"add"===i?async()=>{const e=Object(m.bg)(N);if(Object(m.bg)(C).gt(e))return $.error(n["not-sufficient-funds"]),!1;if(C<=0||isNaN(C))return $.error(n["it-has-to-be-greater-than-zero"]),!1;let i;if("lp"===c){let e=[a.detail.chainId,w,a.detail.account,C];i=await f.a.request("addLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"],title:{text:n["add-liquidity-state"],icon:k},content:{success:`${t("add-baseToken-liquidity",{baseToken:k})}`,error:n["transaction-failed"]}})}else{let e;e="v3"===y||"v3_lite"===y?[a.detail.chainId,w,a.detail.account,C,k]:[a.detail.chainId,w,a.detail.account,C,o],i=await f.a.request("addLiquidity",e,{includeResponse:!0,write:!0,subject:n["add-liquidity"],title:{text:n["add-liquidity-state"],icon:k},content:{success:`${t("add-baseToken-liquidity",{baseToken:k})}`,error:n["transaction-failed"]}})}return i.success&&I(""),T(0),!0}:async()=>{const e=Object(m.bg)(S.totalShares);let i;i=A?S.totalShares:C;const s=Object(m.bg)(i);if(s.gt(e))return $.error(`${n["your-current-max-removable-shares-are"]}  ${S.totalShares}`),!1;if(+i<=0||isNaN(C))return $.error(n["invalid-liquidity"]),!1;let r;if("lp"===c){let e=[a.detail.chainId,w,a.detail.account,i];r=await f.a.request("removeLpLiquidity",e,{includeResponse:!0,write:!0,subject:n["remove-liquidity"],title:{text:n["remove-liquidity-state"],icon:k},content:{success:`${t("remove-baseToken-liquidity",{baseToken:k})}`,error:n["transaction-failed"]}})}else{let c;c="v3"===y||"v3_lite"===y?[a.detail.chainId,w,a.detail.account,i,k,e.eq(s)]:[a.detail.chainId,w,a.detail.account,i,o,e.eq(s)],r=await f.a.request("removeLiquidity",c,{includeResponse:!0,write:!0,subject:n["remove-liquidity"],title:{text:n["remove-liquidity-state"]},content:{success:`${t("remove-baseToken-liquidity",{baseToken:k})}`,error:n["transaction-failed"]}})}return r.success&&I(""),T(1),!0},bToken:k,pool:l,wallet:a,bTokenId:o,fontSize:"18",type:h.D,width:"331",label:"add"===i?n["add-liquidity"]:n["remove-liquidity"],lang:n},L)})]})}var k=a(1528),w=a(146),N=a(222),S=(a(1740),a(1600),a(563)),T=a(565),C=a(567),I=a(564),A=a(566),B=a(571),F=a(1741),D=a(1645),E=a(569),q=a(289),L=a(375),R=a(218);const _=w[m.DeriEnv.get()].chainInfo;function U(e){let{wallet:t,chainId:a,nowApy:n,poolInfo:i,address:c,nowToken:s,lang:o,version:l,type:b,poolConfig:u,symbols:j}=e;const[h,m]=Object(r.useState)("show"),[O,v]=Object(r.useState)(),y=Object(r.useRef)(),k=(Object(d.c)(),async()=>{let e=await f.a.request("getVenusEarned",[t.detail.chainId,c,t.detail.account]);e&&(e=+e,v(e))});return Object(r.useEffect)((()=>{if(t.isConnected()&&!y.current&&("v3"===l||"v3_lite"===l)&&56===+t.detail.chainId){y.current=!0;let e=null;return k(),e=window.setInterval((()=>{k()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,O]),Object(g.jsxs)("div",{className:"pool-info",children:[Object(g.jsxs)("div",{className:"pool-info-title",children:[Object(g.jsx)("div",{className:"pool-info-title-text",children:o["pool-info"]}),Object(g.jsxs)("div",{className:"down-up",children:["show"===h&&Object(g.jsx)("span",{onClick:()=>m("hide"),children:Object(g.jsx)("img",{className:"up-icon",alt:"",src:L.default})}),"hide"===h&&Object(g.jsx)("span",{onClick:()=>m("show"),children:Object(g.jsx)("img",{alt:"",src:L.default})})]})]}),Object(g.jsxs)("div",{className:`'pool-info-text' ${h}`,children:[Object(g.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==l&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o.apy}),Object(g.jsxs)("div",{className:"info-box-num",children:["v3"!==l&&"v3_lite"!==l&&Object(g.jsx)(x.a,{value:i.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===l||"v3_lite"===l)&&u.singleBtoken&&Object(g.jsx)(x.a,{value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===l||"v3_lite"===l)&&!u.singleBtoken&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(q.a,{text:Object(g.jsx)(x.a,{width:"50px",value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:o["deri-apy"]}),"\xa0 +  \xa0  ",Object(g.jsx)(q.a,{text:Object(g.jsx)(x.a,{width:"50px",value:n.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:42161!==+a?o["venus-suppy-apy"]:o["aave-suppy-apy"]}),"  \xa0 ",42161!==+a&&"+","  \xa0",42161!==+a&&Object(g.jsx)(q.a,{text:Object(g.jsx)(x.a,{width:"50px",value:n.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:o["xvs-distribution-apy"]})]})]})]}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o["pool-liquidity"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{value:i.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===l||"v3_lite"===l?56===+a||97===+a?u.singleBtoken?"DERI":"BUSD":"USDC":s]})]}),("v2"===l||"v3"===l||"v3_lite"===l)&&!("option"===b&&"v2"===l)&&!u.singleBtoken&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o.multiplier}),Object(g.jsx)("div",{className:"info-box-num",children:i.multiplier})]}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o["my-liquidity-percentage"]}),Object(g.jsx)("div",{className:"info-box-num",children:Object(g.jsx)(x.a,{allowZero:!0,value:i.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==l&&"v3"!==l&&"v3_lite"!==l||"v2"===l&&"option"===b)&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o["liquidity-share-value"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,decimalScale:6,value:i.shareValue,thousandSeparator:!0})," ",s]})]})}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o["staked-balance"]}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,value:i.formatShares,decimalScale:2}),"v2"!==l&&"v3"!==l&&"v3_lite"!==l||"option"===b&&"v2"===l?" "+o.shares:" "+s]})]}),("v2"!==l&&"v3"!==l&&"v3_lite"!==l||"v2"===l&&"option"===b)&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title"}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,decimalScale:2,value:i.values,thousandSeparator:!0})," ",s]})]}),("v2"===l||"v3"===l||"v3_lite"===l)&&!("option"===b&&"v2"===l)&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:Object(g.jsx)(q.a,{multiline:!0,text:o["mining-pnl"],tip:o["mining-pnl-hover"],html:!0,element:Object(g.jsxs)("span",{children:[" ",Object(g.jsxs)("div",{children:[o["mining-pnl-hover-one"]," "]}),o["mining-pnl-hover"]," ",Object(g.jsxs)("div",{children:[Object(g.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:o["learn-more-pnl"]})," "]})," "]})})}),Object(g.jsxs)("div",{className:"info-box-num",children:[Object(g.jsx)(x.a,{allowZero:!0,prefix:" ",value:i.pnl,decimalScale:2}),"  ","v3"===l||"v3_lite"===l?56===+a||97===+a?u.singleBtoken?"DERI":"BUSD":"USDC":u&&u.bTokens[0].bTokenSymbol," (",Object(g.jsx)(x.a,{value:i.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===l||"v3_lite"===l)&&(56===+a||97===+a)&&!u.singleBtoken&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o["xvs-earned"]}),Object(g.jsxs)("div",{className:"info-box-num collect-box",children:[Object(g.jsx)(x.a,{value:O,decimalScale:2}),Object(g.jsx)(R.a,{onClick:async()=>{await f.a.request("claimXVSLp",[t.detail.chainId,c,t.detail.account],{includeResponse:!0,write:!0,subject:o["claim-XVS"],title:{text:"Claim XVS",icon:"XVS"},content:{success:o["claim-XVS-reward"],error:o["transaction-failed"]}});k()},className:"collect",label:o.collect})]})]})]}),Object(g.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==b&&Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o.symbols}),Object(g.jsx)("div",{className:"info-box-num symbols",children:Object(g.jsx)(q.a,{tip:j,children:j})})]}),Object(g.jsxs)("div",{className:"info-box",children:[Object(g.jsx)("div",{className:"info-box-title",children:o["contract-address"]}),Object(g.jsx)("div",{className:"info-box-num",children:Object(g.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${_[a]&&_[a].viewUrl}/address/${c}`,children:Object(p.l)(c)})})]})]})]})]})}var P=a(33),H=a(1570);function M(e){var t=e.lang,a=e.address,n=e.checkoutBaseToken,i=e.pool,c=e.nowToken,o=e.chainId,l=e.bTokenList,d=e.version,b=e.type,u=Object(r.useState)([]),j=Object(s.a)(u,2),h=j[0],f=j[1],m=function(e){e.target.src=E.default};return Object(r.useEffect)((function(){f(l)}),[l]),Object(g.jsxs)("div",{className:"select-basetoken-info",children:[Object(g.jsxs)("div",{className:"select-coin-title-search",children:[Object(g.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(g.jsx)("div",{className:"search-box",children:Object(g.jsx)(H.a,{list:l,searchName:"bTokenSymbol",onChange:function(e){return f(e)}})})]}),Object(g.jsxs)("div",{className:"coin-search",children:[Object(g.jsx)("div",{className:"slide-icon left",children:Object(g.jsx)(P.a,{token:"arrow-left",width:"24",height:"24"})}),Object(g.jsxs)("div",{className:"v3"===d||"v3_lite"===d?"coin-list some-coin":"coin-list",children:["lp"!==b&&"v2_lite_open"!==d&&Object(g.jsx)(g.Fragment,{children:h.map((function(e,a){return Object(g.jsxs)("div",{className:c===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){n(e.bTokenId,e.bTokenSymbol)},children:[Object(g.jsxs)("div",{className:"base-apy-info",children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(g.jsxs)("div",{className:"apy-base-staked",children:[Object(g.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(g.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(g.jsx)(x.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===d||"v3_lite"===d)&&!i.singleBtoken&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:[" +  ",Object(g.jsx)(x.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  ",42161!==+o&&"+"]}),42161!==+o&&Object(g.jsx)(x.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(g.jsx)("img",{src:D.a,alt:""})]})}))}),"v2_lite_open"===d&&Object(g.jsx)(g.Fragment,{children:h.map((function(e,a){return Object(g.jsxs)("div",{className:"coin-box checked-base",onClick:function(){n(e.bTokenId)},children:[Object(g.jsxs)("div",{className:"base-apy-info",children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(g.jsx)("img",{alt:"",onError:m,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(g.jsx)("div",{className:"apy-base-staked",children:Object(g.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(g.jsxs)("div",{className:"stake",children:[Object(g.jsx)("img",{src:D.a,alt:""}),t.staked]})]})}))}),"lp"===b&&l.length&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"coin-box checked-base",children:Object(g.jsxs)("div",{className:"base-apy-info",children:[Object(g.jsxs)("div",{className:"lp-btoken-logo",children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(l[0].bTokenSymbol)}),Object(g.jsx)("span",{className:"conect-logo",children:"+"}),Object(g.jsx)("div",{className:"btoken-logo ".concat(l[1].bTokenSymbol)})]}),Object(g.jsxs)("div",{className:"apy-base-staked",children:[Object(g.jsx)("div",{className:"base-name",children:c}),Object(g.jsxs)("div",{className:"base-apy",children:[Object(p.A)(a)&&Object(g.jsxs)(g.Fragment,{children:[t.apy," \xa0 ",Object(g.jsx)(x.a,{value:l[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(p.H)(a)&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(q.a,{text:"".concat(t.apy," 0.00 %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(g.jsx)(q.a,{text:"".concat(t.apy,"  ").concat(l[1].lpApy?(+l[1].lpApy).toFixed(2):0," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(g.jsx)("div",{className:"slide-icon right",children:Object(g.jsx)(P.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var V=a(272),$=a(1742),z=a(1602),Z=a(1603),W=a(1819);a(2353);function K(e){let{address:t,chainId:a}=e;const[n,i]=Object(r.useState)(`https://infoapi.deri.io/get_liquidity_netvalue?pool=${t}`),[c,s]=Object(r.useState)(`https://infoapi.deri.io/get_tokens?pool=${t}`);return Object(g.jsxs)("div",{className:"pool-chart-box",children:[Object(g.jsxs)("div",{className:"graph lp-graph netValue",children:[Object(g.jsx)(z.a,{url:n,className:"line-chart-filter",onChange:e=>i(e),cycleArr:["7D","15D","ALL"]}),Object(g.jsx)(Z.a,{title:"LP Net Value",isTime:!0,url:n,domain:!0,yMin:1e-4,yMax:1e-4,decimalScale:4,height:350,tip:56===+a?"This is the BUSD value you would have as of today if you had provided 1BUSD as liquidity at the pool launch. It contains the trading PnL from Deri Protocol and the interest yield from Venus. Please note that your mining harvests of DERI and XVS are NOT included in this Net Value. If you provided tokens other than BUSD (i.e. BNB), the net value might be slightly different as the interest rate depends on tokens.":"This is the USDC value you would have as of today if you had provided 1USDC as liquidity at the pool launch. It contains the trading PnL from Deri Protocol and the interest yield from AAVE. Please note that your mining harvests of DERI are NOT included in this Net Value. If you provided tokens other than USDC (i.e. BTC), the net value might be slightly different as the interest rate depends on tokens."})]}),Object(g.jsxs)("div",{className:"graph token-graph tokens",children:[Object(g.jsx)(z.a,{className:"chart-filter",url:c,onChange:e=>s(e),cycleArr:["TRADER","LP"]}),Object(g.jsx)(W.a,{title:"Top Margin/Liquidity",url:c})]})]})}var X=w[m.DeriEnv.get()].chainInfo;t.default=Object(l.b)("wallet","poolManager")(Object(l.c)((function(e){var t=e.lang,a=e.wallet,l=void 0===a?{}:a,b=e.poolManager,u=e.getLang,j=Object(o.i)(),h=j.version,O=j.chainId,v=j.address,w=j.type,q=Object(d.c)(),L=Object(r.useState)(),R=Object(s.a)(L,2),_=R[0],P=R[1],H=Object(r.useState)(""),z=Object(s.a)(H,2),Z=z[0],W=z[1],G=Object(r.useState)(!1),Y=Object(s.a)(G,2),Q=Y[0],J=Y[1],ee=Object(r.useState)(""),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ie=Object(r.useState)([]),ce=Object(s.a)(ie,2),se=ce[0],re=ce[1],oe=Object(r.useState)([]),le=Object(s.a)(oe,2),de=le[0],be=le[1],ue=Object(r.useState)({}),je=Object(s.a)(ue,2),pe=je[0],xe=je[1],he=Object(r.useState)(0),fe=Object(s.a)(he,2),me=fe[0],Oe=fe[1],ve=Object(r.useState)({}),ge=Object(s.a)(ve,2),ye=ge[0],ke=ge[1],we=Object(N.a)(),Ne=Object(r.useState)(""),Se=Object(s.a)(Ne,2),Te=Se[0],Ce=Se[1],Ie=Object(r.useState)(),Ae=Object(s.a)(Ie,2),Be=Ae[0],Fe=Ae[1],De=Object(r.useState)({}),Ee=Object(s.a)(De,2),qe=Ee[0],Le=Ee[1],Re=Object(r.useState)(0),_e=Object(s.a)(Re,2),Ue=_e[0],Pe=_e[1],He=Object(r.useState)(0),Me=Object(s.a)(He,2),Ve=Me[0],$e=Me[1],ze=Object(r.useState)(0),Ze=Object(s.a)(ze,2),We=Ze[0],Ke=Ze[1],Xe=Object(r.useState)(""),Ge=Object(s.a)(Xe,2),Ye=Ge[0],Qe=Ge[1],Je=Object(r.useState)(!1),et=Object(s.a)(Je,2),tt=et[0],at=et[1],nt=Object(r.useState)(0),it=Object(s.a)(nt,2),ct=it[0],st=it[1],rt=X[O]&&X[O].name,ot=Object(r.useRef)(),lt=Object(r.useRef)(),dt=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.isConnected()||+l.detail.chainId!==+O){e.next=25;break}if(t=[l.detail.chainId,v,l.detail.account],a=null,Fe(""),!ae.isLp){e.next=10;break}return e.next=7,f.a.request("getLpWalletBalance",t);case 7:a=e.sent,e.next=24;break;case 10:if("v2_lite_open"!==h){e.next=13;break}return e.next=13,m.openConfigListCache.update();case 13:if("v3"!==h&&"v3_lite"!==h||!_){e.next=20;break}return t.push(_),e.next=17,f.a.request("getBTokenBalance",t);case 17:a=e.sent,e.next=24;break;case 20:return t.push(Z),e.next=23,f.a.request("getBTokenBalance",t);case 23:a=e.sent;case 24:Fe(a);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.request("getPendingReward",[l.detail.chainId,v,l.detail.account]);case 2:(t=e.sent)&&(Object(p.C)(v)?(ke(t),a=t.valid?t.amount:0,Oe(a)):Oe(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(e){ot.current="",lt.current="",st(e),dt(),xt(),ht()},jt=Object(r.useMemo)((function(){var e;return e={},Object(n.a)(e,t.add,{content:Object(g.jsx)(y,{chainId:O,getLang:u,poolConfig:ae,isLp:w,wallet:l,afterTransaction:ut,version:h,bTokenId:Z,address:v,lang:t,type:"add",poolInfo:pe,baseToken:_,walletBalance:Be}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(n.a)(e,t.remove,{content:Object(g.jsx)(y,{chainId:O,getLang:u,isLp:w,poolConfig:ae,wallet:l,afterTransaction:ut,lang:t,address:v,type:"remove",bTokenId:Z,poolInfo:pe,balance:pe,baseToken:_,version:h}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),e}),[t,u,ae,w,l,h,Z,v,_,Be,pe]),pt=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.load();case 2:if(t=b.pools,"lp"!==w){e.next=7;break}return e.next=6,b.loadDoubleMingingPool();case 6:t=b.lpPools;case 7:if("v2_lite_open"!==h){e.next=11;break}return e.next=10,b.loadOpen();case 10:t=b.openPools;case 11:t=(t=t.filter((function(e){return e.address===v})))[0],a=(a=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),Ce(a),ne(t),re(t.bTokens);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,a,n,c,s,r,o,d,b,u,j,x,f,m,g;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pe,a=pe.apy/100,n=pe.supplyApy,c=pe.xvsApy,s=pe.liquidity,o=pe.multiplier,!ae){e.next=68;break}if("v2"!==h||!Z||ot.current===Z){e.next=16;break}return ot.current=Z,lt.current=Z,e.next=12,ae.getPoolInfo(v,O);case 12:(d=e.sent).bTokensApy&&d.bTokensLiq&&(se.map((function(e){e.apy=100*+d.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy})),r=d.bTokensApy.filter((function(e){return e.bTokenId===Z})),a=r[0].apy,o=r[0].multiplier,s=(s=d.bTokensLiq.filter((function(e){return e.bTokenId===Z})))[0].liquidity,t={total:s,apy:100*+a,supplyApy:100*+n,multiplier:o}),e.next=37;break;case 16:if("v2_lite"!==h&&("v2"!==h||"option"!==w)){e.next=23;break}return e.next=19,ae.getPoolInfo(v,O);case 19:(b=e.sent).bTokensApy&&b.bTokensLiq&&(se.map((function(e){e.apy=100*+b.bTokensApy[0].apy})),a=b.bTokensApy[0].apy,s=b.bTokensLiq[0].liquidity,t={total:s,apy:100*+a}),e.next=37;break;case 23:if("v3"!==h&&"v3_lite"!==h||!_||ot.current===_){e.next=32;break}return ot.current=_,e.next=27,ae.getPoolInfo(v,O,h);case 27:u=e.sent,lt.current=_,u.bTokensApy&&(se.map((function(e){if("v3"!==h&&"v3_lite"!==h||ae.singleBtoken)"v3"!==h&&"v3_lite"!==h||!ae.singleBtoken||(e.apy=u.bTokensApy[0]&&u.bTokensApy[0].apy?100*u.bTokensApy[0].apy:"--");else{var t=u.bTokensApy.find((function(t){return t.bTokenSymbol===e.bTokenSymbol}));t&&(e.apy=100*+t.apy,e.supplyApy=(100*+t.supplyApy).toFixed(3),e.xvsApy=100*+t.xvsApy)}return e})),(r=u.bTokensApy.filter((function(e){return e.bTokenSymbol===_}))).length?(a=r[0].apy,n=r[0].supplyApy,c=r[0].xvsApy,o=r[0].multiplier):a=u.bTokensApy[0]&&u.bTokensApy[0].apy?u.bTokensApy[0].apy:0,s=u.liquidity,t={total:s,apy:100*+a,supplyApy:100*+n,xvsApy:100*+c,multiplier:o}),e.next=37;break;case 32:if("v3"===h||"v2_lite"===h||"v3_lite"===h||"v2"===h){e.next=37;break}return e.next=35,ae.getPoolInfo(v,O);case 35:(j=e.sent).bTokensApy&&j.bTokensLiq&&(se.map((function(e){e.apy=100*+j.bTokensApy[0].apy,Object(p.H)(v)&&(e.lpApy=j.lpApy)})),a=j.bTokensApy[0].apy,s=j.bTokensLiq[0].liquidity,t={total:s,apy:100*+a});case 37:if(console.log("isConnectedBegin",t),xe(t),!l.isConnected()||+l.detail.chainId!==+O){e.next=68;break}if("v2"!==h||!Z){e.next=47;break}return e.next=43,ae.getLiquidityInfo(l,v,ae.version,ae.isLp,w,_,Z);case 43:(x=e.sent)&&((t=x).apy=100*+a,t.multiplier=o),e.next=66;break;case 47:if("v2_lite"!==h&&("v2"!==h||"option"!==w)){e.next=54;break}return e.next=50,ae.getLiquidityInfo(l,v,ae.version,ae.isLp,w,_);case 50:(f=e.sent)&&((t=f).apy=100*+a,t.multiplier=o),e.next=66;break;case 54:if("v3"!==h&&"v3_lite"!==h||!_||lt.current!==Z&&lt.current!==_){e.next=61;break}return e.next=57,ae.getLiquidityInfo(l,v,ae.version,ae.isLp,w,_,Z);case 57:(m=e.sent)&&(t=m,"v3"!==h&&"v3_lite"!==h||ae.singleBtoken||(t.supplyApy=100*+n,t.xvsApy=100*+c),t.apy=100*+a,t.multiplier=o),e.next=66;break;case 61:if("v3"===h||"v2_lite"===h||"v3_lite"===h||"v2"===h){e.next=66;break}return e.next=64,ae.getLiquidityInfo(l,v,ae.version,ae.isLp,w,_);case 64:(g=e.sent)&&((t=g).apy=100*+a,t.multiplier=o);case 66:console.log("isConnectedAfter",t),xe(t);case 68:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var t,a,n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.isConnected()||!ae||+l.detail.chainId!==+O){e.next=7;break}return e.next=3,ae.getIsStaked(l,ae);case 3:(t=e.sent).bTokens?(a=ae.bTokens.map((function(e){if("v2"===h&&"option"!==w)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===h||"v3_lite"===h){var a=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!a.length&&a[0].isStaked}else e.staked=t.isStaked;return e})),n=[],c=[],a.forEach((function(e,t){e.staked?n.push(e):c.push(e)})),c.unshift.apply(c,n),be(c)):"v3"===h||"v3_lite"===h?P(ae.bTokens[0].bTokenSymbol):Object(p.A)(v)?P("PANCAKE-LP"):Object(p.H)(v)?P("DERI-USDT SLP"):(P(ae.bTokens[0].bTokenSymbol),W(ae.bTokens[0].bTokenId)),e.next=8;break;case 7:ae&&ae.bTokens.length&&("v3"===h||"v3_lite"===h?P(ae.bTokens[0].bTokenSymbol):Object(p.A)(v)?P("PANCAKE-LP"):Object(p.H)(v)?P("DERI-USDT SLP"):(P(ae.bTokens[0].bTokenSymbol),W(ae.bTokens[0].bTokenId)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t,a){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Z&&t===Z||_&&a===_)){e.next=2;break}return e.abrupt("return",!1);case 2:n="v3"!==h&&"v3_lite"!==h?ae.bTokens.filter((function(e){return e.bTokenId===t})):ae.bTokens.filter((function(e){return e.bTokenSymbol===a})),xe({}),W(t),Fe(""),P(n[0].bTokenSymbol),J();case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),mt=function(){var e=Object(c.a)(Object(i.a)().mark((function e(){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==+me){e.next=3;break}return q.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 3:if(!Object(p.C)(v)){e.next=8;break}if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=8;break}return q.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 8:return at(!0),e.next=11,f.a.request("claimReward",[l.detail.chainId,v,l.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"],title:{text:"Claim Deri",icon:"DERI"},content:{success:t["claim-deri-reward"],error:t["transaction-failed"]}});case 11:if(a=e.sent,bt(),at(!1),!a.success){e.next=17;break}return Oe(0),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(l.detail.chainId&&l.detail.chainId!==O&&l.switchNetwork(we[O]),l.isConnected()){var e=window.setInterval(bt,3e4);return bt(),function(){return clearInterval(e)}}}),[l.detail.chainId,l.detail.account]),Object(r.useEffect)((function(){pt()}),[]),Object(r.useEffect)((function(){if(se.length&&(_||Z)){var e,t={};if("v2"!==h)t=se.filter((function(e){return e.bTokenSymbol===_}))[0];else if("v2"===h){t=se.filter((function(e){return e.nowTokenId===Z}))[0]}Le(t),"v2"===h&&"option"!==w?Z&&(e=se.filter((function(e){return e.bTokenId===Z}))[0].staked):"lp"!==w&&(e=se.filter((function(e){return e.bTokenSymbol===_}))[0].staked),J(e)}}),[se,_,Z]),Object(r.useEffect)((function(){if(de.length){var e=de[0].bTokenSymbol;Object(p.A)(v)?e="PANCAKE-LP":Object(p.H)(v)&&(e="DERI-USDT SLP");var t=de[0].bTokenId;"v3"===h||"v3_lite"===h?P(e):(P(e),W(t)),re(de)}}),[de]),Object(r.useEffect)((function(){xt(),dt()}),[Z,ae,l.detail.account,_,l.detail.chainId]),Object(r.useEffect)((function(){ht()}),[ae,l.detail.account,l.detail.chainId]),Object(r.useEffect)((function(){if("v2_lite_open"!==h&&ae.rewarded&&Object(p.C)(v)){var e;return e=window.setInterval((function(){var e=28800,a=parseInt(Date.now()/1e3),n=parseInt(a/e)*e,i=n+e-a,c=parseInt(i/3600),s=parseInt(i%3600/60),r=parseInt(i%60);Pe(n),$e(n+e),Ke(a),Qe("".concat(c," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}}),[ae]),Object(g.jsxs)("div",{className:"pool-detail",children:[Object(g.jsx)("div",{className:"back-pool",children:Object(g.jsxs)("div",{className:"icon-back",onClick:function(){window.history.back(-1)},children:[Object(g.jsx)("img",{alt:"",src:S.default}),Object(g.jsx)("span",{children:t.back})]})}),Object(g.jsxs)("div",{className:"pool-deatail-info",children:[Object(g.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(g.jsxs)("div",{className:"pool-info-text",children:[Object(g.jsxs)("div",{className:"pool-network-type",children:[Object(g.jsx)("div",{className:"network-logo",children:Object(g.jsx)("img",{alt:"",src:function(e){var t,a=+e;return 56===a||97===a?t=T.default:137===a?t=C.default:1===a?t=I.default:42161===a||421611===a||421613===a?t=A.default:324===a&&(t=B.default),t}(O)})}),Object(g.jsxs)("div",{className:"pool-type-network-text",children:[Object(g.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==v&&Object(g.jsxs)(g.Fragment,{children:[t[ae.type]," ",t[ae.zone]]}),"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA"===v&&Object(g.jsx)(g.Fragment,{children:"DERI-based"}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===v&&Object(g.jsx)(g.Fragment,{children:t[ae.zone]})]}),Object(g.jsx)("div",{className:"pool-network-text",children:"BSC"===rt?"BNB Chain":rt})]})]}),Object(g.jsxs)("div",{className:"pool-des",children:["lp"!==w&&t["amm-pool-des"],"clp"===h&&Object(g.jsxs)(g.Fragment,{children:[t["deri-pancake-pool-one"]," ",Object(g.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://pancakeswap.finance/add/0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",children:"DERI-BUSD "})," ",t["deri-pancake-pool-two"]]}),"slp"===h&&Object(g.jsx)(g.Fragment,{children:t["deri-sushi-pool"]}),Object(g.jsx)("br",{}),"lp"!==w?Object(g.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(g.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})}):Object(g.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(g.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(g.jsx)(M,{lang:t,pool:ae,chainId:O,address:v,checkoutBaseToken:ft,nowToken:_,bTokenList:se,version:h,type:w})]}),Object(g.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(g.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(g.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==w&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(_),children:"v2_lite_open"===h&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("img",{alt:"",onError:function(e){e.target.src=E.default},src:"https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/".concat(_,".png")})})}),Object(g.jsxs)("div",{className:"manage-stake",children:[Object(g.jsxs)("div",{className:"manage",children:[t.manage," ",_," ",t.liquidity]}),Q&&Object(g.jsxs)("div",{className:"stake",children:[Object(g.jsx)("img",{src:D.a,alt:""}),t.staked]})]})]}),"lp"===w&&se.length&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"lp-btoken-logo",children:[Object(g.jsx)("div",{className:"btoken-logo ".concat(se[0].bTokenSymbol)}),Object(g.jsx)("span",{className:"conect-logo",children:"+"}),Object(g.jsx)("div",{className:"btoken-logo ".concat(se[1].bTokenSymbol)})]}),Object(g.jsxs)("div",{className:"manage-stake",children:[Object(g.jsxs)("div",{className:"manage",children:[t.manage," ",_," ",t.liquidity]}),Q&&Object(g.jsxs)("div",{className:"stake",children:[Object(g.jsx)("img",{src:D.a,alt:""}),t.staked]})]})]})]}),Object(g.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==h&&ae.rewarded&&Object(g.jsxs)(g.Fragment,{children:[Object(p.C)(v)&&"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"!==v&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"deri-num-slider",children:[Object(g.jsx)("div",{className:"deri-cliam-remaining",children:Ye}),Object(g.jsx)("div",{className:"deri-claim-slider",children:Object(g.jsx)($.a,{startTimestamp:Ue,nowTimestamp:We,endTimestamp:Ve})}),Object(g.jsx)("div",{className:"deri-claim-pool-num",children:u("deri-claim-pool-num",{num:+ye.lp?(+ye.lp).toFixed(4):0})})]})}),Object(g.jsx)("div",{className:Object(p.C)(v)&&"0x26bE73Bdf8C113F3630e4B766cfE6F0670Aa09cF"!==v?"mining-pool-claim epoch-pool":"mining-pool-claim",children:Object(g.jsxs)("div",{className:"mining-claim-info",children:[Object(g.jsxs)("span",{children:[" ",t["you-have"]]}),Object(g.jsxs)("span",{className:"".concat(0===+me?"no-deri":""," mining-pool-num"),onClick:mt,children:[tt&&Object(g.jsx)(V.a,{}),Object(g.jsx)(x.a,{firstTime:!1,value:me,decimalScale:2}),Object(g.jsx)("img",{src:F.a,alt:"deri"})]}),Object(g.jsx)("span",{children:t["claim-in-pool"]})]})})]})})]}),Object(g.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(g.jsx)(U,{wallet:l,nowApy:qe,poolInfo:pe,chainId:O,address:v,nowToken:_,lang:t,version:h,type:w,poolConfig:ae,symbols:Te}),Object(g.jsx)("div",{className:"add-remove-liquidity",children:Object(g.jsx)(k.a,{tabSet:jt,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",activeIndex:ct,borderBottom:!0,divider:!0})})]})]})]}),("v3"===h||"v3_lite"===h)&&Object(g.jsx)(K,{address:v,chainId:O})]})})))}}]);
//# sourceMappingURL=18.1dd22cfb.chunk.js.map