(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[24],{1371:function(e,t,n){"use strict";var a,s,i=n(22),r=n(205),c=n(53),d=n(9),u=n(58),l=n(8),o=(n(78),n(1421)),p=n(57),m=n(20),y=n(15),b=n(4),f=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],j=Object(p.a)(o.a)(a||(a=Object(u.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=p.a.span(s||(s=Object(u.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(l.useState)(Object(b.jsx)("span",{className:"loading-line"})),n=Object(d.a)(t,2),a=n[0],s=n[1],u=Object(l.useState)(!0),o=Object(d.a)(u,2),p=o[0],h=o[1],x=function(){var t=e.allowZero;return"object"!==Object(c.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},O=function(e){return e&&e.replace(/\.$/,"")};return Object(l.useEffect)((function(){var t=e.allowZero,n=(e.wallet,e.closeShowLoadingEffectAfterLoaded),a=e.defaultValue,c=void 0===a?"--":a,d=Object(r.a)(e,f);if(x())d.decimalScale>0&&d.value&&/\d+\.0*[1-9]+/.test(d.value)&&!t&&0===+Object(y.bg)(d.value).toFixed(+d.decimalScale||2)&&(d.decimalScale=Object(m.e)(Math.abs(d.value))+2),(-1===d.decimalScale||0===+d.value&&t)&&delete d.decimalScale,d.value=/e(\+|=)?/.test(d.value)?Object(m.K)(d.value):""+d.value,d.value&&/\d+.9{6}/.test(d.value)&&(d.value=(+d.value).toFixed(5)),s(Object(b.jsx)(j,Object(i.a)(Object(i.a)({},d),{},{renderText:O,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(p){var u=e.width,l=e.height;s(Object(b.jsx)(v,{className:"loading-line",width:u,height:l})),n&&h(!1)}var o=window.setTimeout((function(){x()||s(c)}),c===d.value?0:6e4);return function(){clearTimeout(o)}}),[e.value,e.decimalScale,e.suffix]),a}},2315:function(e,t,n){},2316:function(e,t,n){var a={"./ERC20USDC.json":2317,"./airDrop.json":2318,"./airDropTest.json":2319};function s(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=2316},2317:function(e){e.exports=JSON.parse('{"address":"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8","abi":[{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"}]}')},2318:function(e){e.exports=JSON.parse('{"address":"0x04fC8424e78f5cadeafDF4Ec67B267e73CF29372","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claim","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newAdmin","type":"address"}],"name":"NewAdmin","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"NewAirdrop","type":"event"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"}],"name":"emergencyWithdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address[]","name":"accounts","type":"address[]"}],"name":"getBalances","outputs":[{"internalType":"uint256[]","name":"bals","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct TokenAirdrop.Balance[]","name":"bals","type":"tuple[]"}],"name":"newAirdrop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"setAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]}')},2319:function(e){e.exports=JSON.parse('{"address":"0x0fBD7d1f890fB0CCAE9c3f8F8DF35E8B55111D60","abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claim","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newAdmin","type":"address"}],"name":"NewAdmin","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"NewAirdrop","type":"event"},{"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"}],"name":"emergencyWithdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address[]","name":"accounts","type":"address[]"}],"name":"getBalances","outputs":[{"internalType":"uint256[]","name":"bals","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"components":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"internalType":"struct TokenAirdrop.Balance[]","name":"bals","type":"tuple[]"}],"name":"newAirdrop","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"setAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]}')},2322:function(e,t){},2326:function(e,t){},2539:function(e,t,n){"use strict";n.r(t);var a,s=n(0),i=n(2),r=n(9),c=n(8),d=n(48),u=n(20),l=n(188),o=n(1371),p=n(187),m=(n(44),n.p+"static/media/time.0b0bfc0e.svg"),y=(n.p,n(2315),n(1563)),b=n(1840),f=n(120),j={};function v(e){var t=Object(f.b)(),n=function(e){return j[e]}(e),a=n.address,s=n.abi,i=t.ethereum;return Object(c.useMemo)((function(){if(!a||!s||!i)return null;var e=new b.a(i,"any");return new y.b(a,s,function(e,t){return t?function(e,t){return e.getSigner(t).connectUnchecked()}(e,t):e}(e,t.account))}),[a,s,i])}(a=n(2316)).keys().forEach((function(e){var t=e.split("/"),n=t[t.length-1];j[n.substring(0,n.indexOf("."))]=a(e)}));var h=n(13),x=n(143),O=n(4),w=n(2491),T=w.BigNumber;w.ethers,w.utils;t.default=Object(d.b)("wallet","poolManager")(Object(d.c)((function(e){var t=e.lang,n=e.wallet,a=void 0===n?{}:n,d=e.type,y=void 0===d?"deri":d,b=Object(c.useState)(0),f=Object(r.a)(b,2),j=f[0],w=f[1],g=Object(c.useState)(!0),N=Object(r.a)(g,2),S=N[0],k=N[1],C=Object(l.c)(),M=Object(c.useState)({}),A=Object(r.a)(M,2),D=(A[0],A[1],Object(c.useState)(!1)),E=Object(r.a)(D,2),F=(E[0],E[1],Object(c.useState)(!0)),B=Object(r.a)(F,2),U=(B[0],B[1],Object(c.useState)(!1)),J=Object(r.a)(U,2),L=J[0],R=J[1],_=v("airDrop"),I=v("ERC20USDC"),W={processing:"Claim Processing",success:"Claim Reward Executed",error:"Claim Reward Failed"},Z={success:"Claim Reward",error:"Transaction Failed"},$=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,n,i;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.isConnected()&&_&&Object(u.g)(a.detail.chainId,42161))){e.next=10;break}return e.next=3,_.balances(h.F,a.detail.account);case 3:return t=e.sent,e.next=6,I.decimals();case 6:n=e.sent,console.log(T.from(t._hex).toString()),i=T.from(t._hex).toString()/Math.pow(10,n),R(+i>0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(42161!==+a.detail.chainId||!I){e.next=9;break}return e.next=3,I.balanceOf(a.detail.account);case 3:return t=e.sent,e.next=6,I.decimals();case 6:n=e.sent,t=T.from(t._hex).toString()/Math.pow(10,n),w(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(Object(s.a)().mark((function e(){var t,n,i,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConnected()||!_||42161!==a.detail.chainId){e.next=23;break}return e.prev=1,e.next=4,_.claim(h.F);case 4:t=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log(e.t0),e.t0.error&&e.t0.error.data&&e.t0.error.data.message&&(n=e.t0.error.data.message,C.error(n)),e.abrupt("return",!1);case 12:if(console.log("cliam",t),!t||!t.hash){e.next=17;break}x.a.emit(h.h,{title:W,content:Z,hash:t.hash}),e.next=18;break;case 17:return e.abrupt("return",!1);case 18:return e.next=20,t.wait();case 20:i=e.sent,console.log("receipt",i),i&&(console.log("receipt",i),i&&i.transactionHash&&(r=i.transactionHash,i.status?($(),k(!0),x.a.emit(h.i,{title:W,content:Z,context:{success:!0,hash:r,error:"error"}})):x.a.emit(h.i,{title:W,content:Z,context:{success:(!1).success,hash:r,error:"error"}})));case 23:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a.isConnected()&&($(),H())}),[a.chainId,a.account]),Object(c.useEffect)((function(){L?(new Date).getTime()>=16624512e5?k(!0):k(!1):k(!0)}),[L]),Object(O.jsx)("div",{className:"airdrop-box",children:Object(O.jsx)("div",{className:"airdrop-info",children:Object(O.jsxs)("div",{className:"airdrop-info-box",children:[Object(O.jsx)("div",{className:"airdrop-title",children:"USDC AirDrop Event"}),Object(O.jsxs)("div",{className:"wallet-address",children:[Object(O.jsx)("span",{className:"blue-logo"}),Object(u.j)(a.detail.account)]}),Object(O.jsxs)("div",{className:"wallet-balance",children:[t["wallet-balance"]," : ",Object(O.jsx)(o.a,{value:j,decimalScale:2,thousandSeparator:!0})," USDC"]}),"usdc"===y&&Object(O.jsxs)("div",{className:"airdrop-time position",children:[Object(O.jsx)("div",{className:"time-logo",children:Object(O.jsx)("img",{src:m,alt:""})}),Object(O.jsxs)("div",{className:"time-text",children:[Object(O.jsxs)("div",{className:"time-title",children:[Object(O.jsx)("div",{children:t["start-time"]}),Object(O.jsx)("div",{children:t["expire-time"]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:"2022-09-01 8:00:00 UTC"}),Object(O.jsx)("div",{children:"2022-09-06 8:00:00 UTC"})]})]})]}),"deri"===y&&Object(O.jsxs)("div",{className:"airdrop-time",children:[Object(O.jsx)("div",{className:"time-logo",children:Object(O.jsx)("img",{src:m,alt:""})}),Object(O.jsxs)("div",{className:"time-text",children:[Object(O.jsxs)("div",{className:"time-title",children:[Object(O.jsx)("div",{children:t["start-time"]}),Object(O.jsx)("div",{children:t["expire-time"]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:"2022-03-09 10:00:00 UTC"}),Object(O.jsx)("div",{children:"2022-03-11 12:00:00 UTC"})]})]})]}),Object(O.jsx)("div",{className:"claim",children:Object(O.jsx)(p.a,{fontWeight:"bold",disabled:S,label:t.claim,width:"277",height:"72",fontSize:"32",onClick:V})})]})})})})))}}]);
//# sourceMappingURL=24.46e0e645.chunk.js.map