(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[24],{1312:function(e,t,a){"use strict";var c,i,n=a(21),r=a(189),s=a(38),l=a(6),d=a(53),o=a(9),u=(a(71),a(1390)),j=a(52),b=a(20),O=a(16),h=a(4),p=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],v=Object(j.a)(u.a)(c||(c=Object(d.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),f=j.a.span(i||(i=Object(d.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(o.useState)(Object(h.jsx)("span",{className:"loading-line"})),a=Object(l.a)(t,2),c=a[0],i=a[1],d=Object(o.useState)(!0),u=Object(l.a)(d,2),j=u[0],x=u[1],m=function(){var t=e.allowZero;return"object"!==Object(s.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},w=function(e){return e&&e.replace(/\.$/,"")};return Object(o.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),c=e.defaultValue,s=void 0===c?"--":c,l=Object(r.a)(e,p);if(m())l.decimalScale>0&&l.value&&/\d+\.0*[1-9]+/.test(l.value)&&!t&&0===+Object(O.bg)(l.value).toFixed(+l.decimalScale||2)&&(l.decimalScale=Object(b.d)(Math.abs(l.value))+2),(-1===l.decimalScale||0===+l.value&&t)&&delete l.decimalScale,l.value=/e(\+|=)?/.test(l.value)?Object(b.J)(l.value):""+l.value,l.value&&/\d+.9{6}/.test(l.value)&&(l.value=(+l.value).toFixed(5)),i(Object(h.jsx)(v,Object(n.a)(Object(n.a)({},l),{},{renderText:w,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(j){var d=e.width,o=e.height;i(Object(h.jsx)(f,{className:"loading-line",width:d,height:o})),a&&x(!1)}var u=window.setTimeout((function(){m()||i(s)}),s===l.value?0:6e4);return function(){clearTimeout(u)}}),[e.value,e.decimalScale,e.suffix]),c}},2230:function(e,t,a){},2425:function(e,t,a){"use strict";a.r(t);var c=a(0),i=a(2),n=a(6),r=a(9),s=a(45),l=a(20),d=a(169),o=a(1312),u=a(168),j=a(40),b=a.p+"static/media/time.0b0bfc0e.svg",O=a.p+"static/media/pToken.9cfdd57f.svg",h=(a(2230),a(4));t.default=Object(s.b)("wallet","poolManager")(Object(s.c)((function(e){var t=e.lang,a=e.wallet,s=void 0===a?{}:a,p=e.type,v=void 0===p?"deri":p,f=Object(r.useState)(0),x=Object(n.a)(f,2),m=x[0],w=x[1],g=Object(r.useState)(!0),N=Object(n.a)(g,2),k=N[0],S=N[1],T=Object(d.c)(),C=Object(r.useState)({}),I=Object(n.a)(C,2),y=I[0],E=I[1],A=Object(r.useState)(!1),U=Object(n.a)(A,2),q=U[0],D=U[1],V=Object(r.useState)(!0),L=Object(n.a)(V,2),P=L[0],B=L[1],F=Object(r.useState)(!0),H=Object(n.a)(F,2),J=H[0],M=H[1],R=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isConnected()){e.next=5;break}return e.next=3,j.a.request("getDeriBalance",[s.detail.chainId,s.detail.account]);case 3:t=e.sent,w(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t,a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request("getUserInfoAllForAirDrop",[s.detail.account]);case 2:t=e.sent,a=1e3*t.deadline,E(t),S(!t.valid),(i=new Date).getTime()>=a&&S(!0),i.getTime()>=1647e9&&S(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var a,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pToken"!==v){e.next=8;break}return e.next=3,j.a.request("airdropPTokenV3",[s.detail.chainId,s.detail.account],{includeResponse:!0});case 3:(a=e.sent).success||T.error(t["claim-failed"]),a.success&&(T.success("Claim Airdrop",{timeout:5e3,isTransaction:!0,transactionHash:a.response.data.transactionHash,link:"".concat(s.blockExploreUrl,"/tx/").concat(a.response.data.transactionHash),title:"Claim Airdrop Executed"}),S(!0)),e.next=20;break;case 8:if(y.valid){e.next=11;break}return T.error(t["no-deri-to-claim"]),e.abrupt("return");case 11:if(Object(l.f)(s.detail.chainId,y.chainId)){e.next=14;break}return T.error(t["please-switch-to-BSC-to-claim-deri"]),e.abrupt("return");case 14:return e.next=16,j.a.request("mintAirdrop",[y.chainId,s.detail.account],{includeResponse:!0});case 16:(i=e.sent).success||T.error(t["claim-failed"]),i.success&&S(!0),R();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request("isUserInPTokenWhiteListV3",[s.detail.chainId,s.detail.account]);case 2:t=e.sent,D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request("isPTokenAirdroppedV3",[s.detail.chainId,s.detail.account]);case 2:t=e.sent,B(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request("isUserPTokenExistV3",[s.detail.chainId,s.detail.account]);case 2:t=e.sent,M(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s.isConnected()&&(R(),"pToken"===v?(W(),z(),G()):Z())}),[s,s.detail,v]),Object(r.useEffect)((function(){!q||J||P||((new Date).getTime()>=16497576e5?S(!0):S(!1))}),[q,J,P]),Object(h.jsx)("div",{className:"airdrop-box",children:Object(h.jsx)("div",{className:"airdrop-info",children:Object(h.jsxs)("div",{className:"airdrop-info-box",children:[Object(h.jsx)("div",{className:"airdrop-title",children:t.title}),Object(h.jsxs)("div",{className:"wallet-address",children:[Object(h.jsx)("span",{className:"blue-logo"}),Object(l.i)(s.detail.account)]}),Object(h.jsxs)("div",{className:"wallet-balance",children:[t["wallet-balance"]," : ",Object(h.jsx)(o.a,{value:m,decimalScale:0,thousandSeparator:!0})," DERI"]}),"pToken"===v&&Object(h.jsxs)("div",{className:"airdrop-time position-text",children:[Object(h.jsx)("div",{className:"time-logo",children:Object(h.jsx)("img",{src:O,alt:""})}),Object(h.jsx)("div",{className:"time-text",children:Object(h.jsxs)("div",{className:"time-title",children:[Object(h.jsx)("div",{children:"Get free mBTC^2 perpetual"}),Object(h.jsx)("div",{children:"powers position"})]})})]}),"pToken"===v&&Object(h.jsxs)("div",{className:"airdrop-time position",children:[Object(h.jsx)("div",{className:"time-logo",children:Object(h.jsx)("img",{src:b,alt:""})}),Object(h.jsxs)("div",{className:"time-text",children:[Object(h.jsxs)("div",{className:"time-title",children:[Object(h.jsx)("div",{children:t["start-time"]}),Object(h.jsx)("div",{children:t["expire-time"]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"2022-04-08 10:00:00 UTC"}),Object(h.jsx)("div",{children:"2022-04-12 10:00:00 UTC"})]})]})]}),"deri"===v&&Object(h.jsxs)("div",{className:"airdrop-time",children:[Object(h.jsx)("div",{className:"time-logo",children:Object(h.jsx)("img",{src:b,alt:""})}),Object(h.jsxs)("div",{className:"time-text",children:[Object(h.jsxs)("div",{className:"time-title",children:[Object(h.jsx)("div",{children:t["start-time"]}),Object(h.jsx)("div",{children:t["expire-time"]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"2022-03-09 10:00:00 UTC"}),Object(h.jsx)("div",{children:"2022-03-11 12:00:00 UTC"})]})]})]}),Object(h.jsx)("div",{className:"claim",children:Object(h.jsx)(u.a,{fontWeight:"bold",disabled:k,label:t.claim,width:"277",height:"72",fontSize:"32",onClick:$})})]})})})})))}}]);
//# sourceMappingURL=24.240fd863.chunk.js.map