(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[25],{1219:function(e,t,c){"use strict";var a,n,s=c(21),i=c(285),o=c(56),l=c(9),r=c(138),d=c(6),u=(c(63),c(1277)),j=c(49),h=c(19),b=c(12),p=c(4),v=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],m=Object(j.a)(u.a)(a||(a=Object(r.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),O=j.a.div(n||(n=Object(r.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(p.jsx)("span",{className:"loading-line"})),c=Object(l.a)(t,2),a=c[0],n=c[1],r=Object(d.useState)(!0),u=Object(l.a)(r,2),j=u[0],x=u[1],f=function(){var t=e.allowZero;return"object"!==Object(o.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,c=(e.wallet,e.closeShowLoadingEffectAfterLoaded),a=e.defaultValue,o=void 0===a?"--":a,l=Object(i.a)(e,v);if(f())l.decimalScale>0&&l.value&&/\d+\.0*[1-9]+/.test(l.value)&&0===+Object(b.bg)(l.value).toFixed(+l.decimalScale||2)&&(l.decimalScale=Object(h.d)(Math.abs(l.value))+2),(-1===l.decimalScale||0===+l.value&&t)&&delete l.decimalScale,l.value=Object(h.K)(l.value),l.value&&/\d+.9{6}/.test(l.value)&&(l.value=(+l.value).toFixed(5)),n(Object(p.jsx)(m,Object(s.a)(Object(s.a)({},l),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(j){var r=e.width,d=e.height;n(Object(p.jsx)(O,{className:"loading-line",width:r,height:d})),c&&x(!1)}var u=window.setTimeout((function(){f()||n(o)}),6e4);return function(){clearTimeout(u)}}),[e.value,e.decimalScale,e.suffix]),a}},1516:function(e,t,c){},2319:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(9),s=c(1),i=c.n(s),o=(c(1516),c(79)),l=c(44),r=c(6),d=c(162),u=c(163),j=c(1219),h=c(39),b=c(457),p=(c(218),c(4));t.default=Object(l.b)("wallet")(Object(l.c)((function(e){var t=e.wallet,c=e.lang,s=Object(r.useState)(),l=Object(n.a)(s,2),v=l[0],m=l[1],O=Object(r.useState)(),x=Object(n.a)(O,2),f=x[0],g=x[1],N=Object(r.useState)(0),w=Object(n.a)(N,2),k=w[0],y=w[1],S=Object(r.useState)(),I=Object(n.a)(S,2),E=I[0],D=I[1],R=Object(r.useState)(!0),T=Object(n.a)(R,2),_=T[0],P=T[1],C=Object(r.useState)(),L=Object(n.a)(C,2),V=L[0],q=L[1],B=Object(u.c)(),A=function(e){var t=document.getElementById("I"),c=document.getElementById("II");"1"===e?t.click():c.click(),m(e)},F=function(){var e=Object(a.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.request("getUserVotingPower",[t.detail.account]);case 2:c=e.sent,console.log("getUserVotingPower",c),q(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(a.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.request("getUserVotingResult",[t.detail.account]);case 2:c=e.sent,console.log("getUserVotingResult",c),m(c.option);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(a.a)(i.a.mark((function e(){var t,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.request("getVotingResult");case 2:t=e.sent,c=+t.option_1+ +t.option_2,a=+t.option_1>+t.option_2?"1":"2",D(a),y(c),g(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(a.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log([t.detail.chainId,t.detail.account,v]),e.next=3,h.a.request("vote",[t.detail.chainId,t.detail.account,v],{includeResponse:!0});case 3:c=e.sent,console.log(c),c.success?(F(),U(),M(),B.success("Success")):B.error("Failed");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t.isConnected()&&(F(),U())}),[t,t.detail]),Object(r.useEffect)((function(){M()}),[]),Object(r.useEffect)((function(){t.isConnected()&&"0"!==v&&v?P(!1):P(!0)}),[t.detail,v]),Object(p.jsxs)("div",{className:"dip-box",children:[Object(p.jsxs)("div",{className:"back-governance",children:[Object(p.jsx)(o.b,{to:"/governance",children:Object(p.jsxs)("div",{className:"icon-back",children:[Object(p.jsx)("img",{alt:"",src:b.default}),Object(p.jsx)("span",{children:c.back})]})}),Object(p.jsx)("div",{className:"poll-detail",children:c["poll-detail"]})]}),Object(p.jsxs)("div",{className:"dip-box-info",children:[Object(p.jsxs)("div",{className:"poll-dip-info",children:[Object(p.jsxs)("div",{className:"dip-list-title",children:[Object(p.jsxs)("div",{className:"title-text",children:[c.dip,"-003"]}),Object(p.jsxs)("div",{className:"dip-progress",children:[Object(p.jsx)("div",{className:"progress-bg"}),"  ",c.active]})]}),Object(p.jsx)("div",{className:"dip-list-des",children:"Vote for changing the DERI burning mechanism"}),Object(p.jsx)("div",{className:"dip-time",children:"End Time: 2022 Sat. 28th May 4:00 AM UTC"})]}),Object(p.jsxs)("div",{className:"dip-option",children:[Object(p.jsxs)("div",{className:"1"===v?"option-check option-checked":"option-check",onClick:function(e){return A("1")},children:[E&&"1"===E&&Object(p.jsx)("div",{className:"leading",children:c.leading}),Object(p.jsxs)("div",{className:"dip-one-option-title option-title",children:[Object(p.jsxs)("div",{className:"option-check-text",children:[Object(p.jsx)("input",{type:"radio",name:"option",value:"1",id:"I",checked:"1"===v}),Object(p.jsx)("label",{for:"I"}),Object(p.jsx)("span",{className:"option-title-text",children:"Remove from circulation Forever"})]}),Object(p.jsxs)("div",{className:"option-num",children:[f?(+f.option_1).toFixed(0):0," ",c["deri-voting"]," (",f?(f.option_1/k*100).toFixed(2):"0","%)"]})]}),Object(p.jsx)("div",{className:"option-peng-bg",style:{width:"".concat(f?f.option_1/k*100:"0","%")}})]}),Object(p.jsxs)("div",{className:"2"===v?"option-check option-checked":"option-check",onClick:function(){return A("2")},children:[Object(p.jsxs)("div",{className:"winner-status-quo",children:[E&&"2"===E&&Object(p.jsx)("div",{className:"leading",children:c.leading}),Object(p.jsx)("div",{className:"status-quo",children:c["status-quo"]})]}),Object(p.jsxs)("div",{className:"dip-one-option-title option-title",children:[Object(p.jsxs)("div",{className:"option-check-text",children:[Object(p.jsx)("input",{type:"radio",name:"option",value:"2",id:"II",checked:"2"===v}),Object(p.jsx)("label",{for:"II"}),Object(p.jsx)("span",{className:"option-title-text",children:"Burn to mining vault (the status quo)"})]}),Object(p.jsxs)("div",{className:"option-num",children:[f?(+f.option_2).toFixed(0):0," ",c["deri-voting"]," (",f?(f.option_2/k*100).toFixed(2):"0","%)"]})]}),Object(p.jsx)("div",{className:"option-peng-bg ",style:{width:"".concat(f?f.option_2/k*100:"0","%")}})]}),Object(p.jsxs)("div",{className:"vote-button",children:[Object(p.jsxs)("div",{className:"your-power",children:["Your Voting Power :",Object(p.jsx)(j.a,{value:V,decimalScale:2})," DERI"]}),Object(p.jsx)(d.a,{disabled:_,label:c.vote,onClick:Z,width:"286",fontSize:"18"})]})]}),Object(p.jsxs)("div",{className:"dip-option-des-rules",children:[Object(p.jsx)("div",{className:"description-close-open",children:c.description}),Object(p.jsx)("div",{className:"description-text",children:Object(p.jsxs)("div",{className:"ul-description",children:["Based on the community poll on snapshot proposed by a community member, the Deri team has placed an executive proposal (DIP 3) into the governance voting system. DERI Holders should vote for this proposal if they want to change the current DERI burning mechanism.",Object(p.jsx)("br",{}),"The option one proposes to burn to deadlock address, thus removing DERI from circulation forever.",Object(p.jsx)("br",{}),"The option two is the status quo, which is that DERI bought from the secondary market is sent to the mining vault.",Object(p.jsx)("a",{target:"_blank",href:"https://docs.deri.io/library/tokenomics#burning-mechanism",children:"Read more."})]})}),Object(p.jsxs)("div",{className:"vote-rules",children:[Object(p.jsx)("div",{className:"rules-title",children:c["voting-rules"]}),Object(p.jsxs)("div",{className:"rules-text",children:[Object(p.jsxs)("div",{className:"rules-margin",children:["Your voting power is the summation of the following balances in your wallet as of the deadline:",Object(p.jsxs)("ul",{className:"no-margin",children:[Object(p.jsx)("li",{children:"DERI balance"}),Object(p.jsx)("li",{children:"the corresponding DERI amount of your DERI-USDT SLP balance on SushiSwap"}),Object(p.jsx)("li",{children:"the corresponding DERI amount of your DERI-BUSD CLP balance on PancakeSwap"}),Object(p.jsx)("li",{children:"the corresponding DERI amount of your DLT balance in the DERI-based Inno Zone pools (BNB Chain)"})]})]}),Object(p.jsx)("div",{className:"rules-margin",children:"You can choose any of the 3 chains (ETH/BNB Chain/Aribitrum) to sign your vote by the deadline"}),Object(p.jsx)("div",{className:"rules-margin",children:"Voting Deadline: 2022 Sat. 28th May 4:00 AM UTC"}),Object(p.jsx)("div",{className:"rules-margin",children:"A snapshot will be taken at the block, at the deadline, and used to calculate the result. Please note that, if you had voted before the deadline but then had transferred your DERI, SLP, PANCAKE-LP, or DLT before the deadline, it would be the balance at the deadline that counts."})]})]}),Object(p.jsxs)("div",{className:"supplementary-notes",children:[Object(p.jsx)("div",{className:"notes-title",children:"Reference Poll Link"}),Object(p.jsx)("div",{className:"notes-text",children:Object(p.jsx)("a",{target:"_blank",href:"https://snapshot.org/#/deri.eth/proposal/0xcba17b9e16742479631df206adc3f343b9b50979bd70452bb689a3266133ad55",children:"Snapshot"})})]}),Object(p.jsxs)("div",{className:"supplementary-notes",children:[Object(p.jsx)("div",{className:"notes-title",children:"Discussion"}),Object(p.jsx)("div",{className:"notes-text",children:Object(p.jsx)("a",{target:"_blank",href:"https://discord.com/invite/kb8ZbYgp8M",children:"Discord"})})]})]})]})]})})))}}]);
//# sourceMappingURL=25.872bb21e.chunk.js.map