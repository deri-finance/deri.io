(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[18],{1223:function(e,t,n){"use strict";var a,c,i=n(24),s=n(192),r=n(59),o=n(9),l=n(55),d=n(6),u=(n(68),n(1274)),b=n(50),j=n(19),p=n(14),x=n(4),f=["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"],h=Object(b.a)(u.a)(a||(a=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),v=b.a.div(c||(c=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(x.jsx)("span",{className:"loading-line"})),n=Object(o.a)(t,2),a=n[0],c=n[1],l=Object(d.useState)(!0),u=Object(o.a)(l,2),b=u[0],m=u[1],O=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},g=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,n=(e.wallet,e.closeShowLoadingEffectAfterLoaded),a=e.defaultValue,r=void 0===a?"--":a,o=Object(s.a)(e,f);if(O())o.decimalScale>0&&!t&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.d)(Math.abs(o.value))+2),(-1===o.decimalScale||0===+o.value&&t)&&delete o.decimalScale,o.value=Object(j.J)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),c(Object(x.jsx)(h,Object(i.a)(Object(i.a)({},o),{},{renderText:g,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(b){var l=e.width,d=e.height;c(Object(x.jsx)(v,{className:"loading-line",width:l,height:d})),n&&m(!1)}var u=window.setTimeout((function(){O()||c(r)}),6e4);return function(){clearTimeout(u)}}),[e.value,e.decimalScale,e.suffix]),a}},1231:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,c=n(55),i=n(50),s=n(1306),r=n.n(s),o=n(142),l=n(19),d=n(1281),u=n(4),b=i.a.div(a||(a=Object(c.a)(["\n  display:",";\n  .text {\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:","\n  }\n  \n  .__react_component_tooltip.tooltip.show {\n    font-weight : "," \n  }\n"])),(function(e){return e.block}),(function(e){return e.block}),(function(e){return e.isWin?400:600}));function j(e){var t=e.text,n=e.id,a=void 0===n?String((new Date).getTime())+Math.random():n,c=e.tip,i=e.multiline,s=e.html,j=e.className,p=e.element,x=void 0===p?"":p,f=e.block,h=void 0===f?"block":f,v=e.width,m=void 0===v?"auto":v,O=e.children,g=e.tiggerEvent;return Object(u.jsxs)(b,{className:j,block:h,isWin:d.isWindows,children:[Object(u.jsx)("div",{className:"text","data-for":a,"data-tip":s?r.a.renderToString(x):c,"data-event":Object(l.y)()?"click":g,"data-html":s,children:t||O}),c&&Object(u.jsx)(o.a,{id:a,width:m,padding:"12",place:"bottom",overridePosition:function(e,t,n,a,c,i,s,r){var o=n.getBoundingClientRect(),l=a.getBoundingClientRect(),d=o.x,u=o.y,b=o.height,j=o.width;e.left,e.top;return d+l.width/2>document.documentElement.clientWidth?d-=Math.abs(j-l.width):d-(l.width-j)/2<0?d-=j:d-=(l.width-j)/2,u+b+l.height>=document.documentElement.clientHeight?u=u+b-l.height:u+=b,d<0&&(d=0),u<0&&(u=0),{top:u,left:d}},html:s,borderRadius:8,multiline:i})]})}},1266:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(9),i=n(55),s=n(6),r=n(166),o=n(50),l=n(4),d=o.a.div(a||(a=Object(i.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function u(e){var t=e.groups,n=void 0===t?["25%","50%","75%","100%"]:t,a=e.selectedBorderColor,i=e.defaultBorderColor,o=e.onChange,u=e.defaultValue,b=e.outline,j=e.outlineColor,p=e.width,x=e.height,f=e.bgColor,h=e.className,v=e.disabled,m=e.canUnselected,O=void 0===m||m,g=Object(s.useState)(u),k=Object(c.a)(g,2),y=k[0],w=k[1];return Object(s.useEffect)((function(){w(u)}),[u]),Object(l.jsx)(d,{className:h,children:n.map((function(e,t){return Object(l.jsx)(r.a,{label:e,selectedBorderColor:a,isSelected:e===y,disabled:v,outline:b,bgColor:f,className:"g-button",defaultBorderColor:i,outlineColor:j,width:p,height:x,onClick:function(){var t;(t=e)!==y?(w(t),o&&o(t)):O&&t===y?(w(""),o&&o("")):w(t)}},t)}))})}},1293:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a,c=n(24),i=n(55),s=n(6),r=n(50),o=n(14),l=n(1231),d=n(4),u=r.a.div(a||(a=Object(i.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function b(e){var t=e.value,n=e.unit,a=e.unitTip,i=e.max,r=e.step,b=e.onChange,j=e.styles,p=void 0===j?{}:j,x=e.disableNegtive,f=void 0===x||x,h=e.focus,v=e.placeholder,m=void 0===v?"":v,O=e.unitPadding,g=void 0===O?"24px":O,k=e.minTradeVolume,y=e.decimal,w=void 0===y?2:y,N=e.readOnly,S=e.inputWidth,T=void 0===S?"50%":S,C=e.inputHeight,I=void 0===C?"56px":C,E=e.className,q=e.disabled,F=void 0!==q&&q,_=e.onBlur,B=e.onFocus,L=Object(s.useRef)(null);return Object(s.useEffect)((function(){L.current.setCustomValidity(""),L.current&&h&&L.current.focus()}),[h]),Object(d.jsxs)(u,{unitPadding:g,inputWidth:T,inputHeight:I,className:E,style:Object(c.a)({},p),children:[Object(d.jsx)("input",{placeholder:m,type:"number",onBlur:_,onFocus:B,disabled:F,value:t,step:r,ref:L,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),n=new RegExp(t),a=e.target.value;if(i&&Object(o.bg)(a).gt(i))b&&b(i);else if(f&&(a<0||isNaN(a)))b&&b("");else if(a){if(k>=1)if(a/k>=1)b&&b(Object(o.bg)(a).div(k).integerValue()*k);else b&&b(a*k);else if(/\d+\./.test(a)&&!n.test(a)){var c=a.substring(0,a.indexOf(".")+1+w);b&&b(c)}else b&&b(a)}else b&&b(a)},readOnly:N}),Object(d.jsx)("div",{className:"unit",children:a?Object(d.jsx)(l.a,{tip:a,text:n}):n})]})}},1307:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(9),i=n(55),s=n(50),r=n(6),o=n(29),l=n(4),d=s.a.div(a||(a=Object(i.a)(["\n    cursor: pointer;\n    width:","px;\n    height:","px;\n    display:flex;\n    .tab-left.inactive{\n      border-radius:0px 0px 4px 0px;\n    }\n    .tab-right.inactive{\n      border-radius:0px 0px 0px 4px;\n    }\n    .tab-left.active{\n      border-radius:0px 4px 0px 0px;\n      ",";\n    }\n    .tab-right.active{\n      border-radius:4px 0px 0px 0px;\n      ",";\n    }\n    .inactive,.active{\n      width:50%;\n      box-sizing: content-box;\n      font-size:","px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      img{\n        margin-right:","px\n      }\n    }\n    .inactive{\n      background:",";\n      ","\n    }\n    .active {\n      color: ",";\n      background : ",";\n      ",";\n    }\n    .icon-tab{\n      margin-right:20px;\n      width:25px;\n      height:25px;\n    }\n  "])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.borderR}),(function(e){return e.borderL}),(function(e){return e.size}),(function(e){return e.iconMarginRight}),(function(e){return e.inactiveBgColor}),(function(e){return e.borderB}),(function(e){return e.activeFontColor}),(function(e){return e.activeBgColor}),(function(e){return e.borderT}));function u(e){var t=e.tabSet,n=e.inactiveBgColor,a=e.iconMarginRight,i=e.activeBgColor,s=(e.icon,e.className),u=e.width,b=void 0===u?238:u,j=e.height,p=void 0===j?47:j,x=e.size,f=void 0===x?16:x,h=e.borderTop,v=void 0!==h&&h,m=e.borderBottom,O=void 0!==m&&m,g=e.divider,k=void 0!==g&&g,y=e.activeIndex,w=void 0===y?0:y,N=Object.keys(t),S=Object(r.useState)(N[w]),T=Object(c.a)(S,2),C=T[0],I=T[1],E=Object(r.useState)(),q=Object(c.a)(E,2),F=q[0],_=q[1],B=Object(r.useState)(),L=Object(c.a)(B,2),A=L[0],H=L[1],D=Object(r.useState)(),U=Object(c.a)(D,2),R=U[0],z=U[1],P=Object(r.useState)(),Z=Object(c.a)(P,2),V=Z[0],W=Z[1],M=Object(r.useState)(),$=Object(c.a)(M,2),J=$[0],X=$[1],K=Object(r.useState)(),Y=Object(c.a)(K,2),G=Y[0],Q=Y[1];return Object(r.useEffect)((function(){var e=Object.keys(t);I(e[w])}),[t,w]),Object(r.useEffect)((function(){var e=Object.keys(t),n=C||e[w];if(t[n]){_(t[n].style);var a=v?"border-top:1px solid ".concat(t[n].borderColor):"border-top:0",c=O?"border-bottom:1px solid ".concat(t[n].borderColor):"border-bottom:0",i=k?"border-left:1px solid ".concat(t[n].borderColor):"border-left:0",s=k?"border-right:1px solid ".concat(t[n].borderColor):"border-right:0",r=t[n].fontColor?t[n].fontColor:"#FFFFFF";H(a),z(i),W(c),X(s),Q(r)}}),[t,C]),Object(l.jsxs)("div",{style:F,className:s,children:[Object(l.jsx)(d,{className:"tab-header",iconMarginRight:a,width:b,height:p,activeFontColor:G,activeBgColor:i,inactiveBgColor:n,size:f,borderT:A,borderB:V,borderL:R,borderR:J,children:N.map((function(e,n){return Object(l.jsxs)("div",{className:"".concat(t[e].direction||t[e].className,e===C?" active":" inactive"),onClick:function(t){return function(e,t){I(e)}(e)},children:[t[e].icon?Object(l.jsx)(o.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===C?t[e].icon:t[e].inicon}):"","  ",e]},n)}))}),t[C]?t[C].content:""]})}},1346:function(e,t,n){"use strict";var a=n(24),c=n(2),i=n(9),s=n(192),r=n(0),o=n.n(r),l=n(6),d=n(166),u=n(47),b=n(125),j=n(38),p=n(14),x=n(19),f=(n(1486),n(4));function h(){return Object(f.jsx)("div",{class:"sleepContentView",children:Object(f.jsx)("div",{class:"circle"})})}var v=n(29),m=(n(1487),["lang","subject","wallet","pool","ignoreApprove","bTokenId","bToken","icon","label","onClick","isReady","disabled","statusCallback","alert"]);t.a=Object(u.b)("wallet")(Object(u.c)((function(e){var t=e.lang,n=(e.subject,e.wallet),r=e.pool,u=void 0===r?{}:r,O=e.ignoreApprove,g=e.bTokenId,k=e.bToken,y=e.icon,w=e.label,N=e.onClick,S=(e.isReady,e.disabled),T=void 0===S||S,C=e.statusCallback,I=e.alert,E=Object(s.a)(e,m),q=Object(l.useState)(!0),F=Object(i.a)(q,2),_=F[0],B=F[1],L=Object(l.useState)(w),A=Object(i.a)(L,2),H=A[0],D=A[1],U=Object(l.useState)(!1),R=Object(i.a)(U,2),z=R[0],P=R[1],Z=Object(l.useState)(!1),V=Object(i.a)(Z,2),W=V[0],M=V[1],$=Object(l.useState)(!1),J=Object(i.a)($,2),X=J[0],K=J[1],Y=Object(l.useState)(!1),G=Object(i.a)(Y,2),Q=G[0],ee=G[1],te=Object(l.useState)(y),ne=Object(i.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(l.useCallback)(function(){var e=Object(c.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail||!n.address){e.next=14;break}if(!b.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(x.x)(n.address)){e.next=10;break}return e.next=7,j.a.request("isLpUnlocked",[t.detail.chainId,n.address,t.detail.account]);case 7:a=e.sent,e.next=14;break;case 10:return c=[t.detail.chainId,n.address,t.detail.account,g||k],e.next=13,j.a.request("isUnlocked",c);case 13:a=e.sent;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[k,g]),se=Object(l.useCallback)(Object(c.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!u){e.next=22;break}if(!b.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(x.x)(u.address)){e.next=10;break}return e.next=7,j.a.request("unlockLp",[n.detail.chainId,u.address,n.detail.account],{write:!0,subject:t.approve});case 7:a=e.sent,e.next=14;break;case 10:return c=[n.detail.chainId,u.address,n.detail.account,g||k],e.next=13,j.a.request("unlock",c,{write:!0,subject:Object(x.h)(t.approve.toLowerCase())});case 13:a=e.sent;case 14:if(!a.status){e.next=18;break}I.success("Approve ".concat(k),{timeout:8e3,isTransaction:!0,transactionHash:a.transactionHash,link:"".concat(n.blockExploreUrl,"/tx/").concat(a.transactionHash),title:"Approve Executed"}),e.next=21;break;case 18:if(""!==a.transactionHash){e.next=20;break}return e.abrupt("return",!1);case 20:I.error("Transaction Failed ".concat(a.error),{timeout:3e5,isTransaction:!0,transactionHash:a.transactionHash,link:"".concat(n.blockExploreUrl,"/tx/").concat(a.transactionHash),title:"Approve Failed"});case 21:return e.abrupt("return",a.status);case 22:case"end":return e.stop()}}),e)}))),[u,n,g,k]),re=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u&&n&&n.detail)){e.next=34;break}if(ee(!0),n.isConnected()){e.next=7;break}return ce(null),e.abrupt("return",n.connect());case 7:if(e.t0=O,e.t0){e.next=12;break}return e.next=11,ie(n,u);case 11:e.t0=e.sent;case 12:if(!e.t0){e.next=17;break}return ce(y),e.abrupt("return",N(t));case 17:return ce(y),e.next=20,se();case 20:if(!(a=e.sent)){e.next=30;break}return M(!0),e.next=25,N();case 25:e.sent&&K(!0),C&&C(!1),e.next=33;break;case 30:ee(!1),I&&I.error("Approve failed"),C&&C(!0);case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u&&n.detail&&n.detail.account&&u.bTokens&&t)){e.next=18;break}if(n.isConnected()){e.next=6;break}D(t["connect-wallet"]),ce(null),e.next=18;break;case 6:return e.next=8,ie(n,u);case 8:if(!e.sent){e.next=15;break}P(!1),D(w),ce(y),C&&C(!1),e.next=18;break;case 15:P(!0),ce(y),C&&C(!0);case 18:case"end":return e.stop()}}),e)}))),[u,n,t,k,g]),Object(l.useEffect)((function(){B(!T)}),[T]),Object(l.useEffect)((function(){n&&u&&u.address&&(n.setAddress(u.address),u.isV3||u.isV3Lite?n.setBToken(k):n.setBTokenId(g))}),[n,u,g,k]),Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,Object(a.a)(Object(a.a)({},E),{},{disabled:!_,label:H,onClick:re,icon:ae})),!O&&z&&_&&Object(f.jsxs)("div",{className:"init-approve",children:[Object(f.jsxs)("div",{className:"step-approve",children:[!Q&&Object(f.jsx)("div",{className:"step-one",children:"1"}),Q&&Object(f.jsx)("div",{className:"pending",children:W?Object(f.jsx)(v.a,{token:"finish"}):Object(f.jsx)(h,{})}),Object(f.jsx)("div",{className:W?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(f.jsx)("div",{className:W?"step-hr finish":"step-hr"}),Object(f.jsxs)("div",{className:"step-transaction",children:[!W&&Object(f.jsx)("div",{className:"step-two",children:"2"}),Q&&W&&Object(f.jsx)("div",{className:"pending",children:X?Object(f.jsx)(v.a,{token:"finish"}):Object(f.jsx)(h,{})}),Object(f.jsx)("div",{className:X?"transaction-text finish-text":"transaction-text",children:H})]})]})]})})))},1358:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,c=n(55),i=n(50),s=(n(6),n(4)),r=i.a.div(a||(a=Object(c.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,n=e.nowTimestamp,a=e.endTimestamp,c=parseInt((n-t)/(a-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(r,{width:c})})}},1360:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,c=n(9),i=n(55),s=n(6),r=n(50),o=n(472),l=n(4),d=r.a.div(a||(a=Object(i.a)(["\n  .search-token{\n  width: ","px;\n  height: ","px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding:0 24px;\n  border-radius:4px;\n  img{\n    width:18px;\n    height:18px;\n  }\n  .search-input{\n    border: 0;\n    width:100%;\n    height: 100%;\n    background:transparent;\n    outline-style: none;\n    color: #FFFFFF;\n    font-size: 18px;\n    border-radius: 4px;\n  }\n}\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.bgColor}));function u(e){var t=e.list,n=e.onChange,a=e.width,i=void 0===a?"320":a,r=e.height,u=void 0===r?"48":r,b=e.bgColor,j=void 0===b?"rgba(85, 119, 253, 0.1)":b,p=e.searchName,x=void 0===p?"bTokenSymbol":p,f=e.className,h=e.placeholder,v=void 0===h?"Search":h,m=(e.onFocus,e.onBlur,Object(s.useState)("")),O=Object(c.a)(m,2),g=O[0],k=O[1],y=Object(s.useState)(0),w=Object(c.a)(y,2),N=(w[0],w[1]),S=Object(s.useRef)([]);return Object(s.useEffect)((function(){if(g){var e=g.toLocaleUpperCase();0===S.current.length&&(S.current=t,N(t.length));var a=S.current.filter((function(t){return t[x]&&t[x].toUpperCase().indexOf(e)>=0}));n(a,e)}else n(S.current)}),[g]),Object(s.useEffect)((function(){0===S.current.length&&N(t.length)}),[t]),Object(l.jsx)(d,{width:i,height:u,bgColor:j,className:f,children:Object(l.jsxs)("div",{className:"search-token",children:[Object(l.jsx)("input",{type:"text",className:"search-input",placeholder:v,value:g,onChange:function(e){!function(e){var t=e.target.value;k(t)}(e)}}),Object(l.jsx)("img",{src:o.default,alt:""})]})})}},1399:function(e,t,n){"use strict";t.a=n.p+"static/media/staked.45c27f0b.svg"},1478:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),c=n(9),i=n(0),s=n.n(i),r=n(6),o=n(166),l=n(1358),d=n(169),u=n(167),b=n(1223),j=n(38),p=n(19),x=(n(1479),n(4));function f(e){var t=e.lang,n=e.getLang,i=e.poolShow,f=void 0===i||i,h=e.wallet,v=void 0===h?{}:h,m=Object(r.useState)(""),O=Object(c.a)(m,2),g=O[0],k=O[1],y=Object(r.useState)(0),w=Object(c.a)(y,2),N=w[0],S=w[1],T=Object(u.c)(),C=Object(r.useState)(0),I=Object(c.a)(C,2),E=I[0],q=I[1],F=Object(r.useState)(0),_=Object(c.a)(F,2),B=_[0],L=_[1],A=Object(r.useState)({}),H=Object(c.a)(A,2),D=H[0],U=H[1],R=Object(r.useState)(!1),z=Object(c.a)(R,2),P=z[0],Z=z[1],V=Object(r.useState)(""),W=Object(c.a)(V,2),M=W[0],$=W[1],J=Object(d.a)(D.chainId);Object(r.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,n=parseInt(Date.now()/1e3),a=parseInt(n/e)*e,c=a+e-n,i=parseInt(c/3600),s=parseInt(c%3600/60),r=parseInt(c%60);S(a),q(a+e),L(n),k("".concat(i," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}),[]);var X=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,a,c,i,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=10;break}return e.next=3,j.a.request("getUserInfoAll",[v.detail.account]);case 3:t=e.sent,n=(+t.total).toFixed(2),a=t.valid?(+t.amount).toFixed(2):0,c=t.lp,i=(+t.trade).toFixed(2),r=t.chainId,U({claimed:n,unclaimed:a,harvestDeriLp:c,harvestDeriTrade:i,chainId:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(a.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==J.name){e.next=3;break}return T.error("".concat(t["wrong-network"])),e.abrupt("return");case 3:if(Object(p.f)(v.detail.chainId,D.chainId)){e.next=6;break}return T.error("".concat(t["your-deri-is-on"]," ").concat(J.name," ").concat(t["connect-to"]," ").concat(J.name," ").concat(t["to-claim"])),e.abrupt("return");case 6:if(0!==+D.unclaimed){e.next=9;break}return T.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 9:if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=13;break}return T.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 13:return e.next=15,j.a.request("mintDToken",[v.detail.chainId,v.detail.account],{includeResponse:!0,write:!0,subject:t["claim-deri-title"]});case 15:if(!(n=e.sent).success){e.next=21;break}return T.success(t["claim-deri-reward"],{timeout:8e3,isTransaction:!0,transactionHash:n.response.data.transactionHash,link:"".concat(v.blockExploreUrl,"/tx/").concat(n.response.data.transactionHash),title:t["claim-reward-executed"]}),e.abrupt("return",!0);case 21:if(""!==n.response.transactionHash){e.next=23;break}return e.abrupt("return",!1);case 23:return T.error("".concat(t["transaction-failed"]," : ").concat(n.response.error),{timeout:3e5,isTransaction:!0,transactionHash:n.response.transactionHash,link:"".concat(v.blockExploreUrl,"/tx/").concat(n.response.transactionHash),title:t["claim-reward-failed"]}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=7;break}return e.next=3,K();case 3:e.sent&&Z(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,v.connect();case 10:return t=e.sent,e.abrupt("return",!!t);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){var n;switch(e){case 1:n=t.jan;break;case 2:n=t.feb;break;case 3:n=t.mar;break;case 4:n=t.apr;break;case 5:n=t.may;break;case 6:n=t.jun;break;case 7:n=t.jul;break;case 8:n=t.aug;break;case 9:n=t.sep;break;case 10:n=t.oct;break;case 11:n=t.nov;break;case 12:n=t.dec}return n},Q=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=5;break}return e.next=3,j.a.request("getUserFirstClaimInfo",[v.detail.account]);case 3:(t=e.sent).first_timestamp?(n=new Date(1e3*t.first_timestamp),a=n.getFullYear(),c=n.getMonth()+1,c=G(c),i=n.getDate(),$("".concat(c," ").concat(i,", ").concat(a))):$("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.setInterval(X,18e4);return X(),Q(),function(){return clearInterval(e)}}),[v.detail.account]),Object(x.jsx)("div",{className:"mining-claim",children:Object(x.jsxs)("div",{className:"mining-claim-info",children:[Object(x.jsxs)("div",{className:"deri-num-slider",children:[Object(x.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",g]}),D.harvestDeriLp>0&&Object(x.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(x.jsx)("span",{className:"deri-num",children:Object(x.jsx)(b.a,{value:D.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),f&&Object(x.jsxs)("div",{className:"deri-claim-text",children:[n("claim-deri",{num:P?0:D.unclaimed?D.unclaimed:0}),M&&Object(x.jsxs)("span",{children:[" ",n("claim-deri-history",{date:M,num:P?+D.unclaimed+ +D.claimed:D.claimed})," . ",t.woohoo]})]}),Object(x.jsx)("div",{className:"deri-claim-slider",children:Object(x.jsx)(l.a,{startTimestamp:N,nowTimestamp:B,endTimestamp:E})})]}),f&&Object(x.jsx)("div",{className:"cliam-button",children:Object(x.jsx)(o.a,{icon:"ClaimDeri",fontWeight:"bold",label:t["claim-all"],onClick:Y})})]})})}},1479:function(e,t,n){},1486:function(e,t,n){},1487:function(e,t,n){},1488:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a,c=n(9),i=n(55),s=n(6),r=(n(38),n(50)),o=n(29),l=n(1231),d=n(1223),u=n(4),b=r.a.div(a||(a=Object(i.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function j(e){var t=e.lang,n=e.baseToken,a=e.penalty,i=e.isB0Staked,r=e.availableBalance,j=e.getLang,p=Object(s.useState)(""),x=Object(c.a)(p,2),f=x[0],h=x[1];return Object(s.useEffect)((function(){var e,c={num:n};e=i?"BUSD"===n?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(t["this-action-will-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(j("this-action-will-trigger-swapping-to-update-your",c)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(a," BUSD ").concat(j("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",c)),h(e)}),[i,a,n]),Object(u.jsx)(b,{children:+a<0&&+r>0&&Object(u.jsx)("div",{className:"remove-hint",children:Object(u.jsxs)(l.a,{tip:f,width:"332",children:[Object(u.jsx)(o.a,{token:"warn"})," ",Object(u.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(u.jsx)(d.a,{value:a,decimalScale:2})," BUSD"]})]})})})}},1971:function(e,t,n){},1972:function(e,t,n){},2355:function(e,t,n){"use strict";n.r(t);var a=n(123),c=n(2),i=n(9),s=n(0),r=n.n(s),o=n(6),l=n(57),d=n(86),u=n(47),b=n(1478),j=n(1293),p=n(1346),x=n(1266),f=n(19),h=n(1223),v=n(15),m=n(38),O=n(167),g=(n(1971),n(14)),k=n(1488),y=n(4);function w(e){var t=e.getLang,n=e.wallet,a=e.lang,s=e.type,l=e.isLp,d=e.bTokenId,u=e.poolConfig,b=e.version,w=e.baseToken,N=e.address,S=e.walletBalance,T=e.poolInfo,C=e.afterTransaction,I=Object(o.useState)(""),E=Object(i.a)(I,2),q=E[0],F=E[1],_=Object(o.useState)(!1),B=Object(i.a)(_,2),L=B[0],A=B[1],H=Object(o.useState)(""),D=Object(i.a)(H,2),U=D[0],R=D[1],z=Object(o.useState)(!1),P=Object(i.a)(z,2),Z=P[0],V=P[1],W=Object(o.useState)(""),M=Object(i.a)(W,2),$=M[0],J=M[1],X=Object(o.useState)(!1),K=Object(i.a)(X,2),Y=K[0],G=K[1],Q=Object(O.c)(),ee=Object(o.useState)({}),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],ce="add"===s||"v2"===b||"v3"===b||"v3_lite"===b?w:a.shares,ie=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,m.a.request("getEstimatedLpInfo",[n.detail.chainId,N,n.detail.account,w]);case 3:t=e.sent,J(t.b0Penalty),G(t.isB0Staked);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="add"===s?q:Object(g.bg)(q).times(Object(g.bg)(-1)).toString(),a="v3"===b||"v3_lite"===b?[n.detail.chainId,N,n.detail.account,t,w]:[n.detail.chainId,N,n.detail.account,t,d],e.next=4,m.a.request("getEstimatedLiquidityInfo",a);case 4:+(c=e.sent).percentage1<0&&(c.percentage1=0,c.shares1=0),ae(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(c.a)(r.a.mark((function e(){var c,i,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(g.bg)(S),!Object(g.bg)(q).gt(c)){e.next=5;break}return Q.error(a["not-sufficient-funds"]),e.abrupt("return",!1);case 5:if(!(q<=0||isNaN(q))){e.next=8;break}return Q.error(a["it-has-to-be-greater-than-zero"]),e.abrupt("return",!1);case 8:if("lp"!==l){e.next=15;break}return s=[n.detail.chainId,N,n.detail.account,q],e.next=12,m.a.request("addLpLiquidity",s,{includeResponse:!0});case 12:i=e.sent,e.next=19;break;case 15:return o="v3"===b||"v3_lite"===b?[n.detail.chainId,N,n.detail.account,q,w]:[n.detail.chainId,N,n.detail.account,q,d],e.next=18,m.a.request("addLiquidity",o,{includeResponse:!0,write:!0,subject:a["add-liquidity"]});case 18:i=e.sent;case 19:if(C(!0),F(""),i&&i.success){e.next=28;break}if(""!==i.response.transactionHash){e.next=24;break}return e.abrupt("return",!1);case 24:return Q.error("".concat(a["transaction-failed"]," : ").concat(i.response.error),{timeout:3e5,isTransaction:!0,transactionHash:i.response.transactionHash,link:"".concat(n.blockExploreUrl,"/tx/").concat(i.response.transactionHash),title:a["add-liquidity-failed"]}),e.abrupt("return",!1);case 28:Q.success("".concat(t("add-baseToken-liquidity",{baseToken:w})),{timeout:8e3,isTransaction:!0,transactionHash:i.response.data.transactionHash,link:"".concat(n.blockExploreUrl,"/tx/").concat(i.response.data.transactionHash),title:a["add-liquidity-executed"]});case 29:return e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(r.a.mark((function e(){var c,i,s,o,u,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=Object(g.bg)(T.totalShares),i=L?T.totalShares:q,!(s=Object(g.bg)(i)).gt(c)){e.next=6;break}return Q.error("".concat(a["your-current-max-removable-shares-are"],"  ").concat(T.totalShares)),e.abrupt("return",!1);case 6:if(!(+i<=0||isNaN(q))){e.next=9;break}return Q.error(a["invalid-liquidity"]),e.abrupt("return",!1);case 9:if("lp"!==l){e.next=16;break}return u=[n.detail.chainId,N,n.detail.account,i],e.next=13,m.a.request("removeLpLiquidity",u,{includeResponse:!0,write:!0,subject:a["remove-liquidity"]});case 13:o=e.sent,e.next=20;break;case 16:return j="v3"===b||"v3_lite"===b?[n.detail.chainId,N,n.detail.account,i,w,c.eq(s)]:[n.detail.chainId,N,n.detail.account,i,d,c.eq(s)],e.next=19,m.a.request("removeLiquidity",j,{includeResponse:!0,write:!0,subject:a["remove-liquidity"]});case 19:o=e.sent;case 20:if(o&&o.success){e.next=26;break}if(""!==o.response.transactionHash){e.next=23;break}return e.abrupt("return",!1);case 23:Q.error("".concat(a["transaction-failed"]," : ").concat(o.response.error),{timeout:3e5,isTransaction:!0,transactionHash:o.response.transactionHash,link:"".concat(n.blockExploreUrl,"/tx/").concat(o.response.transactionHash),title:a["remove-liquidity-failed"]}),e.next=27;break;case 26:Q.success("".concat(t("remove-baseToken-liquidity",{baseToken:w})),{timeout:5e3,isTransaction:!0,transactionHash:o.response.data.transactionHash,link:"".concat(n.blockExploreUrl,"/tx/").concat(o.response.data.transactionHash),title:a["remove-liquidity-executed"]});case 27:return F(""),C(),e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e="add"===s?Object(g.bg)(S):Object(g.bg)(T.totalShares);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(S)&&(e=Object(g.bg)((+S).toFixed(5)));var t=Object(g.bg)(q);q&&0!==+q&&!t.gt(e)?(se(),V(!1)):V(!0)}),[q,s,T,S]),Object(o.useEffect)((function(){F(""),R("")}),[s,d,w]),Object(o.useEffect)((function(){n.isConnected()&&ie()}),[n.detail,w,N]),Object(y.jsxs)("div",{className:"operate",children:[Object(y.jsx)("div",{className:"add-input",children:Object(y.jsx)(j.a,{value:q,unit:ce,onChange:function(e){F(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===s&&Object(y.jsxs)("div",{className:"wallet-balance",children:[a["wallet-balance"],": ",Object(y.jsx)(h.a,{value:S,displayType:"text",decimalScale:2})," ",w]}),"remove"===s&&Object(y.jsxs)("div",{className:"wallet-balance",children:[a["staked-balance"],": ",Object(y.jsx)(h.a,{value:T.totalShares,displayType:"text",decimalScale:2})," ",ce]}),"remove"===s&&Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{getLang:t,lang:a,baseToken:w,penalty:$,isB0Staked:Y})}),Object(y.jsx)("div",{className:"check-proportion",children:Object(y.jsx)(x.a,{outline:!0,defaultValue:U,onChange:function(e){var t="add"===s?S:T.totalShares,n=Object(f.E)(e,t);R(e),F(n),R(e),A("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(y.jsx)("div",{className:"information",children:0!==+q&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"percentage",children:[Object(y.jsx)("div",{className:"info-box-title",children:a["my-liquidity-percentage"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,width:"80px",value:T.percent,decimalScale:2,suffix:"%"})," ->  ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:100*ne.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"staked-balance",children:[Object(y.jsx)("div",{className:"info-box-title",children:a["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:T.formatShares,decimalScale:2})," -> ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:ne.shares1,decimalScale:2}),"v2"===b||"v3"===b||"v3_lite"===b?" "+w:" "+a.shares]})]})]})}),Object(y.jsxs)("div",{className:"add-remove-btn",children:["add"===s&&Object(y.jsx)(p.a,{alert:Q,disabled:Z,fontWeight:"bold",onClick:re,bToken:w,pool:u,wallet:n,bTokenId:d,fontSize:"18",type:v.o,width:"331",label:a["add-liquidity"],lang:a}),"remove"===s&&Object(y.jsx)(p.a,{alert:Q,disabled:Z,fontWeight:"bold",onClick:oe,bToken:w,pool:u,type:v.o,wallet:n,bTokenId:d,fontSize:"18",width:"331",label:a["remove-liquidity"],lang:a})]})]})}var N=n(1307),S=n(109),T=n(169),C=(n(1972),n(466)),I=n(463),E=n(464),q=n(462),F=n(1399),_=n(465),B=n(1231),L=n(295),A=n(166),H=S[g.DeriEnv.get()].chainInfo;function D(e){var t=e.wallet,n=e.chainId,a=e.nowApy,s=e.poolInfo,l=e.address,d=e.nowToken,u=e.lang,b=e.version,j=e.type,p=e.poolConfig,x=e.symbols,v=Object(o.useState)("show"),g=Object(i.a)(v,2),k=g[0],w=g[1],N=Object(o.useState)(),S=Object(i.a)(N,2),T=S[0],C=S[1],I=Object(O.c)(),E=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("poolConfig",p),!p){e.next=7;break}return e.next=4,p.getVenusEarned(t,l);case 4:n=e.sent,C(n=+n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.request("claimXVSLp",[t.detail.chainId,l,t.detail.account],{includeResponse:!0,write:!0,subject:u["claim-XVS"]});case 2:if((n=e.sent)&&n.success){e.next=9;break}if(""!==n.response.transactionHash){e.next=6;break}return e.abrupt("return",!1);case 6:I.error("".concat(u["transaction-failed"]," : ").concat(n.response.error),{timeout:3e5,isTransaction:!0,transactionHash:n.response.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.response.transactionHash),title:u["claim-reward-executed"]}),e.next=10;break;case 9:I.success(u["claim-XVS-reward"],{timeout:8e3,isTransaction:!0,transactionHash:n.response.data.transactionHash,link:"".concat(t.blockExploreUrl,"/tx/").concat(n.response.data.transactionHash),title:u["claim-reward-failed"]});case 10:E();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){if(t.isConnected()&&("v3"===b||"v3_lite"===b)){var e;return E(),e=window.setInterval((function(){E()}),18e4),function(){e&&clearInterval(e)}}}),[t,t.detail,p]),Object(y.jsxs)("div",{className:"pool-info",children:[Object(y.jsxs)("div",{className:"pool-info-title",children:[Object(y.jsx)("div",{className:"pool-info-title-text",children:u["pool-info"]}),Object(y.jsxs)("div",{className:"down-up",children:["show"===k&&Object(y.jsx)("span",{onClick:function(){return w("hide")},children:Object(y.jsx)("img",{className:"up-icon",alt:"",src:L.default})}),"hide"===k&&Object(y.jsx)("span",{onClick:function(){return w("show")},children:Object(y.jsx)("img",{alt:"",src:L.default})})]})]}),Object(y.jsxs)("div",{className:"'pool-info-text' ".concat(k),children:[Object(y.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==b&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u.apy}),Object(y.jsxs)("div",{className:"info-box-num",children:["v3"!==b&&"v3_lite"!==b&&Object(y.jsx)(h.a,{value:s.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===b||"v3_lite"===b)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B.a,{text:Object(y.jsx)(h.a,{width:"50px",value:a.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["deri-apy"]}),"\xa0 +  \xa0  ",Object(y.jsx)(B.a,{text:Object(y.jsx)(h.a,{width:"50px",value:a.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(y.jsx)(B.a,{text:Object(y.jsx)(h.a,{width:"50px",value:a.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:u["xvs-distribution-apy"]})]})]})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["pool-liquidity"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{value:s.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===b||"v3_lite"===b?"BUSD":d]})]}),("v2"===b||"v3"===b||"v3_lite"===b)&&!("option"===j&&"v2"===b)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u.multiplier}),Object(y.jsx)("div",{className:"info-box-num",children:s.multiplier})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["my-liquidity-percentage"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)(h.a,{allowZero:!0,value:s.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==b&&"v3"!==b&&"v3_lite"!==b||"v2"===b&&"option"===j)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["liquidity-share-value"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:6,value:s.shareValue,thousandSeparator:!0})," ",d]})]})}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,value:s.formatShares,decimalScale:2}),"v2"!==b&&"v3"!==b&&"v3_lite"!==b||"option"===j&&"v2"===b?" "+u.shares:" "+d]})]}),("v2"!==b&&"v3"!==b&&"v3_lite"!==b||"v2"===b&&"option"===j)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title"}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:2,value:s.values,thousandSeparator:!0})," ",d]})]}),("v2"===b||"v3"===b||"v3_lite"===b)&&!("option"===j&&"v2"===b)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:Object(y.jsx)(B.a,{multiline:!0,text:u["mining-pnl"],tip:u["mining-pnl-hover"],html:!0,element:Object(y.jsxs)("span",{children:[" ",Object(y.jsxs)("div",{children:[u["mining-pnl-hover-one"]," "]}),u["mining-pnl-hover"]," ",Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:u["learn-more-pnl"]})," "]})," "]})})}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,prefix:" ",value:s.pnl,decimalScale:2}),"  ",p&&p.bTokens[0].bTokenSymbol," (",Object(y.jsx)(h.a,{value:s.pnlPercentage,decimalScale:2,suffix:"%"}),")"]})]}),("v3"===b||"v3_lite"===b)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["xvs-earned"]}),Object(y.jsxs)("div",{className:"info-box-num collect-box",children:[Object(y.jsx)(h.a,{value:T,decimalScale:2}),Object(y.jsx)(A.a,{onClick:q,className:"collect",label:u.collect})]})]})]}),Object(y.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==j&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u.symbols}),Object(y.jsx)("div",{className:"info-box-num symbols",children:"main"===p.zone?x:Object(y.jsx)(B.a,{tip:x,children:x})})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:u["contract-address"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(H[n]&&H[n].viewUrl,"/address/").concat(l),children:Object(f.i)(l)})})]})]})]})]})}var U=n(29),R=n(1360);function z(e){var t=e.lang,n=e.address,a=e.checkoutBaseToken,c=e.nowToken,s=e.bTokenList,r=e.version,l=e.type,d=Object(o.useState)([]),u=Object(i.a)(d,2),b=u[0],j=u[1],p=function(e){e.target.src=_.default};return Object(o.useEffect)((function(){j(s)}),[s]),Object(y.jsxs)("div",{className:"select-basetoken-info",children:[Object(y.jsxs)("div",{className:"select-coin-title-search",children:[Object(y.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(y.jsx)("div",{className:"search-box",children:Object(y.jsx)(R.a,{list:s,searchName:"bTokenSymbol",onChange:function(e){return j(e)}})})]}),Object(y.jsxs)("div",{className:"coin-search",children:[Object(y.jsx)("div",{className:"slide-icon left",children:Object(y.jsx)(U.a,{token:"arrow-left",width:"24",height:"24"})}),Object(y.jsxs)("div",{className:"v3"===r||"v3_lite"===r?"coin-list some-coin":"coin-list",children:["lp"!==l&&"v2_lite_open"!==r&&Object(y.jsx)(y.Fragment,{children:b.map((function(e,n){return Object(y.jsxs)("div",{className:c===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){a(e.bTokenId,e.bTokenSymbol)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(y.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(y.jsx)(h.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===r||"v3_lite"===r)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[" +  ",Object(y.jsx)(h.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(y.jsx)(h.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(y.jsx)("img",{src:F.a,alt:""})]})}))}),"v2_lite_open"===r&&Object(y.jsx)(y.Fragment,{children:b.map((function(e,n){return Object(y.jsxs)("div",{className:"coin-box checked-base",onClick:function(){a(e.bTokenId)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(y.jsx)("img",{alt:"",onError:p,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(y.jsx)("div",{className:"apy-base-staked",children:Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:F.a,alt:""}),t.staked]})]})}))}),"lp"===l&&s.length&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"coin-box checked-base",children:Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(s[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(s[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:c}),Object(y.jsxs)("div",{className:"base-apy",children:[Object(f.v)(n)&&Object(y.jsxs)(y.Fragment,{children:[t.apy," \xa0 ",Object(y.jsx)(h.a,{value:s[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(f.B)(n)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(B.a,{text:"".concat(t.apy," ").concat((+s[1].apy).toFixed(2)," %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(y.jsx)(B.a,{text:"".concat(t.apy,"  ").concat((+s[1].lpApy).toFixed(2)," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(y.jsx)("div",{className:"slide-icon right",children:Object(y.jsx)(U.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var P=S[g.DeriEnv.get()].chainInfo;t.default=Object(u.b)("wallet","poolManager")(Object(u.c)((function(e){var t,n=e.lang,s=e.wallet,u=void 0===s?{}:s,j=e.poolManager,p=e.getLang,x=Object(l.i)(),h=x.version,v=x.chainId,O=x.address,k=x.type,S=Object(o.useState)(),B=Object(i.a)(S,2),L=B[0],A=B[1],H=Object(o.useState)(""),U=Object(i.a)(H,2),R=U[0],Z=U[1],V=Object(o.useState)(!1),W=Object(i.a)(V,2),M=W[0],$=W[1],J=Object(o.useState)(""),X=Object(i.a)(J,2),K=X[0],Y=X[1],G=Object(o.useState)([]),Q=Object(i.a)(G,2),ee=Q[0],te=Q[1],ne=Object(o.useState)({}),ae=Object(i.a)(ne,2),ce=ae[0],ie=ae[1],se=Object(T.a)(),re=Object(o.useState)(""),oe=Object(i.a)(re,2),le=oe[0],de=oe[1],ue=Object(o.useState)(),be=Object(i.a)(ue,2),je=be[0],pe=be[1],xe=Object(o.useState)({}),fe=Object(i.a)(xe,2),he=fe[0],ve=fe[1],me=P[v]&&P[v].name,Oe=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isConnected()){e.next=17;break}if(t=[u.detail.chainId,O,u.detail.account],n=null,!K.isLp){e.next=9;break}return e.next=6,m.a.request("getLpWalletBalance",t);case 6:n=e.sent,e.next=16;break;case 9:if("v3"===h||"v3_lite"===h?t.push(L):t.push(R),"v2_lite_open"!==h){e.next=13;break}return e.next=13,g.openConfigListCache.update();case 13:return e.next=15,m.a.request("getBTokenBalance",t);case 15:n=e.sent;case 16:pe(n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){Oe(),Ne(),Se()},ke=Object(o.useMemo)((function(){var e;return e={},Object(a.a)(e,n.add,{content:Object(y.jsx)(w,{getLang:p,poolConfig:K,isLp:k,wallet:u,afterTransaction:ge,version:h,bTokenId:R,address:O,lang:n,type:"add",poolInfo:ce,baseToken:L,walletBalance:je}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(a.a)(e,n.remove,{content:Object(y.jsx)(w,{getLang:p,isLp:k,poolConfig:K,wallet:u,afterTransaction:ge,lang:n,address:O,type:"remove",bTokenId:R,poolInfo:ce,balance:ce,baseToken:L,version:h}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),e}),[n,p,K,k,u,h,R,O,L,je,ce]),ye=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.load();case 2:if(t=j.pools,"lp"!==k){e.next=7;break}return e.next=6,j.loadDoubleMingingPool();case 6:t=j.lpPools;case 7:if("v2_lite_open"!==h){e.next=11;break}return e.next=10,j.loadOpen();case 10:t=j.openPools;case 11:t=(t=t.filter((function(e){return e.address===O})))[0],t.bTokens[0].bTokenSymbol,Object(f.v)(O)?"PANCAKE-LP":Object(f.B)(O)&&"DERI-USDT SLP",t.bTokens[0].bTokenId,n=(n=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),de(n),Y(t),te(t.bTokens);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=6;break}return e.next=3,K.getPoolInfo(u,K);case 3:return(t=e.sent).bTokensApy&&ee.map((function(e){if("v2"===h)e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy;else if("v2_lite_open"!==h&&"v3"!==h&&"v3_lite"!==h)e.apy=100*+t.bTokensApy[0].apy,Object(f.B)(O)&&(e.lpApy=t.lpApy);else if("v3"===h||"v3_lite"===h){var n=t.bTokensApy.find((function(t){return t.bTokenSymbol===e.bTokenSymbol}));n&&(e.apy=100*+n.apy,e.supplyApy=100*+n.supplyApy,e.xvsApy=100*+n.xvsApy)}return e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,c,i,s,o,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!K){e.next=15;break}return e.next=4,K.getPoolInfo(u,K);case 4:if((n=e.sent).bTokensApy&&n.bTokensLiq&&("v2"===h&&R?(o=n.bTokensApy.filter((function(e){return e.bTokenId===R})),a=o[0].apy,l=o[0].multiplier,s=(s=n.bTokensLiq.filter((function(e){return e.bTokenId===R})))[0].liquidity):"v2_lite_open"!==h&&"v3"!==h&&"v3_lite"!==h?(a=n.bTokensApy[0].apy,s=n.bTokensLiq[0].liquidity):"v3"!==h&&"v3_lite"!==h||((o=n.bTokensApy.filter((function(e){return e.bTokenSymbol===L}))).length&&(a=o[0].apy,c=o[0].supplyApy,i=o[0].xvsApy,l=o[0].multiplier),(s=n.bTokensLiq.filter((function(e){return e.bTokenSymbol===L}))).length&&(s=s[0].liquidity)),t={total:s,apy:100*+a,supplyApy:100*+c,xvsApy:100*+i,multiplier:l}),!u.isConnected()){e.next=14;break}return e.next=9,K.getLiquidityInfo(u,O,K.version,K.isLp,k,L,R);case 9:d=e.sent,t=d,"v3"!==h&&"v3_lite"!==h||(t.supplyApy=100*+c,t.xvsApy=100*+i),t.apy=100*+a,t.multiplier=l;case 14:ie(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.isConnected()||!K){e.next=9;break}return e.next=3,K.getIsStaked(u,K);case 3:(t=e.sent).bTokens&&ee.map((function(e){if("v2"===h&&"option"!==k)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===h||"v3_lite"===h){var n=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!n.length&&n[0].isStaked}else e.staked=t.isStaked;return e})),n=[],ee.forEach((function(e,t){if(e.staked)return n.push(e),void ee.splice(t,1)})),ee.unshift.apply(ee,n),ee.length&&(a=ee[0].bTokenSymbol,Object(f.v)(O)?a="PANCAKE-LP":Object(f.B)(O)&&(a="DERI-USDT SLP"),c=ee[0].bTokenId,A(a),Z(c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="v3"!==h&&"v3_lite"!==h?K.bTokens.filter((function(e){return e.bTokenId===t})):K.bTokens.filter((function(e){return e.bTokenSymbol===n})),ie({}),Z(t),pe(""),A(a[0].bTokenSymbol),$();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){u.detail.chainId&&u.detail.chainId!==v&&u.switchNetwork(se[v])}),[u.detail]),Object(o.useEffect)((function(){ye()}),[]),Object(o.useEffect)((function(){if(pe(""),ee.length&&(L||R)){var e,t={};if("v2"!==h)t=ee.filter((function(e){return e.bTokenSymbol===L}))[0];else if("v2"===h){t=ee.filter((function(e){return e.nowTokenId===R}))[0]}ve(t),"v2"===h&&"option"!==k?R&&(e=ee.filter((function(e){return e.bTokenId===R}))[0].staked):"lp"!==k&&(e=ee.filter((function(e){return e.bTokenSymbol===L}))[0].staked),$(e)}}),[ee,L,R]),Object(o.useEffect)((function(){we()}),[K,ee]),Object(o.useEffect)((function(){Ne(),Oe()}),[R,K,u.detail.account,L]),Object(o.useEffect)((function(){Se()}),[K,u.detail.account,ee]),Object(y.jsxs)("div",{className:"pool-detail",children:[Object(y.jsx)("div",{className:"back-pool",children:Object(y.jsx)(d.b,{to:"0x08aD0E0b4458183758fC5b9b6D27c372965fB780"===O||"0x66f501dda450C8978c4A1115D7b2A7FAa7702F05"===O||"0x574022307e60bE1f07da6Ec1cB8fE23d426e5831"===O?"/retired":"/pool",children:Object(y.jsxs)("div",{className:"icon-back",children:[Object(y.jsx)("img",{alt:"",src:C.default}),Object(y.jsx)("span",{children:n.back})]})})}),Object(y.jsxs)("div",{className:"pool-deatail-info",children:[Object(y.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(y.jsxs)("div",{className:"pool-info-text",children:[Object(y.jsxs)("div",{className:"pool-network-type",children:[Object(y.jsx)("div",{className:"network-logo",children:Object(y.jsx)("img",{alt:"",src:function(e){var t,n=+e;return 56===n||97===n?t=I.default:137===n?t=E.default:1===n&&(t=q.default),t}(v)})}),Object(y.jsxs)("div",{className:"pool-type-network-text",children:[Object(y.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==O&&Object(y.jsxs)(y.Fragment,{children:[n[K.type]," ",K[K.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===O&&Object(y.jsx)(y.Fragment,{children:n[K.zone]})]}),Object(y.jsx)("div",{className:"pool-network-text",children:me})]})]}),Object(y.jsxs)("div",{className:"pool-des",children:["lp"!==k&&n["amm-pool-des"],"clp"===h&&Object(y.jsx)(y.Fragment,{children:n["deri-pancake-pool"]}),"slp"===h&&Object(y.jsx)(y.Fragment,{children:n["deri-sushi-pool"]}),Object(y.jsx)("br",{}),"lp"!==k?Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",n["learn-more"]]})}):Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",n["learn-more"]]})})]})]}),Object(y.jsx)(z,{lang:n,address:O,checkoutBaseToken:Te,nowToken:L,bTokenList:ee,version:h,type:k})]}),Object(y.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(y.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(y.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==k&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(L),children:"v2_lite_open"===h&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{alt:"",onError:function(e){e.target.src=_.default},src:"https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/".concat(L,".png")})})}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[n.manage," ",L," ",n.liquidity]}),M&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:F.a,alt:""}),n.staked]})]})]}),"lp"===k&&ee.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(ee[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(ee[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[n.manage," ",L," ",n.liquidity]}),M&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:F.a,alt:""}),n.staked]})]})]})]}),Object(y.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==h&&Object(y.jsx)(b.a,{poolShow:!1,lang:n,wallet:u})})]}),Object(y.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(y.jsx)(D,(t={wallet:u,nowApy:he,poolInfo:ce,chainId:v,address:O,nowToken:L,lang:n},Object(a.a)(t,"poolInfo",ce),Object(a.a)(t,"version",h),Object(a.a)(t,"type",k),Object(a.a)(t,"poolConfig",K),Object(a.a)(t,"symbols",le),t)),Object(y.jsx)("div",{className:"add-remove-liquidity",children:Object(y.jsx)(N.a,{tabSet:ke,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=18.23b6fa30.chunk.js.map