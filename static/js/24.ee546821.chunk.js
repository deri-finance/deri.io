(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[24],{1202:function(e,t,a){"use strict";var c=a(5),i=(a(62),a(1247)),s=a(48),n=a(16),r=a(9),l=a(2);const d=Object(s.a)(i.a)`
  width : ${e=>e.width}px;
`,o=s.a.div`
  width : ${e=>/px$/.test(e.width)?e.width:`${e.width}px`};
  height : ${e=>/px$/.test(e.height)?e.height:`${e.height}px`};
`;t.a=function(e){const[t,a]=Object(c.useState)(Object(l.jsx)("span",{className:"loading-line"})),[i,s]=Object(c.useState)(!0),u=()=>{const{allowZero:t}=e;return"object"!==typeof e.value&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},j=e=>e&&e.replace(/\.$/,"");return Object(c.useEffect)((()=>{const{allowZero:t,wallet:c,closeShowLoadingEffectAfterLoaded:b,defaultValue:h="--",...p}=e;if(u())p.decimalScale>0&&!t&&p.value&&/\d+\.0*[1-9]+/.test(p.value)&&0===+Object(r.bg)(p.value).toFixed(+p.decimalScale||2)&&(p.decimalScale=Object(n.d)(Math.abs(p.value))+2),-1===p.decimalScale&&delete p.decimalScale,p.value=Object(n.J)(p.value),p.value&&/\d+.9{6}/.test(p.value)&&(p.value=(+p.value).toFixed(5)),a(Object(l.jsx)(d,{...p,renderText:j,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0}));else if(i){const{width:t,height:c}=e;a(Object(l.jsx)(o,{className:"loading-line",width:t,height:c})),b&&s(!1)}const x=window.setTimeout((()=>{u()||a(h)}),6e4);return()=>{clearTimeout(x)}}),[e.value,e.decimalScale,e.suffix]),t}},2114:function(e,t,a){},2317:function(e,t,a){"use strict";a.r(t);var c=a(7),i=a(22),s=a(4),n=a.n(s),r=a(5),l=a(46),d=a(16),o=a(163),u=a(1202),j=a(162),b=a(37),h=a.p+"static/media/time.0b0bfc0e.svg",p=a.p+"static/media/pToken.9cfdd57f.svg",x=(a(2114),a(2));t.default=Object(l.b)("wallet","poolManager")(Object(l.c)((function(e){var t=e.lang,a=e.wallet,s=void 0===a?{}:a,l=e.type,v=void 0===l?"deri":l,m=Object(r.useState)(0),O=Object(i.a)(m,2),f=O[0],w=O[1],g=Object(r.useState)(!0),N=Object(i.a)(g,2),k=N[0],T=N[1],S=Object(o.c)(),C=Object(r.useState)({}),I=Object(i.a)(C,2),y=I[0],E=I[1],U=Object(r.useState)(!1),$=Object(i.a)(U,2),q=$[0],A=$[1],D=Object(r.useState)(!0),V=Object(i.a)(D,2),P=V[0],B=V[1],F=Object(r.useState)(!0),H=Object(i.a)(F,2),J=H[0],L=H[1],M=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isConnected()){e.next=5;break}return e.next=3,b.a.request("getDeriBalance",[s.detail.chainId,s.detail.account]);case 3:t=e.sent,w(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.request("getUserInfoAllForAirDrop",[s.detail.account]);case 2:t=e.sent,a=1e3*t.deadline,E(t),T(!t.valid),(c=new Date).getTime()>=a&&T(!0),c.getTime()>=1647e9&&T(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(c.a)(n.a.mark((function e(){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("pToken"!==v){e.next=8;break}return e.next=3,b.a.request("airdropPTokenV3",[s.detail.chainId,s.detail.account],{includeResponse:!0});case 3:(a=e.sent).success||S.error(t["claim-failed"]),a.success&&(S.success("Claim Airdrop",{timeout:5e3,isTransaction:!0,transactionHash:a.response.data.transactionHash,link:"".concat(s.blockExploreUrl,"/tx/").concat(a.response.data.transactionHash),title:"Claim Airdrop Executed"}),T(!0)),e.next=20;break;case 8:if(y.valid){e.next=11;break}return S.error(t["no-deri-to-claim"]),e.abrupt("return");case 11:if(Object(d.f)(s.detail.chainId,y.chainId)){e.next=14;break}return S.error(t["please-switch-to-BSC-to-claim-deri"]),e.abrupt("return");case 14:return e.next=16,b.a.request("mintAirdrop",[y.chainId,s.detail.account],{includeResponse:!0});case 16:(c=e.sent).success||S.error(t["claim-failed"]),c.success&&T(!0),M();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.request("isUserInPTokenWhiteListV3",[s.detail.chainId,s.detail.account]);case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.request("isPTokenAirdroppedV3",[s.detail.chainId,s.detail.account]);case 2:t=e.sent,B(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.request("isUserPTokenExistV3",[s.detail.chainId,s.detail.account]);case 2:t=e.sent,L(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){s.isConnected()&&(M(),"pToken"===v?(Z(),z(),G()):R())}),[s,s.detail,v]),Object(r.useEffect)((function(){!q||J||P||((new Date).getTime()>=16497576e5?T(!0):T(!1))}),[q,J,P]),Object(x.jsx)("div",{className:"airdrop-box",children:Object(x.jsx)("div",{className:"airdrop-info",children:Object(x.jsxs)("div",{className:"airdrop-info-box",children:[Object(x.jsx)("div",{className:"airdrop-title",children:t.title}),Object(x.jsxs)("div",{className:"wallet-address",children:[Object(x.jsx)("span",{className:"blue-logo"}),Object(d.i)(s.detail.account)]}),Object(x.jsxs)("div",{className:"wallet-balance",children:[t["wallet-balance"]," : ",Object(x.jsx)(u.a,{value:f,decimalScale:0,thousandSeparator:!0})," DERI"]}),"pToken"===v&&Object(x.jsxs)("div",{className:"airdrop-time position-text",children:[Object(x.jsx)("div",{className:"time-logo",children:Object(x.jsx)("img",{src:p,alt:""})}),Object(x.jsx)("div",{className:"time-text",children:Object(x.jsxs)("div",{className:"time-title",children:[Object(x.jsx)("div",{children:"Get free mBTC^2 perpetual"}),Object(x.jsx)("div",{children:"powers position"})]})})]}),"pToken"===v&&Object(x.jsxs)("div",{className:"airdrop-time position",children:[Object(x.jsx)("div",{className:"time-logo",children:Object(x.jsx)("img",{src:h,alt:""})}),Object(x.jsxs)("div",{className:"time-text",children:[Object(x.jsxs)("div",{className:"time-title",children:[Object(x.jsx)("div",{children:t["start-time"]}),Object(x.jsx)("div",{children:t["expire-time"]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"2022-04-08 10:00:00 UTC"}),Object(x.jsx)("div",{children:"2022-04-12 10:00:00 UTC"})]})]})]}),"deri"===v&&Object(x.jsxs)("div",{className:"airdrop-time",children:[Object(x.jsx)("div",{className:"time-logo",children:Object(x.jsx)("img",{src:h,alt:""})}),Object(x.jsxs)("div",{className:"time-text",children:[Object(x.jsxs)("div",{className:"time-title",children:[Object(x.jsx)("div",{children:t["start-time"]}),Object(x.jsx)("div",{children:t["expire-time"]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"2022-03-09 10:00:00 UTC"}),Object(x.jsx)("div",{children:"2022-03-11 12:00:00 UTC"})]})]})]}),Object(x.jsx)("div",{className:"claim",children:Object(x.jsx)(j.a,{fontWeight:"bold",disabled:k,label:t.claim,width:"277",height:"72",fontSize:"32",onClick:W})})]})})})})))}}]);
//# sourceMappingURL=24.ee546821.chunk.js.map