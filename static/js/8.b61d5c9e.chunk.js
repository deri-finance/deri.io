(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[8],{1637:function(e,t,n){"use strict";t.a=n.p+"static/media/staked.46571832.svg"},1727:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,s=n(244),c=n(358),r=n(9),o=n(170),i=n(23),l={};function d(e,t,n){var a=Object(o.b)(),d=function(e){return l[e]}(e),b=d.address,j=d.abi,u=a.ethereum;return b&&(n=b),Object(r.useMemo)((function(){var e=Object(i.v)(t);return u&&u.networkVersion===String(t)&&(e=new c.a(u,"any")),e?new s.b(n,j,function(e,t){return t?function(e,t){return e.getSigner(t).connectUnchecked()}(e,t):e}(e,a.account)):null}),[n,j,a])}(a=n(1638)).keys().forEach((function(e){var t=e.split("/"),n=t[t.length-1];l[n.substring(0,n.indexOf("."))]=a(e)}))},1872:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a,s,c=n(80),r=n(2),o=n(12),i=n(0),l=n.n(i),d=n(9),b=n(74),j=n(1450),u=n(215),x=n(559),p=n(560),m=n(561),v=n(558),f=n(1637),h=n(563),O=(n(2206),n(65)),k=n(1727),g=n(31),y=n(23),N=n(6),w="0x96C3966534b4377691e11e163A0409Ad01667343";function S(e){var t=e.lang,n=e.pool,a=e.wallet,s=Object(b.g)(),c=Object(d.useState)({}),i=Object(o.a)(c,2),O=i[0],S=i[1],_=Object(d.useState)(n.address),F=Object(o.a)(_,2),T=F[0],B=F[1],E=Object(d.useState)(!1),D=Object(o.a)(E,2),z=D[0],X=D[1],A=Object(d.useState)(),I=Object(o.a)(A,2),q=I[0],U=I[1],L=Object(d.useState)(!0),M=Object(o.a)(L,2),R=(M[0],M[1]),V=Object(k.a)("ERC20",42161,"0x21E60EE73F17AC0A411ae5D690f908c3ED66Fe12"),J=Object(k.a)("ERC20",42161,"0x82af49447d8a07e3bd95bd0d56f35241523fbab1"),G=Object(d.useCallback)(Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({}),e.next=3,n.getPoolInfo(n.address,n.chainId,n.version);case 3:t=e.sent,B(n.address),S(t);case 6:case"end":return e.stop()}}),e)}))),[n]),P=Object(d.useCallback)(Object(r.a)(l.a.mark((function e(){var t,n,a,s,c,r,o,i,d,b,j,u,x,p,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({}),e.next=3,V.balanceOf(w);case 3:return t=e.sent,e.next=6,J.balanceOf(w);case 6:return n=e.sent,a="".concat("https://infoapi.deri.io","/stats_for_token"),s="https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=USD",e.next=11,fetch(a);case 11:return c=e.sent,e.next=14,c.json();case 14:return r=e.sent,e.next=17,fetch(s);case 17:return o=e.sent,e.next=20,o.json();case 20:i=e.sent,d=r.data.price,b=i.ethereum.usd,j=g.a.from(t._hex).toString()/Math.pow(10,18),u=g.a.from(n._hex).toString()/Math.pow(10,18),x=Object(y.a)(j).times(d).toNumber(),p=Object(y.a)(u).times(b).toNumber(),m=x+p,console.log("getLiquidity",m),S({liquidity:m});case 30:case"end":return e.stop()}}),e)}))),[V,J]),Z=function(){var e=Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"v3"!==n.version&&"v3_lite"!==n.version){e.next=5;break}return e.next=3,n.getVenusEarned(a,n.address);case 3:t=e.sent,U(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(d.useCallback)(Object(r.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getIsStaked(a,n);case 2:(t=e.sent)&&(X(t.isStaked),B(t.poolAddress));case 4:case"end":return e.stop()}}),e)}))),[a,n]),K=function(e){e.target.src=h.default};Object(d.useEffect)((function(){"ulp"===n.version&&V?P():G(),a.isConnected()&&(H(),Z())}),[n,a.detail.account,V,J]),Object(d.useEffect)((function(){var e=sessionStorage.getItem(n.address);null!==e&&e&&R(!1)}),[n]);var Q="ulp"===n.version?"/lppool/".concat(n.chainId,"/").concat(n.address):"/pool/".concat(n.version||"v1","/").concat(n.chainId,"/").concat(n.type,"/").concat(n.address);return Object(N.jsx)("div",{className:"".concat("0x243681B8Cd79E3823fF574e07B2378B8Ab292c1E"===n.address?"showGuide":""," card-box"),children:Object(N.jsxs)("div",{className:"v2_lite_open"===n.version?"card-list open-list":"card-list",onClick:function(){!function(e){"v2_lite_open"!==n.version&&s.push(e)}(Q)},children:[Object(N.jsxs)("div",{className:"card-header ".concat(n.retired?"".concat(n.version):""," ").concat(n.new?"new":""),children:[Object(N.jsxs)("div",{className:"pool-network-type",children:[Object(N.jsx)("div",{className:"network-logo",children:Object(N.jsx)("img",{alt:"",src:function(e){var t;return"56"===e||"97"===e?t=x.default:"137"===e?t=m.default:"1"===e?t=v.default:"42161"!==e&&"421611"!==e||(t=p.default),t}(n.chainId)})}),Object(N.jsxs)("div",{className:"pool-type-network-text",children:[Object(N.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==n.address&&Object(N.jsxs)(N.Fragment,{children:[t[n.type]," ",t[n.zone]]}),"0x1eF92eDA3CFeefb8Dae0DB4507f860d3b73f29BA"===n.address&&Object(N.jsx)(N.Fragment,{children:"DERI-based"}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===n.address&&Object(N.jsx)(N.Fragment,{children:t[n.zone]})]}),Object(N.jsx)("div",{className:"pool-network-text",children:"BSC"===n.chain.toUpperCase()?"BNB Chain":n.chain.toUpperCase()})]})]}),Object(N.jsxs)("div",{className:"base-token-logo",children:[n.isLp&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"lp-base-token-bg",children:[Object(N.jsx)("div",{className:"base-token-bg ".concat(n.bTokens[0].bTokenSymbol)}),Object(N.jsx)("span",{className:"lp-con",children:"+"}),Object(N.jsx)("div",{className:"base-token-bg ".concat(n.bTokens[1].bTokenSymbol)})]})}),!n.isLp&&"v3"!==n.version&&"v3_lite"!==n.version&&Object(N.jsx)(N.Fragment,{children:n.bTokens.map((function(e,t){return Object(N.jsx)("div",{className:"base-token-box-bg no-animation-tokens",children:Object(N.jsx)("div",{className:"base-token-bg ".concat(e.bTokenSymbol),children:"v2_lite_open"===n.version&&Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("img",{alt:"",onError:K,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})})})},t)}))}),("v3"===n.version||"v3_lite"===n.version)&&!n.singleBtoken&&Object(N.jsx)(C,{bTokens:n.bTokens}),("v3"===n.version||"v3_lite"===n.version)&&n.singleBtoken&&Object(N.jsx)("div",{className:"base-token-box-bg no-animation-tokens",children:Object(N.jsx)("div",{className:"base-token-bg ".concat(n.bTokens[0].bTokenSymbol)})})]})]}),Object(N.jsxs)("div",{className:"card-content",children:[Object(N.jsx)("div",{className:"max-apy",children:"v2_lite_open"!==n.version&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"max-apy-title",children:"v2"===n.version||"v3_lite"===n.version||"v3"===n.version?t["max-apy"]:t.apy}),Object(N.jsx)("div",{className:"max-apy-num",children:Object(N.jsx)(j.a,{value:O.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})})]})}),Object(N.jsxs)("div",{className:"total-pool-liquidity",children:[Object(N.jsx)("div",{className:"total-liquidity-title",children:t["total-pool-liquidity"]}),Object(N.jsx)("div",{className:"total-liquidity-num",children:Object(N.jsx)(j.a,{value:O.liquidity,displayType:"text",thousandSeparator:!0,decimalScale:"lp"===n.type?"ulp"===n.version?0:7:0})})]}),Object(N.jsxs)("div",{className:"your-deri-epoch",children:[z&&T===n.address&&Object(N.jsxs)("div",{className:"staked-box",children:[Object(N.jsx)("img",{src:f.a,alt:""}),t.staked]}),+q>0&&("v3"===n.version||"v3_lite"===n.version)&&Object(N.jsx)("span",{className:"xvs-collectable",children:Object(N.jsxs)("div",{className:"staked-box",children:[Object(N.jsx)(j.a,{width:"50px",value:q,displayType:"text",thousandSeparator:!0,decimalScale:2})," \xa0 XVS  ",t.collectable]})})]}),Object(N.jsx)("div",{className:"stake-button",children:Object(N.jsx)(u.a,{disabled:"v2_lite_open"===n.version,className:"button",outline:!0,label:"v2_lite_open"===n.version?t.operating:t.stake})})]})]})})}var _=O.a.div(a||(a=Object(c.a)(["\n  @-webkit-keyframes explode {\n    0% {\n        transform: translateX(0px);\n        -moz-transform : translateX(0px);\n    }\n    100% {\n        transform: translateX(100px);\n        -moz-transform : translateX(100px);\n    }\n  }\n\n  @keyframes explode {\n    0% {\n        transform: translateX(0px);\n        -moz-transform : translateX(0px);\n    }\n    100% {\n        transform: translateX(100px) ;\n        -moz-transform : translateX(100px) ;\n    }\n  }\n  .base-token{\n    margin-left: 0px !important;\n    z-index : -2;\n    visibility: hidden;\n    background-color: #111e34;\n    border : 1px solid #fff;\n  }\n  @media only screen and (max-width: 760px) {\n    .base-token{\n      display:none;\n    }\n  }\n  .base-token-box-bg.explode:hover .move  {\n    -webkit-animation : explode .4s .0s linear;\n    -moz-animation :  explode .4s .0s linear;\n    animation: explode .4s .0s linear;\n    visibility: visible;    \n  }\n  \n  .base-token-box-bg.explode:hover .base-token {\n    z-index : 2 !important;\n  } \n\n"]))),F=O.a.div(s||(s=Object(c.a)(["\n  position: absolute;\n  transform : ",";\n  width: 48px;\n  height: 48px;\n  display: inline-block;\n  border-radius: 50%;\n  .move {\n    transform : translateX(100px) ",";\n  }\n"])),(function(e){return"rotate(".concat(-e.rotate,"deg)")}),(function(e){return"rotate(".concat(e.rotate,"deg)")})),C=function(e){var t=e.bTokens,n=void 0===t?[]:t,a=360/n.length;return Object(N.jsxs)(_,{className:"v3-tokens",children:[Object(N.jsx)("div",{className:"tokens",children:n.filter((function(e,t){return t<3})).map((function(e,t){return Object(N.jsx)("div",{className:"base-token-box-bg",children:Object(N.jsx)("div",{className:"base-token-bg ".concat(e.bTokenSymbol)})},t)}))}),Object(N.jsxs)("div",{className:"base-token-box-bg explode",children:[Object(N.jsxs)("div",{className:"base-token-bg num-token",children:[n.length-3," +"]}),n.map((function(e,t){var n=a*t;return Object(N.jsx)(F,{className:"base-token",rotate:n,width:"100",children:Object(N.jsx)("div",{width:"100",rotate:n,className:"base-token-bg move ".concat(e.bTokenSymbol)})},t)}))]})]})}},1873:function(e,t,n){},2206:function(e,t,n){}}]);
//# sourceMappingURL=8.b61d5c9e.chunk.js.map