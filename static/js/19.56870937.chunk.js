(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[19],{1245:function(e,t,a){"use strict";var n,c,i=a(36),s=a(295),r=a(53),o=a(7),l=a(67),d=a(6),b=(a(60),a(1331)),u=a(49),j=a(21),p=a(14),x=a(5),f=Object(u.a)(b.a)(n||(n=Object(l.a)(["\n  width : ","px;\n"])),(function(e){return e.width})),h=u.a.div(c||(c=Object(l.a)(["\n  width : ",";\n  height : ",";\n"])),(function(e){return/px$/.test(e.width)?e.width:"".concat(e.width,"px")}),(function(e){return/px$/.test(e.height)?e.height:"".concat(e.height,"px")}));t.a=function(e){var t=Object(d.useState)(Object(x.jsx)("span",{className:"loading-line"})),a=Object(o.a)(t,2),n=a[0],c=a[1],l=Object(d.useState)(!0),b=Object(o.a)(l,2),u=b[0],v=b[1],m=function(){var t=e.allowZero;return"object"!==Object(r.a)(e.value)&&void 0!==e.value&&""!==e.value&&!isNaN(e.value)&&"NaN"!==e.value||0===Math.abs(e.value)&&!0===t},O=function(e){return e&&e.replace(/\.$/,"")};return Object(d.useEffect)((function(){var t=e.allowZero,a=(e.wallet,e.closeShowLoadingEffectAfterLoaded),n=e.defaultValue,r=void 0===n?"--":n,o=Object(s.a)(e,["allowZero","wallet","closeShowLoadingEffectAfterLoaded","defaultValue"]);if(m())o.decimalScale>0&&!t&&o.value&&/\d+\.0*[1-9]+/.test(o.value)&&0===+Object(p.bg)(o.value).toFixed(+o.decimalScale||2)&&(o.decimalScale=Object(j.d)(Math.abs(o.value))+2),-1===o.decimalScale&&delete o.decimalScale,o.value=Object(j.J)(o.value),o.value&&/\d+.9{6}/.test(o.value)&&(o.value=(+o.value).toFixed(5)),c(Object(x.jsx)(f,Object(i.a)(Object(i.a)({},o),{},{renderText:O,displayType:"text",fixedDecimalScale:!0,thousandSeparator:!0})));else if(u){var l=e.width,d=e.height;c(Object(x.jsx)(h,{className:"loading-line",width:l,height:d})),a&&v(!1)}var b=window.setTimeout((function(){m()||c(r)}),6e4);return function(){clearTimeout(b)}}),[e.value,e.decimalScale,e.suffix]),n}},1260:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,c=a(67),i=a(49),s=a(1421),r=a.n(s),o=a(141),l=a(21),d=a(1354),b=a(5),u=i.a.div(n||(n=Object(c.a)(["\n  display:",";\n  .text {\n    border-bottom : 1px dashed #93A1B8;\n    width : max-content;\n    cursor : pointer;\n    display:","\n  }\n  \n  .__react_component_tooltip.tooltip.show {\n    font-weight : "," \n  }\n"])),(function(e){return e.block}),(function(e){return e.block}),(function(e){return e.isWin?400:600}));function j(e){var t=e.text,a=e.id,n=void 0===a?String((new Date).getTime())+Math.random():a,c=e.tip,i=e.multiline,s=e.html,j=e.className,p=e.element,x=void 0===p?"":p,f=e.block,h=void 0===f?"block":f,v=e.width,m=void 0===v?"auto":v,O=e.children,g=e.tiggerEvent;return Object(b.jsxs)(u,{className:j,block:h,isWin:d.isWindows,children:[Object(b.jsx)("div",{className:"text","data-for":n,"data-tip":s?r.a.renderToString(x):c,"data-event":Object(l.y)()?"click":g,"data-html":s,children:t||O}),c&&Object(b.jsx)(o.a,{id:n,width:m,padding:"12",place:"bottom",overridePosition:function(e,t,a,n,c,i,s,r){var o=a.getBoundingClientRect(),l=n.getBoundingClientRect(),d=o.x,b=o.y,u=o.height,j=o.width;e.left,e.top;return d+l.width/2>document.documentElement.clientWidth?d-=Math.abs(j-l.width):d-(l.width-j)/2<0?d-=j:d-=(l.width-j)/2,b+u+l.height>=document.documentElement.clientHeight?b=b+u-l.height:b+=u,d<0&&(d=0),b<0&&(b=0),{top:b,left:d}},html:s,borderRadius:8,multiline:i})]})}},1307:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,c=a(7),i=a(67),s=a(6),r=a(168),o=a(49),l=a(5),d=o.a.div(n||(n=Object(i.a)(["\n    display : flex;\n    width: 100%;\n    justify-content: space-between;\n  "])));function b(e){var t=e.groups,a=void 0===t?["25%","50%","75%","100%"]:t,n=e.selectedBorderColor,i=e.defaultBorderColor,o=e.onChange,b=e.defaultValue,u=e.outline,j=e.outlineColor,p=e.width,x=e.height,f=e.bgColor,h=e.className,v=e.disabled,m=e.canUnselected,O=void 0===m||m,g=Object(s.useState)(b),k=Object(c.a)(g,2),y=k[0],w=k[1];return Object(s.useEffect)((function(){w(b)}),[b]),Object(l.jsx)(d,{className:h,children:a.map((function(e,t){return Object(l.jsx)(r.a,{label:e,selectedBorderColor:n,isSelected:e===y,disabled:v,outline:u,bgColor:f,className:"g-button",defaultBorderColor:i,outlineColor:j,width:p,height:x,onClick:function(){var t;(t=e)!==y?(w(t),o&&o(t)):O&&t===y?(w(""),o&&o("")):w(t)}},t)}))})}},1353:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,c=a(36),i=a(67),s=a(6),r=a(49),o=a(14),l=a(1260),d=a(5),b=r.a.div(n||(n=Object(i.a)(["\ndisplay : flex;\nfont-size : 14px;\nalign-items : center;\nbackground: rgba(85, 119, 253, 0.1);\nborder-radius: 4px;\njustify-content: space-between;\ninput {\n  background: transparent;\n  border-radius: 4px;\n  // min-width: 240px;\n  border: 0;\n  width : ",";\n  height: ",";\n  color : #E0ECFF;\n  font-size : 18px;\n  padding-left: 16px;\n}\ninput:focus {\n  outline: none;\n}\n.unit {\n  margin-right: ",";\n}\n"])),(function(e){return e.inputWidth}),(function(e){return e.inputHeight}),(function(e){return e.unitPadding}));function u(e){var t=e.value,a=e.unit,n=e.unitTip,i=e.max,r=e.step,u=e.onChange,j=e.styles,p=void 0===j?{}:j,x=e.disableNegtive,f=void 0===x||x,h=e.focus,v=e.placeholder,m=void 0===v?"":v,O=e.unitPadding,g=void 0===O?"24px":O,k=e.minTradeVolume,y=e.decimal,w=void 0===y?2:y,N=e.readOnly,S=e.inputWidth,T=void 0===S?"50%":S,C=e.inputHeight,I=void 0===C?"56px":C,F=e.className,_=e.disabled,B=void 0!==_&&_,q=e.onBlur,E=e.onFocus,L=Object(s.useRef)(null);return Object(s.useEffect)((function(){L.current.setCustomValidity(""),L.current&&h&&L.current.focus()}),[h]),Object(d.jsxs)(b,{unitPadding:g,inputWidth:T,inputHeight:I,className:F,style:Object(c.a)({},p),children:[Object(d.jsx)("input",{placeholder:m,type:"number",onBlur:q,onFocus:E,disabled:B,value:t,step:r,ref:L,onChange:function(e){var t="\\d+\\.\\d{0,".concat(w,"}$"),a=new RegExp(t),n=e.target.value;if(i&&Object(o.bg)(n).gt(i))u&&u(i);else if(f&&(n<0||isNaN(n)))u&&u("");else if(n){if(k>=1)if(n/k>=1)u&&u(Object(o.bg)(n).div(k).integerValue()*k);else u&&u(n*k);else if(/\d+\./.test(n)&&!a.test(n)){var c=n.substring(0,n.indexOf(".")+1+w);u&&u(c)}else u&&u(n)}else u&&u(n)},readOnly:N}),Object(d.jsx)("div",{className:"unit",children:n?Object(d.jsx)(l.a,{tip:n,text:a}):a})]})}},1395:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(49),c=a(6),i=a(31),s=a(5);const r=n.a.div`
    cursor: pointer;
    width:${e=>e.width}px;
    height:${e=>e.height}px;
    display:flex;
    .tab-left.inactive{
      border-radius:0px 0px 4px 0px;
    }
    .tab-right.inactive{
      border-radius:0px 0px 0px 4px;
    }
    .tab-left.active{
      border-radius:0px 4px 0px 0px;
      ${e=>e.borderR};
    }
    .tab-right.active{
      border-radius:4px 0px 0px 0px;
      ${e=>e.borderL};
    }
    .inactive,.active{
      width:50%;
      box-sizing: content-box;
      font-size:${e=>e.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      img{
        margin-right:${e=>e.iconMarginRight}px
      }
    }
    .inactive{
      background:${e=>e.inactiveBgColor};
      ${e=>e.borderB}
    }
    .active {
      color: ${e=>e.activeFontColor};
      background : ${e=>e.activeBgColor};
      ${e=>e.borderT};
    }
    .icon-tab{
      margin-right:20px;
      width:25px;
      height:25px;
    }
  `;function o(e){let{tabSet:t,inactiveBgColor:a,iconMarginRight:n,activeBgColor:o,icon:l,className:d,width:b=238,height:u=47,size:j=16,borderTop:p=!1,borderBottom:x=!1,divider:f=!1,activeIndex:h=0}=e,v=Object.keys(t);const[m,O]=Object(c.useState)(v[h]),[g,k]=Object(c.useState)(),[y,w]=Object(c.useState)(),[N,S]=Object(c.useState)(),[T,C]=Object(c.useState)(),[I,F]=Object(c.useState)(),[_,B]=Object(c.useState)();return Object(c.useEffect)((()=>{const e=Object.keys(t);O(e[h])}),[t,h]),Object(c.useEffect)((()=>{const e=Object.keys(t);let a=m||e[h];if(t[a]){k(t[a].style);let e=p?`border-top:1px solid ${t[a].borderColor}`:"border-top:0",n=x?`border-bottom:1px solid ${t[a].borderColor}`:"border-bottom:0",c=f?`border-left:1px solid ${t[a].borderColor}`:"border-left:0",i=f?`border-right:1px solid ${t[a].borderColor}`:"border-right:0",s=t[a].fontColor?t[a].fontColor:"#FFFFFF";w(e),S(c),C(n),F(i),B(s)}}),[t,m]),Object(s.jsxs)("div",{style:g,className:d,children:[Object(s.jsx)(r,{className:"tab-header",iconMarginRight:n,width:b,height:u,activeFontColor:_,activeBgColor:o,inactiveBgColor:a,size:j,borderT:y,borderB:T,borderL:N,borderR:I,children:v.map(((e,a)=>Object(s.jsxs)("div",{className:e===m?`${t[e].direction||t[e].className} active`:`${t[e].direction||t[e].className} inactive`,onClick:t=>function(e,t){O(e)}(e),children:[t[e].icon?Object(s.jsx)(i.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===m?t[e].icon:t[e].inicon}):"","  ",e]},a)))}),t[m]?t[m].content:""]})}},1450:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,c=a(67),i=a(49),s=(a(6),a(5)),r=i.a.div(n||(n=Object(c.a)(["\nwidth:","%;\nmax-width:100%;\nheight:10px;\nbackground-color: #5577FD;\n"])),(function(e){return e.width}));function o(e){var t=e.startTimestamp,a=e.nowTimestamp,n=e.endTimestamp,c=parseInt((a-t)/(n-t)*100);return Object(s.jsx)("div",{className:"time-slider",children:Object(s.jsx)(r,{width:c})})}},1452:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(6),c=a(49),i=a(486),s=a(5);const r=c.a.div`
  .search-token{
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  background: ${e=>e.bgColor};
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 24px;
  border-radius:4px;
  img{
    width:18px;
    height:18px;
  }
  .search-input{
    border: 0;
    width:100%;
    height: 100%;
    background:transparent;
    outline-style: none;
    color: #FFFFFF;
    font-size: 18px;
    border-radius: 4px;
  }
}
`;function o(e){let{list:t,onChange:a,width:c="320",height:o="48",bgColor:l="rgba(85, 119, 253, 0.1)",searchName:d="bTokenSymbol",className:b,placeholder:u="Search",onFocus:j,onBlur:p}=e;const[x,f]=Object(n.useState)(""),[h,v]=Object(n.useState)(0),m=Object(n.useRef)([]);return Object(n.useEffect)((()=>{if(x){let e=x.toLocaleUpperCase();0===m.current.length&&(m.current=t,v(t.length));const n=m.current.filter((t=>t[d]&&t[d].toUpperCase().indexOf(e)>=0));a(n,e)}else a(m.current)}),[x]),Object(n.useEffect)((()=>{0===m.current.length&&v(t.length)}),[t]),Object(s.jsx)(r,{width:c,height:o,bgColor:l,className:b,children:Object(s.jsxs)("div",{className:"search-token",children:[Object(s.jsx)("input",{type:"text",className:"search-input",placeholder:u,value:x,onChange:e=>{(e=>{let t=e.target.value;f(t)})(e)}}),Object(s.jsx)("img",{src:i.default,alt:""})]})})}},1583:function(e,t,a){"use strict";t.a=a.p+"static/media/staked.46571832.svg"},1663:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),c=a.n(n),i=a(2),s=a(7),r=a(6),o=a(168),l=a(1450),d=a(479),b=a(169),u=a(1245),j=a(34),p=a(21),x=(a(1664),a(5));function f(e){var t=e.lang,a=e.getLang,n=e.poolShow,f=void 0===n||n,h=e.wallet,v=void 0===h?{}:h,m=Object(r.useState)(""),O=Object(s.a)(m,2),g=O[0],k=O[1],y=Object(r.useState)(0),w=Object(s.a)(y,2),N=w[0],S=w[1],T=Object(b.c)(),C=Object(r.useState)(0),I=Object(s.a)(C,2),F=I[0],_=I[1],B=Object(r.useState)(0),q=Object(s.a)(B,2),E=q[0],L=q[1],A=Object(r.useState)({}),D=Object(s.a)(A,2),$=D[0],R=D[1],z=Object(r.useState)(!1),P=Object(s.a)(z,2),U=P[0],Z=P[1],W=Object(r.useState)(""),M=Object(s.a)(W,2),V=M[0],H=M[1],J=Object(d.a)($.chainId);Object(r.useEffect)((function(){var e;return e=window.setInterval((function(){var e=28800,a=parseInt(Date.now()/1e3),n=parseInt(a/e)*e,c=n+e-a,i=parseInt(c/3600),s=parseInt(c%3600/60),r=parseInt(c%60);S(n),_(n+e),L(a),k("".concat(i," ").concat(t.h," ").concat(s," ").concat(t.m," ").concat(r," ").concat(t.s))}),1e3),function(){e&&clearInterval(e)}}),[]);var K=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,i,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=10;break}return e.next=3,j.a.request("getUserInfoAll",[v.detail.account]);case 3:t=e.sent,a=(+t.total).toFixed(2),n=t.valid?(+t.amount).toFixed(2):0,i=t.lp,s=(+t.trade).toFixed(2),r=t.chainId,R({claimed:a,unclaimed:n,harvestDeriLp:i,harvestDeriTrade:s,chainId:r});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==J.name){e.next=3;break}return T.error("".concat(t["wrong-network"])),e.abrupt("return");case 3:if(Object(p.f)(v.detail.chainId,$.chainId)){e.next=6;break}return T.error("".concat(t["your-deri-is-on"]," ").concat(J.name," ").concat(t["connect-to"]," ").concat(J.name," ").concat(t["to-claim"])),e.abrupt("return");case 6:if(0!==+$.unclaimed){e.next=9;break}return T.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 9:if(!(parseInt(Date.now()/1e3)%28800<1800)){e.next=13;break}return T.error(t["claiming-DERI-is-disabled-during-first-30-minutes-of-each-epoch"]),e.abrupt("return");case 13:return e.next=15,j.a.request("mintDToken",[v.detail.chainId,v.detail.account],{includeResponse:!0});case 15:if(!e.sent.success){e.next=20;break}return e.abrupt("return",!0);case 20:return T.error(t["claim-failed"]),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=7;break}return e.next=3,X();case 3:e.sent&&Z(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,v.connect();case 10:return t=e.sent,e.abrupt("return",!!t);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){var a;switch(e){case 1:a=t.jan;break;case 2:a=t.feb;break;case 3:a=t.mar;break;case 4:a=t.apr;break;case 5:a=t.may;break;case 6:a=t.jun;break;case 7:a=t.jul;break;case 8:a=t.aug;break;case 9:a=t.sep;break;case 10:a=t.oct;break;case 11:a=t.nov;break;case 12:a=t.dec}return a},Q=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isConnected()){e.next=5;break}return e.next=3,j.a.request("getUserFirstClaimInfo",[v.detail.account]);case 3:(t=e.sent).first_timestamp?(a=new Date(1e3*t.first_timestamp),n=a.getFullYear(),i=a.getMonth()+1,i=G(i),s=a.getDate(),H("".concat(i," ").concat(s,", ").concat(n))):H("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=window.setInterval(K,18e4);return K(),Q(),function(){return clearInterval(e)}}),[v.detail.account]),Object(x.jsx)("div",{className:"mining-claim",children:Object(x.jsxs)("div",{className:"mining-claim-info",children:[Object(x.jsxs)("div",{className:"deri-num-slider",children:[Object(x.jsxs)("div",{className:"deri-claim-time",children:[t["current-epoch-remaining-time"]," : ",g]}),$.harvestDeriLp>0&&Object(x.jsxs)("div",{className:"deri-claim-text",children:[t["your-harvest-in-current"]," ",Object(x.jsx)("span",{className:"deri-num",children:Object(x.jsx)(u.a,{value:$.harvestDeriLp,decimalScale:2,displayType:"text",di:!0,thousandSeparator:!0})}),"   $DERI."]}),f&&Object(x.jsxs)("div",{className:"deri-claim-text",children:[a("claim-deri",{num:U?0:$.unclaimed?$.unclaimed:0}),V&&Object(x.jsxs)("span",{children:[" ",a("claim-deri-history",{date:V,num:U?+$.unclaimed+ +$.claimed:$.claimed})," . ",t.woohoo]})]}),Object(x.jsx)("div",{className:"deri-claim-slider",children:Object(x.jsx)(l.a,{startTimestamp:N,nowTimestamp:E,endTimestamp:F})})]}),f&&Object(x.jsx)("div",{className:"cliam-button",children:Object(x.jsx)(o.a,{icon:"ClaimDeri",fontWeight:"bold",label:t["claim-all"],onClick:Y})})]})})}},1664:function(e,t,a){},1671:function(e,t,a){},1672:function(e,t,a){},1673:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n,c=a(7),i=a(67),s=a(6),r=(a(34),a(49)),o=a(31),l=a(1260),d=a(1245),b=a(5),u=r.a.div(n||(n=Object(i.a)(["\n  .remove-hint{\n    cursor: pointer;\n    .text{\n      display: flex;\n      border:0;\n    }\n    span{\n      margin-left:8px;\n    }\n  }\n"])));function j(e){var t=e.lang,a=e.baseToken,n=e.penalty,i=e.isB0Staked,r=e.availableBalance,j=e.getLang,p=Object(s.useState)(""),x=Object(c.a)(p,2),f=x[0],h=x[1];return Object(s.useEffect)((function(){var e,c={num:a};e=i?"BUSD"===a?"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(n," BUSD ").concat(t["this-action-will-update-your"]):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(n," BUSD ").concat(j("this-action-will-trigger-swapping-to-update-your",c)):"".concat(t["your-account-has-an-unsettled-balance-of"]," ").concat(n," BUSD ").concat(j("this-action-will-trigger-swapping-to-update-your-busd-balance-to-reflect-the-unsettled-amount",c)),h(e)}),[i,n,a]),Object(b.jsx)(u,{children:+n<0&&+r>0&&Object(b.jsx)("div",{className:"remove-hint",children:Object(b.jsxs)(l.a,{tip:f,width:"332",children:[Object(b.jsx)(o.a,{token:"warn"})," ",Object(b.jsxs)("span",{children:[t["negative-unsettled-balance"]," : ",Object(b.jsx)(d.a,{value:n,decimalScale:2})," BUSD"]})]})})})}},1747:function(e,t,a){"use strict";var n=a(36),c=a(0),i=a.n(c),s=a(2),r=a(7),o=a(295),l=a(6),d=a(168),b=a(45),u=a(92),j=a(34),p=a(14),x=a(21),f=(a(1671),a(5));function h(){return Object(f.jsx)("div",{class:"sleepContentView",children:Object(f.jsx)("div",{class:"circle"})})}var v=a(31);a(1672);t.a=Object(b.b)("wallet")(Object(b.c)((function(e){var t=e.lang,a=e.wallet,c=e.pool,b=void 0===c?{}:c,m=e.bTokenId,O=e.bToken,g=e.icon,k=e.label,y=e.onClick,w=(e.isReady,e.disabled),N=void 0===w||w,S=e.statusCallback,T=e.alert,C=Object(o.a)(e,["lang","wallet","pool","bTokenId","bToken","icon","label","onClick","isReady","disabled","statusCallback","alert"]),I=Object(l.useState)(!0),F=Object(r.a)(I,2),_=F[0],B=F[1],q=Object(l.useState)(k),E=Object(r.a)(q,2),L=E[0],A=E[1],D=Object(l.useState)(!1),$=Object(r.a)(D,2),R=$[0],z=$[1],P=Object(l.useState)(!1),U=Object(r.a)(P,2),Z=U[0],W=U[1],M=Object(l.useState)(!1),V=Object(r.a)(M,2),H=V[0],J=V[1],K=Object(l.useState)(!1),X=Object(r.a)(K,2),Y=X[0],G=X[1],Q=Object(l.useState)(g),ee=Object(r.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(l.useCallback)(function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.detail||!a.address){e.next=14;break}if(!u.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(x.x)(a.address)){e.next=10;break}return e.next=7,j.a.request("isLpUnlocked",[t.detail.chainId,a.address,t.detail.account]);case 7:n=e.sent,e.next=14;break;case 10:return c=[t.detail.chainId,a.address,t.detail.account,m||O],e.next=13,j.a.request("isUnlocked",c);case 13:n=e.sent;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[O,m]),ce=Object(l.useCallback)(Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!b){e.next=15;break}if(!u.a.isOpen){e.next=4;break}return e.next=4,p.openConfigListCache.update();case 4:if(!Object(x.x)(b.address)){e.next=10;break}return e.next=7,j.a.request("unlockLp",[a.detail.chainId,b.address,a.detail.account]);case 7:t=e.sent,e.next=14;break;case 10:return n=[a.detail.chainId,b.address,a.detail.account,m||O],e.next=13,j.a.request("unlock",n);case 13:t=e.sent;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)}))),[b,a,m,O]),ie=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b&&a&&a.detail)){e.next=31;break}if(G(!0),a.isConnected()){e.next=7;break}return ae(null),e.abrupt("return",a.connect());case 7:return e.next=9,ne(a,b);case 9:if(!e.sent){e.next=14;break}return ae(g),e.abrupt("return",y());case 14:return ae(g),e.next=17,ce();case 17:if(!(t=e.sent)){e.next=27;break}return W(!0),e.next=22,y();case 22:e.sent&&J(!0),S&&S(!1),e.next=30;break;case 27:G(!1),T&&T.error("Approve failed"),S&&S(!0);case 30:return e.abrupt("return",t);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)(Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b&&a.detail&&a.detail.account&&b.bTokens&&t)){e.next=18;break}if(a.isConnected()){e.next=6;break}A(t["connect-wallet"]),ae(null),e.next=18;break;case 6:return e.next=8,ne(a,b);case 8:if(!e.sent){e.next=15;break}z(!1),A(k),ae(g),S&&S(!1),e.next=18;break;case 15:z(!0),ae(g),S&&S(!0);case 18:case"end":return e.stop()}}),e)}))),[b,a,t,O,m]),Object(l.useEffect)((function(){B(N)}),[N]),Object(l.useEffect)((function(){a&&b&&b.address&&(a.setAddress(b.address),b.isV3||b.isV3Lite?a.setBToken(O):a.setBTokenId(m))}),[a,b,m,O]),Object(f.jsxs)("div",{children:[Object(f.jsx)(d.a,Object(n.a)(Object(n.a)({},C),{},{disabled:!_,label:L,onClick:ie,icon:te})),R&&_&&Object(f.jsxs)("div",{className:"init-approve",children:[Object(f.jsxs)("div",{className:"step-approve",children:[!Y&&Object(f.jsx)("div",{className:"step-one",children:"1"}),Y&&Object(f.jsx)("div",{className:"pending",children:Z?Object(f.jsx)(v.a,{token:"finish"}):Object(f.jsx)(h,{})}),Object(f.jsx)("div",{className:Z?"approve-text finish-text":"approve-text",children:t.approve})]}),Object(f.jsx)("div",{className:Z?"step-hr finish":"step-hr"}),Object(f.jsxs)("div",{className:"step-transaction",children:[!Z&&Object(f.jsx)("div",{className:"step-two",children:"2"}),Y&&Z&&Object(f.jsx)("div",{className:"pending",children:H?Object(f.jsx)(v.a,{token:"finish"}):Object(f.jsx)(h,{})}),Object(f.jsx)("div",{className:H?"transaction-text finish-text":"transaction-text",children:L})]})]})]})})))},2151:function(e,t,a){},2152:function(e,t,a){},2463:function(e,t,a){"use strict";a.r(t);var n=a(113),c=a(0),i=a.n(c),s=a(2),r=a(7),o=a(6),l=a(50),d=a(118),b=a(45),u=a(1663),j=a(1353),p=a(1747),x=a(1307),f=a(21),h=a(1245),v=a(15),m=a(34),O=a(169),g=(a(2151),a(14)),k=a(1673),y=a(5);function w(e){var t=e.getLang,a=e.wallet,n=e.lang,c=e.type,l=e.isLp,d=e.bTokenId,b=e.poolConfig,u=e.version,w=e.baseToken,N=e.address,S=e.walletBalance,T=e.poolInfo,C=e.afterTransaction,I=Object(o.useState)(""),F=Object(r.a)(I,2),_=F[0],B=F[1],q=Object(o.useState)(!1),E=Object(r.a)(q,2),L=E[0],A=E[1],D=Object(o.useState)(""),$=Object(r.a)(D,2),R=$[0],z=$[1],P=Object(o.useState)(!1),U=Object(r.a)(P,2),Z=U[0],W=U[1],M=Object(o.useState)(""),V=Object(r.a)(M,2),H=V[0],J=V[1],K=Object(o.useState)(!1),X=Object(r.a)(K,2),Y=X[0],G=X[1],Q=Object(O.c)(),ee=Object(o.useState)({}),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],ce="add"===c||"v2"===u||"v3"===u||"v3_lite"===u?w:n.shares,ie=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,m.a.request("getEstimatedLpInfo",[a.detail.chainId,N,a.detail.account,w]);case 3:t=e.sent,J(t.b0Penalty),G(t.isB0Staked);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="add"===c?_:Object(g.bg)(_).times(Object(g.bg)(-1)).toString(),n="v3"===u||"v3_lite"===u?[a.detail.chainId,N,a.detail.account,t,w]:[a.detail.chainId,N,a.detail.account,t,d],e.next=4,m.a.request("getEstimatedLiquidityInfo",n);case 4:+(s=e.sent).percentage1<0&&(s.percentage1=0,s.shares1=0),ne(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(s.a)(i.a.mark((function e(){var t,c,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(g.bg)(S),!Object(g.bg)(_).gt(t)){e.next=5;break}return Q.error(n["not-sufficient-funds"]),e.abrupt("return",!1);case 5:if(!(_<=0||isNaN(_))){e.next=8;break}return Q.error(n["it-has-to-be-greater-than-zero"]),e.abrupt("return",!1);case 8:if("lp"!==l){e.next=15;break}return s=[a.detail.chainId,N,a.detail.account,_],e.next=12,m.a.request("addLpLiquidity",s,{includeResponse:!0});case 12:c=e.sent,e.next=19;break;case 15:return r="v3"===u||"v3_lite"===u?[a.detail.chainId,N,a.detail.account,_,w]:[a.detail.chainId,N,a.detail.account,_,d],e.next=18,m.a.request("addLiquidity",r,{includeResponse:!0});case 18:c=e.sent;case 19:if(C(!0),B(""),c&&c.success){e.next=26;break}return Q.error(n["failure-of-transaction"]),e.abrupt("return",!1);case 26:Q.success(n["add-success"]);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(s.a)(i.a.mark((function e(){var t,c,s,r,o,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(g.bg)(T.totalShares),c=L?T.totalShares:_,!(s=Object(g.bg)(c)).gt(t)){e.next=6;break}return Q.error("".concat(n["your-current-max-removable-shares-are"],"  ").concat(T.totalShares)),e.abrupt("return",!1);case 6:if(!(+c<=0||isNaN(_))){e.next=9;break}return Q.error(n["invalid-liquidity"]),e.abrupt("return",!1);case 9:if("lp"!==l){e.next=16;break}return o=[a.detail.chainId,N,a.detail.account,c],e.next=13,m.a.request("removeLpLiquidity",o,{includeResponse:!0});case 13:r=e.sent,e.next=20;break;case 16:return b="v3"===u||"v3_lite"===u?[a.detail.chainId,N,a.detail.account,c,w,t.eq(s)]:[a.detail.chainId,N,a.detail.account,c,d,t.eq(s)],e.next=19,m.a.request("removeLiquidity",b,{includeResponse:!0});case 19:r=e.sent;case 20:return r&&r.success?Q.success(n["remove-success"]):Q.error(n["failure-of-transaction"]),B(""),C(),e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=Object(g.bg)(S);/\d+\.(999999|099999|009999|000999|000099|000009)/.test(S)&&(e=Object(g.bg)((+S).toFixed(5)));var t=Object(g.bg)(_);_&&0!==+_&&!t.gt(e)?(se(),W(!0)):W(!1)}),[_]),Object(o.useEffect)((function(){B(""),z("")}),[c,d,w]),Object(o.useEffect)((function(){a.isConnected()&&ie()}),[a.detail,w,N]),Object(y.jsxs)("div",{className:"operate",children:[Object(y.jsx)("div",{className:"add-input",children:Object(y.jsx)(j.a,{value:_,unit:ce,onChange:function(e){B(e)},inputWidth:"237px",styles:{"min-width":"332px"}})}),"add"===c&&Object(y.jsxs)("div",{className:"wallet-balance",children:[n["wallet-balance"],": ",Object(y.jsx)(h.a,{value:S,displayType:"text",decimalScale:2})," ",w]}),"remove"===c&&Object(y.jsxs)("div",{className:"wallet-balance",children:[n["staked-balance"],": ",Object(y.jsx)(h.a,{value:T.totalShares,displayType:"text",decimalScale:2})," ",ce]}),"remove"===c&&Object(y.jsx)("div",{children:Object(y.jsx)(k.a,{getLang:t,lang:n,baseToken:w,penalty:H,isB0Staked:Y})}),Object(y.jsx)("div",{className:"check-proportion",children:Object(y.jsx)(x.a,{outline:!0,defaultValue:R,onChange:function(e){var t="add"===c?S:T.totalShares,a=Object(f.D)(e,t);z(e),B(a),z(e),A("100%"===e)},bgColor:" rgba(85, 119, 253, 0.1)",width:77,height:40})}),Object(y.jsx)("div",{className:"information",children:0!==+_&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"percentage",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["my-liquidity-percentage"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,width:"80px",value:T.percent,decimalScale:2,suffix:"%"})," ->  ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:100*ae.percentage1,decimalScale:2,suffix:"%"})]})]}),Object(y.jsxs)("div",{className:"staked-balance",children:[Object(y.jsx)("div",{className:"info-box-title",children:n["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:T.formatShares,decimalScale:2})," -> ",Object(y.jsx)(h.a,{width:"80px",allowZero:!0,value:ae.shares1,decimalScale:2}),"v2"===u||"v3"===u||"v3_lite"===u?" "+w:" "+n.shares]})]})]})}),Object(y.jsxs)("div",{className:"add-remove-btn",children:["add"===c&&Object(y.jsx)(p.a,{alert:Q,disabled:Z,fontWeight:"bold",onClick:re,bToken:w,pool:b,wallet:a,bTokenId:d,fontSize:"18",type:v.n,width:"331",label:n["add-liquidity"],lang:n}),"remove"===c&&Object(y.jsx)(p.a,{alert:Q,disabled:Z,fontWeight:"bold",onClick:oe,bToken:w,pool:b,type:v.n,wallet:a,bTokenId:d,fontSize:"18",width:"331",label:n["remove-liquidity"],lang:n})]})]})}var N=a(1395),S=a(104),T=a(479),C=(a(2152),a(482)),I=a(478),F=a(480),_=a(477),B=a(1583),q=a(481),E=a(1260),L=a(299),A=a(168);const D=S[g.DeriEnv.get()].chainInfo;function $(e){let{wallet:t,chainId:a,nowApy:n,poolInfo:c,address:i,nowToken:s,lang:r,version:l,type:d,poolConfig:b,symbols:u}=e;const[j,p]=Object(o.useState)("show"),[x,v]=Object(o.useState)(),g=Object(O.c)(),k=async()=>{if(b){let e=await b.getVenusEarned(t,i);e=+e,v(e)}};return Object(o.useEffect)((()=>{if(t.isConnected()&&("v3"===l||"v3_lite"===l)){let e=null;return k(),e=window.setInterval((()=>{k()}),18e4),()=>{e&&clearInterval(e)}}}),[t,t.detail,b]),Object(y.jsxs)("div",{className:"pool-info",children:[Object(y.jsxs)("div",{className:"pool-info-title",children:[Object(y.jsx)("div",{className:"pool-info-title-text",children:r["pool-info"]}),Object(y.jsxs)("div",{className:"down-up",children:["show"===j&&Object(y.jsx)("span",{onClick:()=>p("hide"),children:Object(y.jsx)("img",{className:"up-icon",alt:"",src:L.default})}),"hide"===j&&Object(y.jsx)("span",{onClick:()=>p("show"),children:Object(y.jsx)("img",{alt:"",src:L.default})})]})]}),Object(y.jsxs)("div",{className:`'pool-info-text' ${j}`,children:[Object(y.jsxs)("div",{className:"pool-info-text-one",children:["v2_lite_open"!==l&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r.apy}),Object(y.jsxs)("div",{className:"info-box-num",children:["v3"!==l&&"v3_lite"!==l&&Object(y.jsx)(h.a,{value:c.apy,displayType:"text",decimalScale:2,suffix:"%"}),("v3"===l||"v3_lite"===l)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(E.a,{text:Object(y.jsx)(h.a,{width:"50px",value:n.apy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["deri-apy"]}),"\xa0 +  \xa0  ",Object(y.jsx)(E.a,{text:Object(y.jsx)(h.a,{width:"50px",value:n.supplyApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["venus-suppy-apy"]}),"  \xa0 +  \xa0",Object(y.jsx)(E.a,{text:Object(y.jsx)(h.a,{width:"50px",value:n.xvsApy,displayType:"text",decimalScale:2,suffix:"%"}),tip:r["xvs-distribution-apy"]})]})]})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r["pool-liquidity"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{value:c.total,displayType:"text",decimalScale:2,thousandSeparator:!0})," ","v3"===l||"v3_lite"===l?"BUSD":s]})]}),("v2"===l||"v3"===l||"v3_lite"===l)&&!("option"===d&&"v2"===l)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r.multiplier}),Object(y.jsx)("div",{className:"info-box-num",children:c.multiplier})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r["my-liquidity-percentage"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)(h.a,{allowZero:!0,value:c.percent,decimalScale:2,suffix:"%"})})]}),("v2"!==l&&"v3"!==l&&"v3_lite"!==l||"v2"===l&&"option"===d)&&Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r["liquidity-share-value"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:6,value:c.shareValue,thousandSeparator:!0})," ",s]})]})}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r["staked-balance"]}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,value:c.formatShares,decimalScale:2}),"v2"!==l&&"v3"!==l&&"v3_lite"!==l||"option"===d&&"v2"===l?" "+r.shares:" "+s]})]}),("v2"!==l&&"v3"!==l&&"v3_lite"!==l||"v2"===l&&"option"===d)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title"}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,decimalScale:2,value:c.values,thousandSeparator:!0})," ",s]})]}),("v2"===l||"v3"===l||"v3_lite"===l)&&!("option"===d&&"v2"===l)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:Object(y.jsx)(E.a,{multiline:!0,text:r["mining-pnl"],tip:r["mining-pnl-hover"],html:!0,element:Object(y.jsxs)("span",{children:[" ",Object(y.jsxs)("div",{children:[r["mining-pnl-hover-one"]," "]}),r["mining-pnl-hover"]," ",Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{target:"_blank",href:"https://docs.deri.io/how-it-works/mining-amm-liquidity-mining#ii.-base-token-profit-with-market-risk",children:r["learn-more-pnl"]})," "]})," "]})})}),Object(y.jsxs)("div",{className:"info-box-num",children:[Object(y.jsx)(h.a,{allowZero:!0,prefix:" ",value:c.swappedPnl,decimalScale:2})," ",s]})]}),("v3"===l||"v3_lite"===l)&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r["xvs-earned"]}),Object(y.jsxs)("div",{className:"info-box-num collect-box",children:[Object(y.jsx)(h.a,{value:x,decimalScale:2}),Object(y.jsx)(A.a,{onClick:async()=>{let e=await m.a.request("claimXVSLp",[t.detail.chainId,i,t.detail.account],{includeResponse:!0});e&&e.success?g.success(r["collect-success"]):g.error(r["failure-of-transaction"]),k()},className:"collect",label:r.collect})]})]})]}),Object(y.jsxs)("div",{className:"pool-info-text-two",children:["lp"!==d&&Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r.symbols}),Object(y.jsx)("div",{className:"info-box-num symbols",children:"main"===b.zone?u:Object(y.jsx)(E.a,{tip:u,children:u})})]}),Object(y.jsxs)("div",{className:"info-box",children:[Object(y.jsx)("div",{className:"info-box-title",children:r["contract-address"]}),Object(y.jsx)("div",{className:"info-box-num",children:Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:`${D[a]&&D[a].viewUrl}/address/${i}`,children:Object(f.i)(i)})})]})]})]})]})}var R=a(31),z=a(1452);function P(e){var t=e.lang,a=e.address,n=e.checkoutBaseToken,c=e.nowToken,i=e.bTokenList,s=e.version,l=e.type,d=Object(o.useState)([]),b=Object(r.a)(d,2),u=b[0],j=b[1],p=function(e){e.target.src=q.default};return Object(o.useEffect)((function(){j(i)}),[i]),Object(y.jsxs)("div",{className:"select-basetoken-info",children:[Object(y.jsxs)("div",{className:"select-coin-title-search",children:[Object(y.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(y.jsx)("div",{className:"search-box",children:Object(y.jsx)(z.a,{list:i,searchName:"bTokenSymbol",onChange:function(e){return j(e)}})})]}),Object(y.jsxs)("div",{className:"coin-search",children:[Object(y.jsx)("div",{className:"slide-icon left",children:Object(y.jsx)(R.a,{token:"arrow-left",width:"24",height:"24"})}),Object(y.jsxs)("div",{className:"v3"===s||"v3_lite"===s?"coin-list some-coin":"coin-list",children:["lp"!==l&&"v2_lite_open"!==s&&Object(y.jsx)(y.Fragment,{children:u.map((function(e,a){return Object(y.jsxs)("div",{className:c===e.bTokenSymbol?"coin-box checked-base":"coin-box",onClick:function(){n(e.bTokenId,e.bTokenSymbol)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol)}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol}),Object(y.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 ",Object(y.jsx)(h.a,{width:"50px",value:e.apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),("v3"===s||"v3_lite"===s)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("span",{children:[" +  ",Object(y.jsx)(h.a,{width:"50px",value:e.supplyApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2}),"  + "]}),Object(y.jsx)(h.a,{width:"50px",value:e.xvsApy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]})]})]})]}),e.staked&&Object(y.jsx)("img",{src:B.a,alt:""})]})}))}),"v2_lite_open"===s&&Object(y.jsx)(y.Fragment,{children:u.map((function(e,a){return Object(y.jsxs)("div",{className:"coin-box checked-base",onClick:function(){n(e.bTokenId)},children:[Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(e.bTokenSymbol),children:Object(y.jsx)("img",{alt:"",onError:p,src:"https://raw.githubusercontent.com/deri-finance/deri-open-zone/main/img/".concat(e.bTokenSymbol,".png")})}),Object(y.jsx)("div",{className:"apy-base-staked",children:Object(y.jsx)("div",{className:"base-name",children:e.bTokenSymbol})})]}),e.staked&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:B.a,alt:""}),t.staked]})]})}))}),"lp"===l&&i.length&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{className:"coin-box checked-base",children:Object(y.jsxs)("div",{className:"base-apy-info",children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(i[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(i[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"apy-base-staked",children:[Object(y.jsx)("div",{className:"base-name",children:c}),Object(y.jsxs)("div",{className:"base-apy",children:[Object(f.v)(a)&&Object(y.jsxs)(y.Fragment,{children:[t.apy," \xa0 ",Object(y.jsx)(h.a,{value:i[1].apy,suffix:"%",displayType:"text",allowZero:!0,decimalScale:2})]}),Object(f.B)(a)&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(E.a,{text:"".concat(t.apy," ").concat((+i[1].apy).toFixed(2)," %"),tip:t["deri-apy"]}),"\xa0 + \xa0 ",Object(y.jsx)(E.a,{text:"".concat(t.apy,"  ").concat((+i[1].lpApy).toFixed(2)," %"),tip:t["sushi-apy"]})]})]})]})]})})})]}),Object(y.jsx)("div",{className:"slide-icon right",children:Object(y.jsx)(R.a,{token:"arrow-right",width:"24",height:"24"})})]})]})}var U=S[g.DeriEnv.get()].chainInfo;t.default=Object(b.b)("wallet","poolManager")(Object(b.c)((function(e){var t,a=e.lang,c=e.wallet,b=void 0===c?{}:c,j=e.poolManager,p=e.getLang,x=Object(l.i)(),h=x.version,v=x.chainId,O=x.address,k=x.type,S=Object(o.useState)(),E=Object(r.a)(S,2),L=E[0],A=E[1],D=Object(o.useState)(""),R=Object(r.a)(D,2),z=R[0],Z=R[1],W=Object(o.useState)(!1),M=Object(r.a)(W,2),V=M[0],H=M[1],J=Object(o.useState)(""),K=Object(r.a)(J,2),X=K[0],Y=K[1],G=Object(o.useState)([]),Q=Object(r.a)(G,2),ee=Q[0],te=Q[1],ae=Object(o.useState)({}),ne=Object(r.a)(ae,2),ce=ne[0],ie=ne[1],se=Object(T.a)(),re=Object(o.useState)(""),oe=Object(r.a)(re,2),le=oe[0],de=oe[1],be=Object(o.useState)(),ue=Object(r.a)(be,2),je=ue[0],pe=ue[1],xe=Object(o.useState)({}),fe=Object(r.a)(xe,2),he=fe[0],ve=fe[1],me=U[v]&&U[v].name,Oe=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isConnected()){e.next=17;break}if(t=[b.detail.chainId,O,b.detail.account],a=null,!X.isLp){e.next=9;break}return e.next=6,m.a.request("getLpWalletBalance",t);case 6:a=e.sent,e.next=16;break;case 9:if("v3"===h||"v3_lite"===h?t.push(L):t.push(z),"v2_lite_open"!==h){e.next=13;break}return e.next=13,g.openConfigListCache.update();case 13:return e.next=15,m.a.request("getBTokenBalance",t);case 15:a=e.sent;case 16:pe(a);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){Oe(),Ne(),Se()},ke=Object(o.useMemo)((function(){var e;return e={},Object(n.a)(e,a.add,{content:Object(y.jsx)(w,{getLang:p,poolConfig:X,isLp:k,wallet:b,afterTransaction:ge,version:h,bTokenId:z,address:O,lang:a,type:"add",poolInfo:ce,baseToken:L,walletBalance:je}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(n.a)(e,a.remove,{content:Object(y.jsx)(w,{getLang:p,isLp:k,poolConfig:X,wallet:b,afterTransaction:ge,lang:a,address:O,type:"remove",bTokenId:z,poolInfo:ce,balance:ce,baseToken:L,version:h}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),e}),[a,p,X,k,b,h,z,O,L,je,ce]),ye=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.load();case 2:if(t=j.pools,"lp"!==k){e.next=7;break}return e.next=6,j.loadDoubleMingingPool();case 6:t=j.lpPools;case 7:if("v2_lite_open"!==h){e.next=11;break}return e.next=10,j.loadOpen();case 10:t=j.openPools;case 11:t=(t=t.filter((function(e){return e.address===O})))[0],t.bTokens[0].bTokenSymbol,Object(f.v)(O)?"PANCAKE-LP":Object(f.B)(O)&&"DERI-USDT SLP",t.bTokens[0].bTokenId,a=(a=t.symbols.map((function(e){var t=[];return t.push(e.symbol),t}))).join(","),de(a),Y(t),te(t.bTokens);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=6;break}return e.next=3,X.getPoolInfo(b,X);case 3:return(t=e.sent).bTokensApy&&ee.map((function(e){if("v2"===h)e.apy=100*+t.bTokensApy.filter((function(t){return t.bTokenId===e.bTokenId}))[0].apy;else if("v2_lite_open"!==h&&"v3"!==h&&"v3_lite"!==h)e.apy=100*+t.bTokensApy[0].apy,Object(f.B)(O)&&(e.lpApy=t.lpApy);else if("v3"===h||"v3_lite"===h){var a=t.bTokensApy.find((function(t){return t.bTokenSymbol===e.bTokenSymbol}));a&&(e.apy=100*+a.apy,e.supplyApy=100*+a.supplyApy,e.xvsApy=100*+a.xvsApy)}return e})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,c,s,r,o,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!X){e.next=15;break}return e.next=4,X.getPoolInfo(b,X);case 4:if((a=e.sent).bTokensApy&&a.bTokensLiq&&("v2"===h&&z?(o=a.bTokensApy.filter((function(e){return e.bTokenId===z})),n=o[0].apy,l=o[0].multiplier,r=(r=a.bTokensLiq.filter((function(e){return e.bTokenId===z})))[0].liquidity):"v2_lite_open"!==h&&"v3"!==h&&"v3_lite"!==h?(n=a.bTokensApy[0].apy,r=a.bTokensLiq[0].liquidity):"v3"!==h&&"v3_lite"!==h||((o=a.bTokensApy.filter((function(e){return e.bTokenSymbol===L}))).length&&(n=o[0].apy,c=o[0].supplyApy,s=o[0].xvsApy,l=o[0].multiplier),(r=a.bTokensLiq.filter((function(e){return e.bTokenSymbol===L}))).length&&(r=r[0].liquidity)),t={total:r,apy:100*+n,supplyApy:100*+c,xvsApy:100*+s,multiplier:l}),!b.isConnected()){e.next=14;break}return e.next=9,X.getLiquidityInfo(b,O,X.version,X.isLp,k,L,z);case 9:d=e.sent,t=d,"v3"!==h&&"v3_lite"!==h||(t.supplyApy=100*+c,t.xvsApy=100*+s),t.apy=100*+n,t.multiplier=l;case 14:ie(t);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isConnected()||!X){e.next=9;break}return e.next=3,X.getIsStaked(b,X);case 3:(t=e.sent).bTokens&&ee.map((function(e){if("v2"===h&&"option"!==k)e.staked=t.bTokens.filter((function(t){return t.bTokenId===e.bTokenId}))[0].isStaked;else if("v3"===h||"v3_lite"===h){var a=t.bTokens.filter((function(t){return t.bTokenSymbol===e.bTokenSymbol}));e.staked=!!a.length&&a[0].isStaked}else e.staked=t.isStaked;return e})),a=[],ee.forEach((function(e,t){if(e.staked)return a.push(e),void ee.splice(t,1)})),ee.unshift.apply(ee,a),ee.length&&(n=ee[0].bTokenSymbol,Object(f.v)(O)?n="PANCAKE-LP":Object(f.B)(O)&&(n="DERI-USDT SLP"),c=ee[0].bTokenId,A(n),Z(c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="v3"!==h&&"v3_lite"!==h?X.bTokens.filter((function(e){return e.bTokenId===t})):X.bTokens.filter((function(e){return e.bTokenSymbol===a})),ie({}),Z(t),pe(""),A(n[0].bTokenSymbol),H();case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){b.detail.chainId&&b.detail.chainId!==v&&b.switchNetwork(se[v])}),[b.detail]),Object(o.useEffect)((function(){ye()}),[]),Object(o.useEffect)((function(){if(pe(""),ee.length&&(L||z)){var e,t={};if("v2"!==h)t=ee.filter((function(e){return e.bTokenSymbol===L}))[0];else if("v2"===h){t=ee.filter((function(e){return e.nowTokenId===z}))[0]}ve(t),"v2"===h&&"option"!==k?z&&(e=ee.filter((function(e){return e.bTokenId===z}))[0].staked):"lp"!==k&&(e=ee.filter((function(e){return e.bTokenSymbol===L}))[0].staked),H(e)}}),[ee,L,z]),Object(o.useEffect)((function(){we()}),[X,ee]),Object(o.useEffect)((function(){Ne(),Oe()}),[z,X,b.detail.account,L]),Object(o.useEffect)((function(){Se()}),[X,b.detail.account,ee]),Object(y.jsxs)("div",{className:"pool-detail",children:[Object(y.jsx)("div",{className:"back-pool",children:Object(y.jsx)(d.b,{to:"0x08aD0E0b4458183758fC5b9b6D27c372965fB780"===O||"0x66f501dda450C8978c4A1115D7b2A7FAa7702F05"===O||"0x574022307e60bE1f07da6Ec1cB8fE23d426e5831"===O?"/retired":"/pool",children:Object(y.jsxs)("div",{className:"icon-back",children:[Object(y.jsx)("img",{alt:"",src:C.default}),Object(y.jsx)("span",{children:a.back})]})})}),Object(y.jsxs)("div",{className:"pool-deatail-info",children:[Object(y.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(y.jsxs)("div",{className:"pool-info-text",children:[Object(y.jsxs)("div",{className:"pool-network-type",children:[Object(y.jsx)("div",{className:"network-logo",children:Object(y.jsx)("img",{alt:"",src:function(e){var t,a=+e;return 56===a||97===a?t=I.default:137===a?t=F.default:1===a&&(t=_.default),t}(v)})}),Object(y.jsxs)("div",{className:"pool-type-network-text",children:[Object(y.jsxs)("div",{className:"pool-type-text",children:["0xD2D950e338478eF7FeB092F840920B3482FcaC40"!==O&&Object(y.jsxs)(y.Fragment,{children:[a[X.type]," ",X[X.zone]]}),"0xD2D950e338478eF7FeB092F840920B3482FcaC40"===O&&Object(y.jsx)(y.Fragment,{children:a[X.zone]})]}),Object(y.jsx)("div",{className:"pool-network-text",children:me})]})]}),Object(y.jsxs)("div",{className:"pool-des",children:["lp"!==k&&a["amm-pool-des"],"clp"===h&&Object(y.jsx)(y.Fragment,{children:a["deri-pancake-pool"]}),"slp"===h&&Object(y.jsx)(y.Fragment,{children:a["deri-sushi-pool"]}),Object(y.jsx)("br",{}),"lp"!==k?Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-the-amm-liquidity-mining-on-deri-pools-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",a["learn-more"]]})}):Object(y.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(y.jsxs)("span",{className:"learn-more",children:[" ",a["learn-more"]]})})]})]}),Object(y.jsx)(P,{lang:a,address:O,checkoutBaseToken:Te,nowToken:L,bTokenList:ee,version:h,type:k})]}),Object(y.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(y.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(y.jsxs)("div",{className:"btoken-liquidity",children:["lp"!==k&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(L),children:"v2_lite_open"===h&&Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("img",{alt:"",onError:function(e){e.target.src=q.default},src:"https://raw.githubusercontent.com/deri-io/deri-open-zone/main/img/".concat(L,".png")})})}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[a.manage," ",L," ",a.liquidity]}),V&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:B.a,alt:""}),a.staked]})]})]}),"lp"===k&&ee.length&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"lp-btoken-logo",children:[Object(y.jsx)("div",{className:"btoken-logo ".concat(ee[0].bTokenSymbol)}),Object(y.jsx)("span",{className:"conect-logo",children:"+"}),Object(y.jsx)("div",{className:"btoken-logo ".concat(ee[1].bTokenSymbol)})]}),Object(y.jsxs)("div",{className:"manage-stake",children:[Object(y.jsxs)("div",{className:"manage",children:[a.manage," ",L," ",a.liquidity]}),V&&Object(y.jsxs)("div",{className:"stake",children:[Object(y.jsx)("img",{src:B.a,alt:""}),a.staked]})]})]})]}),Object(y.jsx)("div",{className:"deri-current-epoch",children:"v2_lite_open"!==h&&Object(y.jsx)(u.a,{poolShow:!1,lang:a,wallet:b})})]}),Object(y.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(y.jsx)($,(t={wallet:b,nowApy:he,poolInfo:ce,chainId:v,address:O,nowToken:L,lang:a},Object(n.a)(t,"poolInfo",ce),Object(n.a)(t,"version",h),Object(n.a)(t,"type",k),Object(n.a)(t,"poolConfig",X),Object(n.a)(t,"symbols",le),t)),Object(y.jsx)("div",{className:"add-remove-liquidity",children:Object(y.jsx)(N.a,{tabSet:ke,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0})})]})]})]})]})})))}}]);
//# sourceMappingURL=19.56870937.chunk.js.map