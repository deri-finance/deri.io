(this["webpackJsonpderi-client"]=this["webpackJsonpderi-client"]||[]).push([[22],{1517:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(65),r=n(9),c=n(32),s=n(6);const i=a.a.div`
    cursor: pointer;
    width:${e=>e.width}px;
    height:${e=>e.height}px;
    display:flex;
    .tab-left.inactive{
      border-radius:0px 0px 4px 0px;
    }
    .tab-right.inactive{
      border-radius:0px 0px 0px 4px;
    }
    .tab-left.active{
      border-radius:0px 4px 0px 0px;
      ${e=>e.borderR};
    }
    .tab-right.active{
      border-radius:4px 0px 0px 0px;
      ${e=>e.borderL};
    }
    .inactive,.active{
      width:50%;
      box-sizing: content-box;
      font-size:${e=>e.size}px;
      display: flex;
      align-items: center;
      justify-content: center;
      img{
        margin-right:${e=>e.iconMarginRight}px
      }
    }
    .inactive{
      background:${e=>e.inactiveBgColor};
      ${e=>e.borderB}
    }
    .active {
      color: ${e=>e.activeFontColor};
      background : ${e=>e.activeBgColor};
      ${e=>e.borderT};
    }
    .icon-tab{
      margin-right:20px;
      width:25px;
      height:25px;
    }
  `;function o(e){let{tabSet:t,inactiveBgColor:n,iconMarginRight:a,activeBgColor:o,icon:l,className:d,width:u=238,height:b=47,size:j=16,borderTop:h=!1,borderBottom:p=!1,divider:x=!1,activeIndex:f=0}=e,m=Object.keys(t);const[O,v]=Object(r.useState)(m[f]),[g,k]=Object(r.useState)(),[w,N]=Object(r.useState)(),[y,C]=Object(r.useState)(),[S,I]=Object(r.useState)(),[E,T]=Object(r.useState)(),[L,F]=Object(r.useState)();return Object(r.useEffect)((()=>{const e=Object.keys(t);v(e[f])}),[t,f]),Object(r.useEffect)((()=>{const e=Object.keys(t);let n=O||e[f];if(t[n]){k(t[n].style);let e=h?`border-top:1px solid ${t[n].borderColor}`:"border-top:0",a=p?`border-bottom:1px solid ${t[n].borderColor}`:"border-bottom:0",r=x?`border-left:1px solid ${t[n].borderColor}`:"border-left:0",c=x?`border-right:1px solid ${t[n].borderColor}`:"border-right:0",s=t[n].fontColor?t[n].fontColor:"#FFFFFF";N(e),C(r),I(a),T(c),F(s)}}),[t,O]),Object(s.jsxs)("div",{style:g,className:d,children:[Object(s.jsx)(i,{className:"tab-header",iconMarginRight:a,width:u,height:b,activeFontColor:L,activeBgColor:o,inactiveBgColor:n,size:j,borderT:w,borderB:S,borderL:y,borderR:E,children:m.map(((e,n)=>Object(s.jsxs)("div",{className:e===O?`${t[e].direction||t[e].className} active`:`${t[e].direction||t[e].className} inactive`,onClick:t=>function(e,t){v(e)}(e),children:[t[e].icon?Object(s.jsx)(c.a,{width:t[e].iconWidth,height:t[e].iconHeight,token:e===O?t[e].icon:t[e].inicon}):"","  ",e]},n)))}),t[O]?t[O].content:""]})}},1560:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(9),r=n(65),c=n(564),s=n(6);const i=r.a.div`
  .search-token{
  width: ${e=>e.width}px;
  height: ${e=>e.height}px;
  background: ${e=>e.bgColor};
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding:0 24px;
  border-radius:4px;
  img{
    width:18px;
    height:18px;
  }
  .search-input{
    border: 0;
    width:100%;
    height: 100%;
    background:transparent;
    outline-style: none;
    color: #FFFFFF;
    font-size: 18px;
    border-radius: 4px;
  }
}
`;function o(e){let{list:t,onChange:n,width:r="320",height:o="48",bgColor:l="rgba(85, 119, 253, 0.1)",searchName:d="bTokenSymbol",className:u,placeholder:b="Search",onFocus:j,onBlur:h}=e;const[p,x]=Object(a.useState)(""),[f,m]=Object(a.useState)(0),O=Object(a.useRef)([]);return Object(a.useEffect)((()=>{if(p){let e=p.toLocaleUpperCase();0===O.current.length&&(O.current=t,m(t.length));const a=O.current.filter((t=>t[d]&&t[d].toUpperCase().indexOf(e)>=0));n(a,e)}else n(O.current)}),[p]),Object(a.useEffect)((()=>{0===O.current.length&&m(t.length)}),[t]),Object(s.jsx)(i,{width:r,height:o,bgColor:l,className:u,children:Object(s.jsxs)("div",{className:"search-token",children:[Object(s.jsx)("input",{type:"text",className:"search-input",placeholder:b,value:p,onChange:e=>{(e=>{let t=e.target.value;x(t)})(e)}}),Object(s.jsx)("img",{src:c.default,alt:""})]})})}},1591:function(e,t,n){},1727:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,r=n(244),c=n(358),s=n(9),i=n(170),o=n(23),l={};function d(e,t,n,a){var d=Object(i.b)(),u=function(e){return l[e]}(e),b=u.address,j=u.abi,h=d.ethereum;return b&&(n=b),Object(s.useMemo)((function(){var e=Object(o.v)(t);return h&&h.networkVersion===String(t)&&!a&&(e=new c.a(h,"any")),e?new r.b(n,j,function(e,t){return t?function(e,t){return e.getSigner(t).connectUnchecked()}(e,t):e}(e,d.account)):null}),[n,j,d])}(a=n(1638)).keys().forEach((function(e){var t=e.split("/"),n=t[t.length-1];l[n.substring(0,n.indexOf("."))]=a(e)}))},1733:function(e,t,n){},1735:function(e,t,n){},1736:function(e,t,n){"use strict";t.a=n.p+"static/media/deri.99910f26.svg"},2593:function(e,t,n){"use strict";n.r(t);var a=n(368),r=n(2),c=n(12),s=n(0),i=n.n(s),o=n(9),l=n(74),d=n(66),u=n(216),b=n(1517),j=n(23),h=n(143),p=n(369),x=n(219),f=n(20),m=(n(1735),n(1591),n(557)),O=n(560),v=n(1736),g=n(1450),k=n.p+"static/media/no-nft.502d585f.svg",w=n(267),N=n(32),y=n(1560),C=n(215),S=n(16),I=n(1727),E=n(31),T=(n(1733),n(22));var L=n(71),F=n(6),q=h[f.DeriEnv.get()].chainInfo,P=h[f.DeriEnv.get()].chainInfo,R="0x96C3966534b4377691e11e163A0409Ad01667343";var D=function(e){e.wallet;var t,n=e.type,a=e.lang,s=e.getLang,l=e.afterTransaction,d=e.tokenIdList,u=(e.alert,e.NFTContract),b=e.PoolContract,h=e.address,p=Object(o.useState)(!1),x=Object(c.a)(p,2),f=x[0],m=x[1],O=Object(o.useState)([]),v=Object(c.a)(O,2),g=v[0],w=v[1],N=Object(o.useState)(!1),y=Object(c.a)(N,2),I=y[0],E=y[1],q=Object(o.useState)(a.approve),P=Object(c.a)(q,2),R=P[0],D=P[1],A=(t=u,Object(o.useMemo)((function(){return function(){var e=Object(r.a)(i.a.mark((function e(n,a,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t[n].apply(t,Object(T.a)(a).concat([r])));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}),[t])),$=["#824A4A","#69985E","#93A1B8","#377DFF","#59AE99"],B=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=0;case 2:if(!(n<d.length)){e.next=13;break}return e.next=5,u.getApproved(d[n]);case 5:a=e.sent,console.log("getApproved",a),r={},r=a&&a.toLocaleLowerCase()===h.toLocaleLowerCase()?{id:d[n],isApproved:!0}:{id:d[n],isApproved:!1},t.push(r);case 10:n++,e.next=2;break;case 13:console.log(t),w(t);case 15:case"end":return e.stop()}}),e)}))),[d,u]),H=Object(o.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,r,c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={text:"Approve",icon:"DERI"},a={success:"Approve ".concat(t),error:"Transaction failed"},t=+t,e.prev=3,r=[h,t],e.next=7,Object(j.r)(u,"approve",r);case 7:return c=e.sent,console.log(c),e.next=11,A("approve",r,{gasLimit:c});case 11:if(s=e.sent,console.log("approve",s),!s||!s.hash){e.next=17;break}L.a.emit(S.q,{title:n,content:a,hash:s.hash}),e.next=18;break;case 17:return e.abrupt("return",!1);case 18:return e.next=20,s.wait();case 20:if(o=e.sent,console.log("receipt",o),!o){e.next=33;break}if(console.log("receipt",o),!o||!o.transactionHash){e.next=33;break}if(l=o.transactionHash,!o.status){e.next=31;break}return L.a.emit(S.r,{title:n,content:a,context:{success:!0,hash:l,error:"error"}}),e.abrupt("return",!0);case 31:return L.a.emit(S.r,{title:n,content:a,context:{success:(!1).success,hash:l,error:"error"}}),e.abrupt("return",!1);case 33:e.next=39;break;case 35:return e.prev=35,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",!1);case 39:case"end":return e.stop()}}),e,null,[[3,35]])})));return function(t){return e.apply(this,arguments)}}(),[u]),_=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=g.find((function(e){return!e.isApproved})))){e.next=6;break}return e.next=4,H(t.id);case 4:e.sent,B();case 6:case"end":return e.stop()}}),e)}))),[g]),M=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t,r,c,o,d,u,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={text:a["add-liquidity-state"],icon:"DERI"},r={success:"".concat(s("add-baseToken-liquidity",{baseToken:"UNISWAP-LP"})),error:a["transaction-failed"]},e.prev=2,e.next=5,Object(j.r)(b,"deposit",[]);case 5:return c=e.sent,e.next=8,b["deposit()"]({gasLimit:c});case 8:if(o=e.sent,console.log("deposit",o),!o||!o.hash){e.next=14;break}L.a.emit(S.q,{title:t,content:r,hash:o.hash}),e.next=15;break;case 14:return e.abrupt("return",!1);case 15:return e.next=17,o.wait();case 17:if(d=e.sent,console.log("receipt",d),!d){e.next=32;break}if(console.log("receipt",d),!d||!d.transactionHash){e.next=32;break}if(u=d.transactionHash,h="add"===n?0:1,l&&l(h),!d.status){e.next=30;break}return L.a.emit(S.r,{title:t,content:r,context:{success:!0,hash:u,error:"error"}}),e.abrupt("return",!0);case 30:return L.a.emit(S.r,{title:t,content:r,context:{success:(!1).success,hash:u,error:"error"}}),e.abrupt("return",!1);case 32:e.next=38;break;case 34:return e.prev=34,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",!1);case 38:case"end":return e.stop()}}),e,null,[[2,34]])}))),[b,n]),z=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t,r,c,o,d,u,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={text:a["remove-liquidity-state"],icon:"DERI"},r={success:"".concat(s("remove-baseToken-liquidity",{baseToken:"UNISWAP-LP"})),error:a["transaction-failed"]},e.prev=2,e.next=5,Object(j.r)(b,"withdraw",[]);case 5:return c=e.sent,e.next=8,b["withdraw()"]({gasLimit:c});case 8:if(o=e.sent,console.log("withdraw",o),!o||!o.hash){e.next=14;break}L.a.emit(S.q,{title:t,content:r,hash:o.hash}),e.next=15;break;case 14:return e.abrupt("return",!1);case 15:return e.next=17,o.wait();case 17:if(d=e.sent,console.log("receipt",d),!d){e.next=32;break}if(console.log("receipt",d),u="add"===n?0:1,l&&l(u),!d||!d.transactionHash){e.next=32;break}if(h=d.transactionHash,!d.status){e.next=30;break}return L.a.emit(S.r,{title:t,content:r,context:{success:!0,hash:h,error:"error"}}),e.abrupt("return",!0);case 30:return L.a.emit(S.r,{title:t,content:r,context:{success:(!1).success,hash:h,error:"error"}}),e.abrupt("return",!1);case 32:e.next=38;break;case 34:return e.prev=34,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",!1);case 38:case"end":return e.stop()}}),e,null,[[2,34]])}))),[b,n]);return Object(o.useEffect)((function(){if(g.length){var e=g.find((function(e){return!e.isApproved}));if(e){var t="".concat(a.approve," ").concat(e.id);D(t)}else E(!0)}}),[g]),Object(o.useEffect)((function(){u&&d&&d.length&&"add"===n&&B()}),[d,u,n]),Object(o.useEffect)((function(){m(!d.length),E(!d.length),"remove"===n&&E(!0)}),[d,n]),Object(F.jsxs)("div",{className:"operate-liquidity-lp operate-liquidity",children:[d&&d.length?Object(F.jsxs)("div",{className:"add-remove-nft-box",children:[Object(F.jsxs)("div",{className:"unstaked-nft",children:["Your ","add"===n?"unstaked":"staked"," DERI/ETH LP NFTs"]}),Object(F.jsx)("div",{className:"tokenIdList",children:d&&d.map((function(e,t){return Object(F.jsxs)("div",{className:"tokenId-box",children:[Object(F.jsx)("div",{className:"color-box",style:{backgroundColor:$[t]}}),Object(F.jsx)("div",{className:"tokenId-text",children:e})]},"index")}))})]}):Object(F.jsxs)("div",{className:"no-nft-box",children:[Object(F.jsx)("img",{src:k,alt:""}),Object(F.jsx)("div",{children:"add"===n?"it seems you did not have DERI-ETH LP NFT in your wallet":"it seems you did not stake any  DERI-ETH LP NFT"})]}),Object(F.jsx)("div",{className:"add-remove-btn",children:I?Object(F.jsx)(C.a,{width:"331",fontSize:"18",disabled:f,label:"add"===n?a["add-liquidity"]:a["remove-liquidity"],type:S.C,onClick:"add"===n?M:z}):Object(F.jsx)(C.a,{width:"331",fontSize:"18",disabled:f,label:R,type:S.C,onClick:_})})]})};t.default=Object(d.b)("wallet","poolManager")(Object(d.c)((function(e){var t=e.lang,n=e.wallet,s=void 0===n?{}:n,d=e.poolManager,h=e.getLang,f=Object(l.i)(),k=f.chainId,C=f.address,T=Object(o.useState)("show"),A=Object(c.a)(T,2),$=A[0],B=A[1],H=Object(u.c)(),_="UNISWAP-LP",M=Object(o.useState)(""),z=Object(c.a)(M,2),U=z[0],X=z[1],W=Object(o.useState)([]),J=Object(c.a)(W,2),V=J[0],Y=J[1],G=Object(o.useState)(""),K=Object(c.a)(G,2),Q=K[0],Z=K[1],ee=Object(o.useState)(0),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],re=Object(x.a)(),ce=Object(o.useState)(!1),se=Object(c.a)(ce,2),ie=se[0],oe=se[1],le=Object(o.useState)([]),de=Object(c.a)(le,2),ue=de[0],be=de[1],je=Object(o.useState)([]),he=Object(c.a)(je,2),pe=he[0],xe=he[1],fe=Object(o.useState)([]),me=Object(c.a)(fe,2),Oe=me[0],ve=me[1],ge=Object(o.useState)([]),ke=Object(c.a)(ge,2),we=ke[0],Ne=ke[1],ye=Object(o.useState)(0),Ce=Object(c.a)(ye,2),Se=Ce[0],Ie=Ce[1],Ee=q[k]&&q[k].name,Te=Object(I.a)("ERC20",k,"0x21E60EE73F17AC0A411ae5D690f908c3ED66Fe12"),Le=Object(I.a)("ERC20",k,"0x82af49447d8a07e3bd95bd0d56f35241523fbab1"),Fe=Object(I.a)("IERC721",k),qe=Object(I.a)("arbitrumLp",k),Pe=Object(I.a)("arbitrumLp",k,!0),Re=Object(o.useRef)(),De=Object(o.useRef)(),Ae=function(){var e=Object(r.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe["getRewardInfo(address)"](s.detail.account);case 2:(t=e.sent)&&(n=E.a.from(t._hex).toString()/Math.pow(10,18),ae(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=Object(o.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout(Object(r.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,console.log("bTime",t.getTime()),n=pe.map(function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Pe.getSecondsPerLiquidityInsideX128(t);case 3:return(a=e.sent)&&(n.id=t,n.timestamp=E.a.from(a.timestamp._hex).toString(),n.secondsPerLiquidityInsideX128=E.a.from(a.secondsPerLiquidityInsideX128._hex).toString()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(n);case 5:n=e.sent,Ne(n);case 7:case"end":return e.stop()}}),e)}))),5e3);case 2:return e.abrupt("return",undefined);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[pe,Pe]),Be=(Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=pe.map(function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Pe.getSecondsPerLiquidityInsideX128(t);case 3:return(a=e.sent)&&(n.id=t,n.timestamp=E.a.from(a.timestamp._hex).toString(),n.secondsPerLiquidityInsideX128=E.a.from(a.secondsPerLiquidityInsideX128._hex).toString()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(n);case 4:n=e.sent,console.log("aTime",n),console.log("aTime",t.getTime()),$e(),ve(n);case 9:case"end":return e.stop()}}),e)}))),[pe,Pe]),Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Oe,we),t=we.map(function(){var e=Object(r.a)(i.a.mark((function e(t){var n,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe.find((function(e){return e.id===t.id})),a=n.secondsPerLiquidityInsideX128,console.log("getTimeRewardInfo",t,n),e.next=5,qe.getRewardInBetween(t.id,t.timestamp,a,t.secondsPerLiquidityInsideX128);case 5:if(!(r=e.sent)){e.next=9;break}return c={reward:E.a.from(r._hex).toString()/Math.pow(10,18),id:t.id,timestamp:t.timestamp-n.timestamp},e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(t);case 4:t=e.sent,console.log("getTimeRewardInfo",t);case 6:case"end":return e.stop()}}),e)}))),[Oe,we,qe]),function(e){Ae(),ze(),Ue(),Xe(),Ie(e)}),He=Object(o.useMemo)((function(){var e;return e={},Object(a.a)(e,t.add,{content:Object(F.jsx)(D,{type:"add",getLang:h,afterTransaction:Be,wallet:s,alert:H,address:C,lang:t,NFTContract:Fe,PoolContract:qe,tokenIdList:ue}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"add-icon",iconWidth:"25",iconHeight:"25",inicon:"inactive-add",direction:"tab-left"}),Object(a.a)(e,t.remove,{content:Object(F.jsx)(D,{type:"remove",getLang:h,afterTransaction:Be,wallet:s,alert:H,address:C,lang:t,PoolContract:qe,NFTContract:Fe,tokenIdList:pe}),style:{background:"linear-gradient(200.74deg, rgba(97, 122, 255, 0.1) -4.65%, rgba(223, 229, 255, 0) 50.94%, rgba(85, 91, 237, 0.05) 105.4%)"},borderColor:"#203B60",icon:"remove-icon",iconWidth:"25",iconHeight:"25",iconMarginRight:"20",inicon:"inactive-remove",direction:"tab-right"}),e}),[t,s,h,Be,ue,H,pe,Fe,qe,C]),_e=function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.loadDoubleMingingPool();case 2:t=(t=(t=d.lpPools).filter((function(e){return e.address===C})))[0],t.symbols.map((function(e){var t=[];return t.push(e.symbol),t})).join(","),X(t),Y(t.bTokens);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Object(r.a)(i.a.mark((function e(){var n,a,r,c,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==+ne){e.next=3;break}return H.error(t["no-deri-to-claim-yet"]),e.abrupt("return");case 3:return oe(!0),n={text:"Claim Deri",icon:"DERI"},a={success:t["claim-deri-reward"],error:t["transaction-failed"]},e.prev=6,r=[C],e.next=10,Object(j.r)(qe,"claim",r);case 10:return c=e.sent,console.log(c),e.next=14,qe.claim({gasLimit:c});case 14:if(s=e.sent,console.log("claim",s),!s||!s.hash){e.next=20;break}L.a.emit(S.q,{title:n,content:a,hash:s.hash}),e.next=23;break;case 20:return Ae(),oe(!1),e.abrupt("return",!1);case 23:return e.next=25,s.wait();case 25:o=e.sent,console.log("receipt",o),o&&(console.log("receipt",o),o&&o.transactionHash&&(l=o.transactionHash,o.status?(L.a.emit(S.r,{title:n,content:a,context:{success:!0,hash:l,error:"error"}}),s.success&&ae(0)):L.a.emit(S.r,{title:n,content:a,context:{success:(!1).success,hash:l,error:"error"}}))),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(6),console.error(e.t0);case 33:Ae(),oe(!1);case 35:case"end":return e.stop()}}),e,null,[[6,30]])})));return function(){return e.apply(this,arguments)}}(),ze=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t,n,a,r,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.detail.account){e.next=30;break}return e.next=3,Fe.balanceOf(s.detail.account);case 3:t=e.sent,t=E.a.from(t._hex).toString(),console.log("TokenList",t),n=[],a=0;case 8:if(!(a<t)){e.next=17;break}return e.next=11,Fe.tokenOfOwnerByIndex(s.detail.account,a);case 11:r=e.sent,r=E.a.from(r._hex).toString(),n.push(r);case 14:a++,e.next=8;break;case 17:c=[],o=0;case 19:if(!(o<n.length)){e.next=28;break}return e.next=22,qe.getPositionInfo(n[o]);case 22:l=e.sent,console.log(l),l[0].toLocaleLowerCase()===R.toLocaleLowerCase()&&(c.push(n[o]),console.log(n[o]));case 25:o++,e.next=19;break;case 28:console.log("deriTokenId",c),be(c);case 30:case"end":return e.stop()}}),e)}))),[Fe,s.detail.account,qe]),Ue=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.detail.account){e.next=7;break}return e.next=3,qe.getUserTokenIds(s.detail.account);case 3:t=(t=e.sent).map((function(e){return E.a.from(e._hex).toString()})),console.log("getStakedTokenIdList",t),xe(t);case 7:case"end":return e.stop()}}),e)}))),[qe,s.detail.account]),Xe=Object(o.useCallback)(Object(r.a)(i.a.mark((function e(){var t,n,a,r,c,s,o,l,d,u,b,h,p,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.balanceOf(R);case 2:return t=e.sent,e.next=5,Le.balanceOf(R);case 5:return n=e.sent,a="".concat("https://infoapi.deri.io","/stats_for_token"),r="https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=USD",e.next=10,fetch(a);case 10:return c=e.sent,e.next=13,c.json();case 13:return s=e.sent,e.next=16,fetch(r);case 16:return o=e.sent,e.next=19,o.json();case 19:l=e.sent,d=s.data.price,u=l.ethereum.usd,b=E.a.from(t._hex).toString()/Math.pow(10,18),h=E.a.from(n._hex).toString()/Math.pow(10,18),p=Object(j.a)(b).times(d).toNumber(),x=Object(j.a)(h).times(u).toNumber(),Z(p+x);case 28:case"end":return e.stop()}}),e)}))),[Te,Le]);return Object(o.useEffect)((function(){if(s.detail.chainId&&s.detail.chainId!==k&&s.switchNetwork(re[k]),s.isConnected()&&qe){var e=window.setInterval(Ae,3e4);return Ae(),function(){return clearInterval(e)}}}),[s.detail.chainId,s.detail.account,qe]),Object(o.useEffect)((function(){_e()}),[]),Object(o.useEffect)((function(){qe&&!De.current&&s.detail.account&&(Ue(),De.current=!0)}),[qe,s.detail.account]),Object(o.useEffect)((function(){Fe&&s.detail.account&&qe&&!Re.current&&(ze(),De.current=!0)}),[Fe,s.detail.account,qe]),Object(o.useEffect)((function(){Te&&Le&&Xe()}),[Te,Le]),Object(F.jsxs)("div",{className:"pool-detail",children:[Object(F.jsx)("div",{className:"back-pool",children:Object(F.jsxs)("div",{className:"icon-back",onClick:function(){window.history.back(-1)},children:[Object(F.jsx)("img",{alt:"",src:m.default}),Object(F.jsx)("span",{children:t.back})]})}),Object(F.jsxs)("div",{className:"pool-deatail-info",children:[Object(F.jsxs)("div",{className:"pool-detail-basetoken-info",children:[Object(F.jsxs)("div",{className:"pool-info-text",children:[Object(F.jsxs)("div",{className:"pool-network-type",children:[Object(F.jsx)("div",{className:"network-logo",children:Object(F.jsx)("img",{alt:"",src:O.default})}),Object(F.jsxs)("div",{className:"pool-type-network-text",children:[Object(F.jsxs)("div",{className:"pool-type-text",children:[t[U.type]," ",t[U.zone]]}),Object(F.jsx)("div",{className:"pool-network-text",children:Ee})]})]}),Object(F.jsxs)("div",{className:"pool-des",children:["Stake Uniswap ",Object(F.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://app.uniswap.org/#/add/ETH/0x21E60EE73F17AC0A411ae5D690f908c3ED66Fe12/3000",children:"DERI-ETH "})," LP NFTs to earn $DERI rewards.",Object(F.jsx)("br",{}),Object(F.jsx)("a",{rel:"norelerror",target:"_blank",href:"https://docs.deri.io/library/faqs/mining-faq#is-dex-liquidity-mining-on-sushiswap-sushiswap-onsen-and-pancakeswap-deri-risk-free",children:Object(F.jsxs)("span",{className:"learn-more",children:[" ",t["learn-more"]]})})]})]}),Object(F.jsxs)("div",{className:"select-basetoken-info",children:[Object(F.jsxs)("div",{className:"select-coin-title-search",children:[Object(F.jsxs)("div",{className:"select-coin-title",children:[" ",t["select-the-coin"]]}),Object(F.jsx)("div",{className:"search-box",children:Object(F.jsx)(y.a,{list:V,searchName:"bTokenSymbol",onChange:function(){}})})]}),Object(F.jsxs)("div",{className:"coin-search",children:[Object(F.jsx)("div",{className:"slide-icon left",children:Object(F.jsx)(N.a,{token:"arrow-left",width:"24",height:"24"})}),Object(F.jsx)("div",{className:"coin-list",children:V.length?Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:"coin-box checked-base",children:Object(F.jsxs)("div",{className:"base-apy-info",children:[Object(F.jsxs)("div",{className:"lp-btoken-logo",children:[Object(F.jsx)("div",{className:"btoken-logo ".concat(V[0].bTokenSymbol)}),Object(F.jsx)("span",{className:"conect-logo",children:"+"}),Object(F.jsx)("div",{className:"btoken-logo ".concat(V[1].bTokenSymbol)})]}),Object(F.jsxs)("div",{className:"apy-base-staked",children:[Object(F.jsx)("div",{className:"base-name",children:_}),Object(F.jsxs)("div",{className:"base-apy",children:[t.apy," \xa0 --"]})]})]})})}):null}),Object(F.jsx)("div",{className:"slide-icon right",children:Object(F.jsx)(N.a,{token:"arrow-right",width:"24",height:"24"})})]})]})]}),Object(F.jsxs)("div",{className:"pool-detail-add-remove-info",children:[Object(F.jsxs)("div",{className:"mining-deri-liquidity",children:[Object(F.jsx)("div",{className:"btoken-liquidity",children:V.length&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"lp-btoken-logo",children:[Object(F.jsx)("div",{className:"btoken-logo ".concat(V[0].bTokenSymbol)}),Object(F.jsx)("span",{className:"conect-logo",children:"+"}),Object(F.jsx)("div",{className:"btoken-logo ".concat(V[1].bTokenSymbol)})]}),Object(F.jsx)("div",{className:"manage-stake",children:Object(F.jsxs)("div",{className:"manage",children:[t.manage," ",_," ",t.liquidity]})})]})}),Object(F.jsx)("div",{className:"deri-current-epoch",children:Object(F.jsx)("div",{className:"mining-pool-claim",children:Object(F.jsxs)("div",{className:"mining-claim-info",children:[Object(F.jsxs)("span",{children:[" ",t["you-have"]]}),Object(F.jsxs)("span",{className:"".concat(0===+ne?"no-deri":""," mining-pool-num"),onClick:Me,children:[ie&&Object(F.jsx)(w.a,{}),Object(F.jsx)(g.a,{firstTime:!1,value:ne,decimalScale:2}),Object(F.jsx)("img",{src:v.a,alt:"deri"})]}),Object(F.jsx)("span",{children:t["claim-in-pool"]})]})})})]}),Object(F.jsxs)("div",{className:"mining-add-remove-liquidity",children:[Object(F.jsxs)("div",{className:"pool-info",children:[Object(F.jsxs)("div",{className:"pool-info-title",children:[Object(F.jsx)("div",{className:"pool-info-title-text",children:t["pool-info"]}),Object(F.jsxs)("div",{className:"down-up",children:["show"===$&&Object(F.jsx)("span",{onClick:function(){return B("hide")},children:Object(F.jsx)("img",{className:"up-icon",alt:"",src:p.default})}),"hide"===$&&Object(F.jsx)("span",{onClick:function(){return B("show")},children:Object(F.jsx)("img",{alt:"",src:p.default})})]})]}),Object(F.jsxs)("div",{className:"'pool-info-text' ".concat($),children:[Object(F.jsxs)("div",{className:"pool-info-text-one",children:[Object(F.jsxs)("div",{className:"info-box",children:[Object(F.jsx)("div",{className:"info-box-title",children:t.apy}),Object(F.jsx)("div",{className:"info-box-num",children:"--"})]}),Object(F.jsxs)("div",{className:"info-box",children:[Object(F.jsx)("div",{className:"info-box-title",children:t["pool-liquidity"]}),Object(F.jsxs)("div",{className:"info-box-num",children:["$ ",Object(F.jsx)(g.a,{value:Q,displayType:"text",decimalScale:0,thousandSeparator:!0})]})]}),Object(F.jsxs)("div",{className:"info-box",children:[Object(F.jsx)("div",{className:"info-box-title",children:t["staked-balance"]}),Object(F.jsxs)("div",{className:"info-box-num",children:[pe.length," ",Object(F.jsx)("a",{href:"https://arbiscan.io/address/0xC36442b4a4522E871399CD717aBDD847Ab11FE88",children:"DERI/ETH LP NFTs"})]})]})]}),Object(F.jsx)("div",{className:"pool-info-text-two",children:Object(F.jsxs)("div",{className:"info-box",children:[Object(F.jsx)("div",{className:"info-box-title",children:t["contract-address"]}),Object(F.jsx)("div",{className:"info-box-num",children:Object(F.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(P[k]&&P[k].viewUrl,"/address/").concat(C),children:Object(j.l)(C)})})]})})]})]}),Object(F.jsx)("div",{className:"add-remove-liquidity",children:Object(F.jsx)(b.a,{tabSet:He,iconMarginRight:"20",width:379,size:18,inactiveBgColor:"#0c192d",icon:"",borderBottom:!0,divider:!0,activeIndex:Se})})]})]})]})]})})))}}]);
//# sourceMappingURL=22.1cbc3657.chunk.js.map